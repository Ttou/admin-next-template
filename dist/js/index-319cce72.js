import{ab as g,ax as h,Z as y,a$ as w,b0 as b,aq as v,a9 as F,b1 as S,_ as V,ad as l,ae as B,av as I,aA as u,ak as o,aw as k,ag as t,b2 as q,aB as C,aC as M,aD as R}from"./chunk-libs-75b157d3.js";import{u as E,e as A,_ as $}from"./index-c1a74f59.js";const D=g({name:"LoginView",components:{Icon:h},setup(){const e=y({loading:!1,redirect:null,otherQuery:{},formRef:{},formModel:{username:"",password:""},formRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),r=w(),m=b(),p=E(),f=A(),_=v(()=>p.title);function a(){e.formRef.validate(s=>{s&&(e.loading=!0,f.login(e.formModel).then(()=>{m.replace({path:e.redirect||"/",query:e.otherQuery})}).finally(()=>{e.loading=!1}))})}return F(()=>{const{query:s}=r;if(s){const n=s.redirect;if(n){const{url:d,query:i}=S.parseUrl(n);e.redirect=d,e.otherQuery=i}}}),{...V(e),title:_,handleSubmit:a}}});const U=e=>(M("data-v-d11e0d63"),e=e(),R(),e),K={class:"view"},N={class:"headerWrap"},Q={class:"header"},x={class:"title"},z=U(()=>u("div",{class:"desc"},"基于 Element Plus 的后台管理系统",-1));function L(e,r,m,p,f,_){const a=l("Icon"),s=l("el-input"),n=l("el-form-item"),d=l("el-button"),i=l("el-form");return B(),I("div",K,[u("div",N,[u("div",Q,[o(a,{class:"logoIcon",icon:"logos:element"}),u("span",x,k(e.title),1)]),z]),o(i,{ref:"formRef",class:"loginForm",model:e.formModel,rules:e.formRules,size:"large"},{default:t(()=>[o(n,{prop:"username"},{default:t(()=>[o(s,{modelValue:e.formModel.username,"onUpdate:modelValue":r[0]||(r[0]=c=>e.formModel.username=c),placeholder:"账号：admin"},{prefix:t(()=>[o(a,{icon:"ep:user",inline:!0})]),_:1},8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:t(()=>[o(s,{modelValue:e.formModel.password,"onUpdate:modelValue":r[1]||(r[1]=c=>e.formModel.password=c),placeholder:"密码：任意",type:"password",onKeydown:q(e.handleSubmit,["enter"])},{prefix:t(()=>[o(a,{icon:"ep:lock",inline:!0})]),_:1},8,["modelValue","onKeydown"])]),_:1}),o(n,null,{default:t(()=>[o(d,{type:"primary",loading:e.loading,style:{width:"100%"},onClick:e.handleSubmit},{default:t(()=>[C(" 登录 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),o(a,{class:"backgroundIcon",icon:"custom:background"})])}const W=$(D,[["render",L],["__scopeId","data-v-d11e0d63"]]);export{W as default};
