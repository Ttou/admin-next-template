System.register(["./index-legacy-114b7a96.js","./chunk-libs-legacy-eb958ec7.js","./util-legacy-7a5ff054.js"],(function(e,t){"use strict";var i,a,n,r,o,l,d,s,u,c,f,g,m,p,h,y,v,x,b,R,k,C,P,H,S,w;return{setters:[e=>{i=e.d,a=e.u,n=e.T,r=e.e,o=e.f,l=e.h,d=e._},e=>{s=e.J,u=e.f,c=e.h,f=e.aR,g=e.r,m=e.aS,p=e.t,h=e.E,y=e.d,v=e.n,x=e.p,b=e.q,R=e.B,k=e.al,C=e.ar,P=e.z,H=e.aT,S=e.R},e=>{w=e.g}],execute:function(){const t={getList:e=>i.get("/demo/list",{params:e})};function z(e){const t=s(0),i=u((()=>t.value+"px")),n=a();return c((()=>{!function(){const i=document.querySelector("#page");t.value=i.scrollHeight-(n.fixedHeader?20:110)-(e?.extraHeight||0)}()})),{pageHeight:t,pageHeightPx:i}}function I(){const e=g({gridConfig:{id:w(),showOverflow:!0,border:!0,loading:!1,keepSource:!0,height:"auto",resizeConfig:{refreshDelay:10},toolbarConfig:{perfect:!0,custom:!0,refresh:!0,zoom:!0,slots:{buttons:"toolbar_buttons"}},editConfig:{trigger:"click",showStatus:!0},customConfig:{storage:!0},formConfig:{items:[{title:"账号",field:"account",itemRender:{name:n.Input,props:{placeholder:"请输入"}}},{title:"昵称",field:"nickname",itemRender:{name:n.Input,props:{placeholder:"请输入"}}},{title:"角色",field:"role",itemRender:{name:n.Select,options:[{label:"admin",value:"admin"},{label:"normal",value:"normal"}],props:{placeholder:"请选择"}}},{title:"状态",field:"status",itemRender:{name:n.Select,options:[{label:"禁用",value:"0"},{label:"启用",value:"1"}],props:{placeholder:"请选择"}}},{title:"时间",field:"date",itemRender:{name:n.DatePicker,props:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",format:"YYYY-MM-DD HH:mm:ss"}}},{itemRender:{name:r.FormItemBtns}}]},columns:[{type:"checkbox",width:50},{title:"ID",field:"id"},{title:"账号",field:"account"},{title:"邮箱",field:"email"},{title:"昵称",field:"nickname",editRender:{name:o.Input}},{title:"角色",field:"role"},{title:"状态",field:"status",editRender:{name:o.Select,options:[{label:"禁用",value:"0"},{label:"启用",value:"1"}]}},{title:"备注",field:"remark",editRender:{name:o.Input}},{title:"创建时间",field:"createTs",formatter:l.Date}],pagerConfig:{background:!0,layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],pageSize:15},proxyConfig:{seq:!0,form:!0,props:{result:"content",total:"total"},ajax:{query:async({page:e,form:i})=>(i.date&&(i.start=i.date[0],i.end=i.date[1],i=m(i,["date"])),await t.getList({pageSize:e.pageSize,current:e.currentPage,...i}))}}}}),i=function(e){const t=s();function i(){e.value.loading=!0}function a(){e.value.loading=!1}return{gridRef:t,updateFormItem:function(t){const i=e.value.formConfig?.items?.find((e=>e.field===t.field));f(i,t.key,t.value)},showLoading:i,hideLoading:a,refresh:async function(e){try{i(),await(e?.()),await(t.value?.commitProxy("query"))}finally{a()}}}}(p(e,"gridConfig"));return{...h(e),gridExtHook:i,handleCustomRefresh:function(){i.refresh()}}}const D=y({setup(){const{gridExtHook:e,...t}=I(),{pageHeightPx:i}=z();return{...t,gridRef:e.gridRef,pageHeightPx:i}}});e("default",d(D,[["render",function(e,t,i,a,n,r){const o=S,l=v("vxe-grid");return x(),b("div",{style:H({height:e.pageHeightPx})},[R(l,P({ref:"gridRef"},e.gridConfig),{toolbar_buttons:k((()=>[R(o,{type:"primary",link:"",onClick:e.handleCustomRefresh},{default:k((()=>[C(" 自定义刷新 ")])),_:1},8,["onClick"])])),_:1},16)],4)}]]))}}}));
