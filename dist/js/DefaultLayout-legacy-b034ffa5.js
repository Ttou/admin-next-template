System.register(["./chunk-libs-legacy-cdeaa629.js","./index-legacy-277aa4f5.js"],(function(e,t){"use strict";var n,a,l,o,i,r,s,c,u,d,m,_,h,p,b,f,g,y,v,k,x,C,S,M,w,T,$,I,O,D,J,R,W,Z,A,L,P,j,H,z,G,q,K,V,Y,N,B,E,F,Q,X,U,ee,te,ne;return{setters:[e=>{n=e.d,a=e.f,l=e.n,o=e.p,i=e.ak,r=e.al,s=e.B,c=e.b0,u=e.b1,d=e.b2,m=e.I,_=e.q,h=e.A,p=e.aX,b=e.aY,f=e.b3,g=e.s,y=e.aq,v=e.b4,k=e.v,x=e.F,C=e.b5,S=e.r,M=e.b6,w=e.ai,T=e.E,$=e.b7,I=e.b8,O=e.b9,D=e.ba,J=e.g,R=e.bb,W=e.ar,Z=e.bc,A=e.bd,L=e.af,P=e.G,j=e.h,H=e.aP,z=e.aO,G=e.be,q=e.aT,K=e.bf,V=e.bg,Y=e.bh,N=e.bi,B=e.bj},e=>{E=e.j,F=e._,Q=e.k,X=e.u,U=e.C,ee=e.i,te=e.g,ne=e.l}],execute:function(){var t=document.createElement("style");t.textContent=".logo__O3W1z{display:flex;justify-content:center;align-items:center;height:var(--side-logo-height)}.logo__O3W1z .logoIcon__gvzS2{transform:scale(2)}.menu__JeSdZ{border-right:none;min-height:calc(100vh - var(--side-logo-height))}.menu__JeSdZ .iconify{margin-right:12px;font-size:18px}.menu__JeSdZ.el-menu--collapse{width:var(--menu-collapse-width)}.menu__JeSdZ.el-menu--collapse .iconify{margin:0}.menu__JeSdZ.el-menu--collapse .el-sub-menu__title{justify-content:center;padding:0}.menu__JeSdZ>.el-menu-item:hover,.menu__JeSdZ .el-sub-menu__title:hover{background-color:var(--menu-hover)!important}.menu__JeSdZ .is-active>.el-sub-menu__title{color:var(--sub-menu-active-text)!important}.menu__JeSdZ .el-sub-menu .el-menu .el-sub-menu__title,.menu__JeSdZ .el-sub-menu .el-menu-item{background-color:var(--sub-menu-bg)!important}.menu__JeSdZ .nest-menu .el-sub-menu>.el-sub-menu__title:hover,.menu__JeSdZ .el-sub-menu .el-menu-item:hover{background-color:var(--sub-menu-hover)!important}.el-menu--popup .el-sub-menu>.el-sub-menu__title:hover{background-color:var(--sub-menu-hover)!important}.avatarWrapper__qJ38h{display:flex;align-items:center;outline:none}.avatarWrapper__qJ38h .avatar__XLkyv{width:24px;height:24px}.avatarDropdownMenu__vY1TP svg{margin-right:5px}.trigger__lcYms{margin-right:20px;font-size:18px;cursor:pointer;transition:color .3s}.navbar__JDd-o{display:flex;justify-content:space-between;align-items:center;height:100%}.navbar__JDd-o .left__Yp02w{display:flex;align-items:center;height:100%}.navbar__JDd-o .right__Z-Ibh{display:flex;align-items:center;height:100%;margin-right:-15px}.navbar__JDd-o .right__Z-Ibh .el-space__item{min-width:24px;cursor:pointer;text-align:center;line-height:48px}.navbar__JDd-o .right__Z-Ibh .el-space__item:hover{background-color:rgba(0,0,0,.024)}.tabbar__2iI-k{display:flex;justify-content:space-between;height:42px;padding:6px 12px;background-color:#f5f7f9;transition:all .2s ease;z-index:50}.tabbar__2iI-k .el-tabs__active-bar{display:none}.tabbar__2iI-k .el-tabs__nav-wrap:after{display:none}.tabbar__2iI-k .el-tabs__item{display:inline-flex;justify-content:center;align-items:center;height:32px;margin:0 6px 0 0;padding:5px 16px!important;background-color:#fff;border-radius:3px;border:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tabbar__2iI-k .tabsMenu__sonef{flex-grow:0;flex-shrink:0;width:30px;height:30px;line-height:30px;text-align:center;background-color:#fff;border-radius:2px;cursor:pointer;outline:none}.tabbar__2iI-k .tabsDropdownMenu__x75gy svg{margin-right:5px}.layout__Cm3G4{width:100%;height:100%}.layout__Cm3G4 .layoutSide__Qx-Oj{position:fixed;overflow:hidden;height:100vh;left:0;background-color:var(--menu-bg);z-index:100;transition:all .4s}.layout__Cm3G4 .layoutMain__RvQoN{background-color:#fff;transition:all .4s}.layout__Cm3G4 .layoutHeader__1O0br{padding:0 12px;background-color:#fff;z-index:100}.layout__Cm3G4 .layoutContent__0Ei-r{padding:12px 12px 0;overflow-x:hidden}.layout__Cm3G4 #page{background-color:#fff}.layout__Cm3G4 #page>.el-scrollbar__wrap>.el-scrollbar__view{display:flex;min-height:100%}\n",document.head.appendChild(t);const ae=n({name:"Content",setup(){const e=E();return{cachedTabs:a((()=>e.cachedTabs))}}}),le=F(ae,[["render",function(e,t,n,a,m,_){const h=l("router-view");return o(),i(h,null,{default:r((({Component:t,route:n})=>[s(d,{name:"fade-slide",mode:"out-in",appear:""},{default:r((()=>[(o(),i(c,{max:20,include:e.cachedTabs},[(o(),i(u(t),{key:n.fullPath}))],1032,["include"]))])),_:2},1024)])),_:1})}]]),oe=n({name:"Logo",components:{Icon:m}}),ie=F(oe,[["render",function(e,t,n,a,i,r){const c=l("Icon");return o(),_("div",{class:h(e.$style.logo)},[s(c,{class:h(e.$style.logoIcon),icon:"@local:custom:logo"},null,8,["class"])],2)}],["__cssModules",{$style:{logo:"logo__O3W1z",logoIcon:"logoIcon__gvzS2"}}]]),re=n({name:"MainMenu",components:{Icon:m},props:{item:{type:Object,required:!0}},setup(e){const t=p(),n=b();return{show:a((()=>!!e.item.meta&&!e.item.meta.hidden)),handleJump:function(){t.path!==e.item.path&&n.push(e.item.path).catch((e=>{console.error(e)}))}}}}),se=F(re,[["render",function(e,t,n,a,s,c){const u=l("Icon"),d=v;return e.show?(o(),i(d,{key:0,index:e.item.path,onClick:e.handleJump},{title:r((()=>[e.item.meta.icon?(o(),i(u,{key:0,icon:e.item.meta.icon},null,8,["icon"])):f("",!0),g("span",null,y(e.item.meta.title),1)])),_:1},8,["index","onClick"])):f("",!0)}]]),ce=n({name:"SubMenu",components:{Icon:m,MainMenu:se},props:{item:{type:Object,required:!0}},setup:e=>({onlyOneChild:a((()=>!(1!==e.item.children.length||e.item.meta&&e.item.meta.alwaysShow)))})}),ue=n({name:"Menu",components:{MainMenu:se,SubMenu:F(ce,[["render",function(e,t,n,a,s,c){const u=l("MainMenu"),d=l("Icon"),m=l("sub-menu",!0),h=C;return e.onlyOneChild?(o(),i(u,{key:0,item:e.item.children[0]},null,8,["item"])):(o(),i(h,{key:1,index:e.item.path},{title:r((()=>[e.item.meta.icon?(o(),i(d,{key:0,icon:e.item.meta.icon},null,8,["icon"])):f("",!0),g("span",null,y(e.item.meta.title),1)])),default:r((()=>[(o(!0),_(x,null,k(e.item.children,(e=>(o(),_(x,{key:e.path},[e.children?(o(),i(m,{key:0,item:e},null,8,["item"])):(o(),i(u,{key:1,item:e},null,8,["item"]))],64)))),128))])),_:1},8,["index"]))}]])},setup(){const e=S({list:[]}),t=p(),n=Q(),l=X(),o=a((()=>M(n.routes))),i=a((()=>l.$state)),r=a((()=>t.path));function s(e,t=""){for(const n of e)if(n.path=t+(n.path.startsWith("/")?n.path:`/${n.path}`),delete n.component,delete n.redirect,n.children){if(0===n.children.length)continue;s(n.children,n.path)}return e}function c(){const t=s(o.value);e.list=t}return w((()=>{c()})),{...T(e),CSS_VARS:U,activeMenu:r,setting:i}}}),de=F(ue,[["render",function(e,t,n,a,s,c){const u=l("SubMenu"),d=l("MainMenu"),m=$;return o(),i(m,{mode:"vertical",class:h(e.$style.menu),defaultActive:e.activeMenu,backgroundColor:e.CSS_VARS.menuBg,textColor:e.CSS_VARS.menuText,activeTextColor:e.CSS_VARS.menuActiveText,collapse:!e.setting.sideOpened,collapseTransition:!1,uniqueOpened:""},{default:r((()=>[(o(!0),_(x,null,k(e.list,(e=>(o(),_(x,{key:e.path},[e.children?(o(),i(u,{key:0,item:e},null,8,["item"])):(o(),i(d,{key:1,item:e},null,8,["item"]))],64)))),128))])),_:1},8,["class","defaultActive","backgroundColor","textColor","activeTextColor","collapse"])}],["__cssModules",{$style:{menu:"menu__JeSdZ"}}]]),me=n({name:"Avatar",components:{Icon:m},setup(){const e=S({commandMap:{logout:()=>{a.confirm("确认退出登录？","提示",{type:"warning"}).then((async()=>{await n.logout(),t.replace({path:"/login"})})).catch((()=>{}))}}}),t=b(),n=ee(),{$msgbox:a}=te();return{handleCommand:function(t){e.commandMap[t]()}}}}),_e={avatarWrapper:"avatarWrapper__qJ38h",avatar:"avatar__XLkyv",avatarDropdownMenu:"avatarDropdownMenu__vY1TP"},he=g("span",null,"退出登录",-1),pe=F(me,[["render",function(e,t,n,a,c,u){const d=l("Icon"),m=I,_=O,p=D;return o(),i(p,{onCommand:e.handleCommand},{default:r((()=>[g("div",{class:h(e.$style.avatarWrapper)},[s(d,{class:h(e.$style.avatar),icon:"@local:custom:avatar",inline:!0},null,8,["class"])],2)])),dropdown:r((()=>[s(_,{class:h(e.$style.avatarDropdownMenu)},{default:r((()=>[s(m,{command:"logout"},{default:r((()=>[s(d,{icon:"@local:icon-park-outline:logout",inline:!0}),he])),_:1})])),_:1},8,["class"])])),_:1},8,["onCommand"])}],["__cssModules",{$style:_e}]]),be=n({name:"Breadcrumb",setup(){const e=S({breadcrumbs:[]}),t=p();function n(){const n=t.matched,a=[];for(const e of n)"/"!==e.path&&a.push({path:e.path.startsWith("/")?e.path:`/${e.path}`,title:e.meta?.title||"-"});e.breadcrumbs=a}return J((()=>t.path),(e=>{e.startsWith("/redirect/")||n()})),w((()=>{n()})),{...T(e)}}}),fe=F(be,[["render",function(e,t,n,a,l,s){const c=Z,u=R;return o(),i(u,{class:h(e.$style.breadcrumb)},{default:r((()=>[(o(!0),_(x,null,k(e.breadcrumbs,((t,n)=>(o(),_(x,{key:t.path},[n===e.breadcrumbs.length-1?(o(),i(c,{key:0},{default:r((()=>[W(y(t.title),1)])),_:2},1024)):(o(),i(c,{key:1,to:{path:t.path}},{default:r((()=>[W(y(t.title),1)])),_:2},1032,["to"]))],64)))),128))])),_:1},8,["class"])}],["__cssModules",{$style:{breadcrumb:"breadcrumb__45QCe"}}]]),ge=n({name:"ScreenFull",components:{Icon:m},setup(){const{isFullscreen:e,isSupported:t,toggle:n}=A(),{$message:l}=te();return{icon:a((()=>e.value?"@local:icon-park-outline:off-screen":"@local:icon-park-outline:full-screen")),handleClick:function(){t?n():l.warning("浏览器不支持全屏")}}}}),ye=F(ge,[["render",function(e,t,n,a,i,r){const c=l("Icon");return o(),_("div",{title:"全屏",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[s(c,{icon:e.icon,inline:!0},null,8,["icon"])])}]]),ve=n({name:"Trigger",components:{Icon:m},setup(){const e=X(),t=a((()=>!e.sideOpened)),n=a((()=>t.value?"@local:icon-park-outline:menu-unfold":"@local:icon-park-outline:menu-fold"));return{collapsed:t,icon:n,handleClick:function(){e.change({key:"sideOpened",value:t.value})}}}}),ke=n({name:"Navbar",components:{Avatar:pe,Breadcrumb:fe,ScreenFull:ye,Trigger:F(ve,[["render",function(e,t,n,a,r,s){const c=l("Icon");return o(),i(c,{class:h(e.$style.trigger),icon:e.icon,onClick:e.handleClick},null,8,["class","icon","onClick"])}],["__cssModules",{$style:{trigger:"trigger__lcYms"}}]])}}),xe=F(ke,[["render",function(e,t,n,a,i,c){const u=l("Trigger"),d=l("Breadcrumb"),m=l("ScreenFull"),p=l("Avatar"),b=L;return o(),_("div",{class:h(e.$style.navbar)},[g("div",{class:h(e.$style.left)},[s(u),s(d)],2),g("div",{class:h(e.$style.right)},[s(b,{size:15},{default:r((()=>[s(m),s(p)])),_:1})],2)],2)}],["__cssModules",{$style:{navbar:"navbar__JDd-o",left:"left__Yp02w",right:"right__Z-Ibh"}}]]),Ce=n({name:"Tabbar",components:{Icon:m},setup(){const e=S({activeKey:"",commandMap:{refresh:()=>{l.delCachedTab(t).then((()=>{const{fullPath:e}=t;P((()=>{n.replace({path:"/redirect"+e})}))}))},closeLeft:()=>{l.delLeftTabs(t)},closeRight:()=>{l.delRightTabs(t)},closeOther:()=>{l.delOthersTabs(t)},closeAll:()=>{l.delAllTabs().then((({visitedTabs:e})=>{d(e)}))}}}),t=p(),n=b(),l=E(),o=X(),i=a((()=>l.visitedTabs)),r=a((()=>0===i.value.findIndex((t=>t.fullPath===e.activeKey)))),s=a((()=>i.value.findIndex((t=>t.fullPath===e.activeKey))===i.value.length-1)),c=a((()=>i.value.length<=1));function u(){const{name:n,path:a,fullPath:o}=t;return n&&-1===[ne.LOGIN,ne.ERROR].indexOf(a)&&(l.addTab(t),e.activeKey=o),!1}function d(e){const a=e.slice(-1)[0];a?n.push(a.fullPath):t.name===o.homeRoute.name?n.replace({path:"/redirect"+t.fullPath}):n.replace("/")}return J((()=>t.path),(()=>{u()})),j((()=>{u()})),{...T(e),visitedTabs:i,closeLeftDisabled:r,closeRightDisabled:s,closeOtherDisabled:c,handleCloseTab:function(t){const n=i.value.find((e=>e.fullPath===t));l.delTab(n).then((({visitedTabs:t})=>{(function(t){return e.activeKey===t.fullPath})(n)&&d(t)}))},handleSelectTab:function(e){n.push(e)},handleCommand:function(t){e.commandMap[t]()}}}}),Se=F(Ce,[["render",function(e,t,n,a,c,u){const d=z,m=H,p=l("Icon"),b=I,f=O,y=D;return o(),_("div",{class:h(e.$style.tabbar)},[s(m,{modelValue:e.activeKey,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeKey=t),onTabChange:e.handleSelectTab,onTabRemove:e.handleCloseTab},{default:r((()=>[(o(!0),_(x,null,k(e.visitedTabs,(e=>(o(),i(d,{key:e.fullPath,name:e.fullPath,label:e.meta.title,closable:""},null,8,["name","label"])))),128))])),_:1},8,["modelValue","onTabChange","onTabRemove"]),s(y,{placement:"bottom-end",onCommand:e.handleCommand},{default:r((()=>[g("div",{class:h(e.$style.tabsMenu)},[s(p,{icon:"@local:icon-park-outline:down",inline:!0})],2)])),dropdown:r((()=>[s(f,{class:h(e.$style.tabsDropdownMenu)},{default:r((()=>[s(b,{command:"refresh"},{default:r((()=>[s(p,{icon:"@local:icon-park-outline:redo",inline:!0}),W(" 刷新页面 ")])),_:1}),s(b,{command:"closeLeft",disabled:e.closeLeftDisabled,divided:""},{default:r((()=>[s(p,{icon:"@local:icon-park-outline:to-left",inline:!0}),W(" 关闭左侧 ")])),_:1},8,["disabled"]),s(b,{command:"closeRight",disabled:e.closeRightDisabled},{default:r((()=>[s(p,{icon:"@local:icon-park-outline:to-right",inline:!0}),W(" 关闭右侧 ")])),_:1},8,["disabled"]),s(b,{command:"closeOther",disabled:e.closeOtherDisabled,divided:""},{default:r((()=>[s(p,{icon:"@local:icon-park-outline:close",inline:!0}),W(" 关闭其它 ")])),_:1},8,["disabled"]),s(b,{command:"closeAll"},{default:r((()=>[s(p,{icon:"@local:icon-park-outline:close-one",inline:!0}),W(" 关闭所有 ")])),_:1})])),_:1},8,["class"])])),_:1},8,["onCommand"])],2)}],["__cssModules",{$style:{tabbar:"tabbar__2iI-k",tabsMenu:"tabsMenu__sonef",tabsDropdownMenu:"tabsDropdownMenu__x75gy"}}]]),[Me,we]=G(),[Te,$e]=G(),Ie=n({name:"DefaultLayout",components:{Content:le,Logo:ie,Menu:de,Navbar:xe,Tabbar:Se,DefineHeader:Me,ReuseHeader:we,DefineContent:Te,ReuseContent:$e},setup(){const e=X(),t=a((()=>e.$state)),n=a((()=>t.value.sideOpened?t.value.sideOpenedWidth:t.value.sideClosedWidth)),l=a((()=>{const e={};return t.value.sideOpened?(e.marginLeft=t.value.sideOpenedWidth,e.width=`calc(100vw - ${t.value.sideOpenedWidth})`):(e.marginLeft=t.value.sideClosedWidth,e.width=`calc(100vw - ${t.value.sideClosedWidth})`),e})),o=a((()=>{const e={height:U.headerHeight};return t.value.fixedHeader&&(e.position="sticky",e.top="0px"),e})),i=a((()=>{const e={};return t.value.fixedHeader&&(e.position="sticky",e.top=U.headerHeight),e}));return{setting:t,asideWidth:n,mainStyle:l,headerStyle:o,tabbarStyle:i}}});e("default",F(Ie,[["render",function(e,t,n,a,c,u){const d=l("Navbar"),m=K,p=l("DefineHeader"),b=l("Content"),f=V,g=l("DefineContent"),y=l("Logo"),v=l("Menu"),k=Y,C=N,S=l("ReuseHeader"),M=l("Tabbar"),w=l("ReuseContent"),T=B;return o(),_(x,null,[s(p,null,{default:r((()=>[s(m,{class:h(e.$style.layoutHeader),style:q(e.headerStyle)},{default:r((()=>[s(d)])),_:1},8,["class","style"])])),_:1}),s(g,null,{default:r((()=>[s(f,{class:h(e.$style.layoutContent)},{default:r((()=>[s(b)])),_:1},8,["class"])])),_:1}),s(T,{class:h(e.$style.layout)},{default:r((()=>[s(C,{class:h(e.$style.layoutSide),width:e.asideWidth},{default:r((()=>[s(y),s(k,null,{default:r((()=>[s(v)])),_:1})])),_:1},8,["class","width"]),e.setting.fixedHeader?(o(),i(T,{key:0,class:h(e.$style.layoutMain),style:q(e.mainStyle),direction:"vertical"},{default:r((()=>[s(S),s(M,{style:q(e.tabbarStyle)},null,8,["style"]),s(k,{id:"page"},{default:r((()=>[s(w)])),_:1})])),_:1},8,["class","style"])):(o(),i(k,{key:1},{default:r((()=>[s(T,{class:h(e.$style.layoutMain),style:q(e.mainStyle),direction:"vertical"},{default:r((()=>[s(S),s(M,{style:q(e.tabbarStyle)},null,8,["style"]),s(w)])),_:1},8,["class","style"])])),_:1}))])),_:1},8,["class"])],64)}],["__cssModules",{$style:{layout:"layout__Cm3G4",layoutSide:"layoutSide__Qx-Oj",layoutMain:"layoutMain__RvQoN",layoutHeader:"layoutHeader__1O0br",layoutContent:"layoutContent__0Ei-r"}}]]))}}}));
