import{d as g,aH as h,r as y,b3 as w,b4 as F,e as b,g as v,b5 as S,ah as V,au as l,av as B,aF as I,aK as u,aB as o,aG as M,ax as t,b6 as R,aL as k,aM as q,aN as C}from"./chunk-libs-c3002d95.js";import{u as E,i as A,_ as K}from"./index-28b7f4a5.js";const N=g({name:"LoginView",components:{Icon:h},setup(){const e=y({loading:!1,redirect:null,otherQuery:{},formRef:{},formModel:{username:"",password:""},formRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),r=w(),m=F(),p=E(),f=A(),_=b(()=>p.title);function n(){e.formRef.validate(s=>{s&&(e.loading=!0,f.login(e.formModel).then(()=>{m.replace({path:e.redirect||"/",query:e.otherQuery})}).finally(()=>{e.loading=!1}))})}return v(()=>{const{query:s}=r;if(s){const a=s.redirect;if(a){const{url:d,query:i}=S.parseUrl(a);e.redirect=d,e.otherQuery=i}}}),{...V(e),title:_,handleSubmit:n}}});const U=e=>(q("data-v-d11e0d63"),e=e(),C(),e),$={class:"view"},D={class:"headerWrap"},Q={class:"header"},L={class:"title"},x=U(()=>u("div",{class:"desc"},"基于 Element Plus 的后台管理系统",-1));function z(e,r,m,p,f,_){const n=l("Icon"),s=l("el-input"),a=l("el-form-item"),d=l("el-button"),i=l("el-form");return B(),I("div",$,[u("div",D,[u("div",Q,[o(n,{class:"logoIcon",icon:"logos:element"}),u("span",L,M(e.title),1)]),x]),o(i,{ref:"formRef",class:"loginForm",model:e.formModel,rules:e.formRules,size:"large"},{default:t(()=>[o(a,{prop:"username"},{default:t(()=>[o(s,{modelValue:e.formModel.username,"onUpdate:modelValue":r[0]||(r[0]=c=>e.formModel.username=c),placeholder:"账号：admin"},{prefix:t(()=>[o(n,{icon:"ep:user",inline:!0})]),_:1},8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:t(()=>[o(s,{modelValue:e.formModel.password,"onUpdate:modelValue":r[1]||(r[1]=c=>e.formModel.password=c),placeholder:"密码：任意",type:"password",onKeydown:R(e.handleSubmit,["enter"])},{prefix:t(()=>[o(n,{icon:"ep:lock",inline:!0})]),_:1},8,["modelValue","onKeydown"])]),_:1}),o(a,null,{default:t(()=>[o(d,{type:"primary",loading:e.loading,style:{width:"100%"},onClick:e.handleSubmit},{default:t(()=>[k(" 登录 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),o(n,{class:"backgroundIcon",icon:"custom:background"})])}const P=K(N,[["render",z],["__scopeId","data-v-d11e0d63"]]);export{P as default};
