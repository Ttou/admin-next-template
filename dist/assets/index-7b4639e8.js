import{I as w}from"./iconify-6440018a.js";import{u as B,b as Q}from"./vue-router-acd36729.js";import{b as T,u as L}from"./index-3f245db3.js";import"./ajax-676e8075.js";import{E as P,a as O}from"./index-3d0a535e.js";import{E as x}from"./index-53c7ee2a.js";import{E as k}from"./index-d91a418e.js";import{d as H,O as K,c as z,o as G,$ as Y,q as l,v as _}from"./runtime-core.esm-bundler-8c23b74b.js";import"./index-f8533f9f.js";import"./plugin-vue_export-helper-11364865.js";import"./index-fbb8de7a.js";import"./runtime-dom.esm-bundler-f4221b35.js";import"./index-11c4686d.js";import"./_baseClone-5b9aeaf1.js";import"./icon-390fc75b.js";import"./typescript-defaf979.js";const Z=a=>c=>{"key"in c&&c.key==="Enter"&&a()};var q={},J=a=>encodeURIComponent(a).replace(/[!'()*]/g,c=>`%${c.charCodeAt(0).toString(16).toUpperCase()}`),M="%[a-f0-9]{2}",$=new RegExp("("+M+")|([^%]+?)","gi"),R=new RegExp("("+M+")+","gi");function I(a,c){try{return[decodeURIComponent(a.join(""))]}catch{}if(a.length===1)return a;c=c||1;var f=a.slice(0,c),u=a.slice(c);return Array.prototype.concat.call([],I(f),I(u))}function W(a){try{return decodeURIComponent(a)}catch{for(var c=a.match($)||[],f=1;f<c.length;f++)a=I(c,f).join(""),c=a.match($)||[];return a}}function X(a){for(var c={"%FE%FF":"��","%FF%FE":"��"},f=R.exec(a);f;){try{c[f[0]]=decodeURIComponent(f[0])}catch{var u=W(f[0]);u!==f[0]&&(c[f[0]]=u)}f=R.exec(a)}c["%C2"]="�";for(var F=Object.keys(c),h=0;h<F.length;h++){var m=F[h];a=a.replace(new RegExp(m,"g"),c[m])}return a}var v=function(a){if(typeof a!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch{return X(a)}},rr=(a,c)=>{if(!(typeof a=="string"&&typeof c=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(c==="")return[a];const f=a.indexOf(c);return f===-1?[a]:[a.slice(0,f),a.slice(f+c.length)]},er=function(a,c){for(var f={},u=Object.keys(a),F=Array.isArray(c),h=0;h<u.length;h++){var m=u[h],y=a[m];(F?c.indexOf(m)!==-1:c(m,y,a))&&(f[m]=y)}return f};(function(a){const c=J,f=v,u=rr,F=er,h=r=>r==null,m=Symbol("encodeFragmentIdentifier");function y(r){switch(r.arrayFormat){case"index":return e=>(n,t)=>{const s=n.length;return t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[d(e,r),"[",s,"]"].join("")]:[...n,[d(e,r),"[",d(s,r),"]=",d(t,r)].join("")]};case"bracket":return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[d(e,r),"[]"].join("")]:[...n,[d(e,r),"[]=",d(t,r)].join("")];case"colon-list-separator":return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,[d(e,r),":list="].join("")]:[...n,[d(e,r),":list=",d(t,r)].join("")];case"comma":case"separator":case"bracket-separator":{const e=r.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(t,s)=>s===void 0||r.skipNull&&s===null||r.skipEmptyString&&s===""?t:(s=s===null?"":s,t.length===0?[[d(n,r),e,d(s,r)].join("")]:[[t,d(s,r)].join(r.arrayFormatSeparator)])}default:return e=>(n,t)=>t===void 0||r.skipNull&&t===null||r.skipEmptyString&&t===""?n:t===null?[...n,d(e,r)]:[...n,[d(e,r),"=",d(t,r)].join("")]}}function E(r){let e;switch(r.arrayFormat){case"index":return(n,t,s)=>{if(e=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!e){s[n]=t;return}s[n]===void 0&&(s[n]={}),s[n][e[1]]=t};case"bracket":return(n,t,s)=>{if(e=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!e){s[n]=t;return}if(s[n]===void 0){s[n]=[t];return}s[n]=[].concat(s[n],t)};case"colon-list-separator":return(n,t,s)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){s[n]=t;return}if(s[n]===void 0){s[n]=[t];return}s[n]=[].concat(s[n],t)};case"comma":case"separator":return(n,t,s)=>{const o=typeof t=="string"&&t.includes(r.arrayFormatSeparator),i=typeof t=="string"&&!o&&p(t,r).includes(r.arrayFormatSeparator);t=i?p(t,r):t;const g=o||i?t.split(r.arrayFormatSeparator).map(D=>p(D,r)):t===null?t:p(t,r);s[n]=g};case"bracket-separator":return(n,t,s)=>{const o=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!o){s[n]=t&&p(t,r);return}const i=t===null?[]:t.split(r.arrayFormatSeparator).map(g=>p(g,r));if(s[n]===void 0){s[n]=i;return}s[n]=[].concat(s[n],i)};default:return(n,t,s)=>{if(s[n]===void 0){s[n]=t;return}s[n]=[].concat(s[n],t)}}}function S(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(r,e){return e.encode?e.strict?c(r):encodeURIComponent(r):r}function p(r,e){return e.decode?f(r):r}function j(r){return Array.isArray(r)?r.sort():typeof r=="object"?j(Object.keys(r)).sort((e,n)=>Number(e)-Number(n)).map(e=>r[e]):r}function A(r){const e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function V(r){let e="";const n=r.indexOf("#");return n!==-1&&(e=r.slice(n)),e}function C(r){r=A(r);const e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function N(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function U(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),S(e.arrayFormatSeparator);const n=E(e),t=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return t;for(const s of r.split("&")){if(s==="")continue;let[o,i]=u(e.decode?s.replace(/\+/g," "):s,"=");i=i===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?i:p(i,e),n(p(o,e),i,t)}for(const s of Object.keys(t)){const o=t[s];if(typeof o=="object"&&o!==null)for(const i of Object.keys(o))o[i]=N(o[i],e);else t[s]=N(o,e)}return e.sort===!1?t:(e.sort===!0?Object.keys(t).sort():Object.keys(t).sort(e.sort)).reduce((s,o)=>{const i=t[o];return Boolean(i)&&typeof i=="object"&&!Array.isArray(i)?s[o]=j(i):s[o]=i,s},Object.create(null))}a.extract=C,a.parse=U,a.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),S(e.arrayFormatSeparator);const n=i=>e.skipNull&&h(r[i])||e.skipEmptyString&&r[i]==="",t=y(e),s={};for(const i of Object.keys(r))n(i)||(s[i]=r[i]);const o=Object.keys(s);return e.sort!==!1&&o.sort(e.sort),o.map(i=>{const g=r[i];return g===void 0?"":g===null?d(i,e):Array.isArray(g)?g.length===0&&e.arrayFormat==="bracket-separator"?d(i,e)+"[]":g.reduce(t(i),[]).join("&"):d(i,e)+"="+d(g,e)}).filter(i=>i.length>0).join("&")},a.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);const[n,t]=u(r,"#");return Object.assign({url:n.split("?")[0]||"",query:U(C(r),e)},e&&e.parseFragmentIdentifier&&t?{fragmentIdentifier:p(t,e)}:{})},a.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[m]:!0},e);const n=A(r.url).split("?")[0]||"",t=a.extract(r.url),s=a.parse(t,{sort:!1}),o=Object.assign(s,r.query);let i=a.stringify(o,e);i&&(i=`?${i}`);let g=V(r.url);return r.fragmentIdentifier&&(g=`#${e[m]?d(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${n}${i}${g}`},a.pick=(r,e,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[m]:!1},n);const{url:t,query:s,fragmentIdentifier:o}=a.parseUrl(r,n);return a.stringifyUrl({url:t,query:F(s,e),fragmentIdentifier:o},n)},a.exclude=(r,e,n)=>{const t=Array.isArray(e)?s=>!e.includes(s):(s,o)=>!e(s,o);return a.pick(r,t,n)}})(q);const tr="view__uyu0o",nr="top__w2bkm",ar="header__nY81t",sr="logoIcon__43qgn",ir="title__6yEth",cr="desc__ggigV",or="loginForm__PMp5G",fr="backgroundIcon__DZTQP",b={view:tr,top:nr,header:ar,logoIcon:sr,title:ir,desc:cr,loginForm:or,backgroundIcon:fr},Ar=H({name:"LoginView",setup(){const a=K({loading:!1,redirect:null,otherQuery:{},formRef:{},formModel:{username:"",password:""},formRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),c=B(),f=Q(),u=T(),F=L(),h=z(()=>u.title);function m(){a.formRef.validate(y=>{y&&(a.loading=!0,F.login(a.formModel).then(()=>{f.replace({path:a.redirect||"/",query:a.otherQuery})}).finally(()=>{a.loading=!1}))})}return G(()=>{const{query:y}=c;if(y){const E=y.redirect;if(E){const{url:S,query:d}=q.parseUrl(E);a.redirect=S,a.otherQuery=d}}}),{...Y(a),title:h,handleSubmit:m}},render(){return l("div",{class:b.view},[l("div",{class:b.top},[l("div",{class:b.header},[l(w,{class:b.logoIcon,icon:"logos:element"},null),l("span",{class:b.title},[this.title])]),l("div",{class:b.desc},[_("基于 Element Plus 的后台管理系统")])]),l(P,{ref:"formRef",class:b.loginForm,model:this.formModel,rules:this.formRules,size:"large"},{default:()=>[l(O,{prop:"username"},{default:()=>[l(x,{modelValue:this.formModel.username,"onUpdate:modelValue":a=>this.formModel.username=a,placeholder:"账号：admin"},{prefix:()=>l(w,{icon:"ep:user"},null)})]}),l(O,{props:"password"},{default:()=>[l(x,{modelValue:this.formModel.password,"onUpdate:modelValue":a=>this.formModel.password=a,type:"password",placeholder:"密码：任意",onKeydown:Z(this.handleSubmit)},{prefix:()=>l(w,{icon:"ep:lock"},null)})]}),l(O,null,{default:()=>[l(k,{type:"primary",loading:this.loading,onClick:this.handleSubmit,style:{width:"100%"}},{default:()=>[_("登录")]})]})]}),l(w,{class:b.backgroundIcon,icon:"custom:background"},null)])}});export{Ar as default};
