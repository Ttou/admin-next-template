System.register(["./chunk-libs-legacy-R6MPsxUQ.js","./index-legacy-ageo-dFb.js"],(function(e,t){"use strict";var i,a,r,o,n,l,d,s,u,c,f,g,m,p,h,y,x,v,b,k,C,R,P,H,w,S,I;return{setters:[e=>{i=e.N,a=e.f,r=e.h,o=e.aU,n=e.r,l=e.aV,d=e.t,s=e.v,u=e.d,c=e.al,f=e.am,g=e.aq,m=e.j,p=e.ao,h=e.au,y=e.p,x=e.aW,v=e.V},e=>{b=e.b,k=e.u,C=e.o,R=e.d,P=e.T,H=e.e,w=e.f,S=e.h,I=e._}],execute:function(){const t={getList:e=>b.get("/demo/list",{params:e})};function _(e){const t=i(0),o=a((()=>t.value+"px")),n=k();return r((()=>{!function(){const i=document.querySelector(".el-scrollbar__wrap.page");t.value=i.scrollHeight-(n.fixedHeader?24:114)-(e?.extraHeight||0)}()})),{pageHeight:t,pageHeightPx:o}}const z=[{label:"管理员",value:"admin"},{label:"普通用户",value:"normal"}],D=[{label:"禁用",value:"0"},{label:"启用",value:"1"}],q=C(z);function j(){const e=n({gridConfig:{id:R(),showOverflow:!0,border:!0,loading:!1,keepSource:!0,height:"auto",resizeConfig:{refreshDelay:10},toolbarConfig:{perfect:!0,custom:!0,refresh:!0,zoom:!0,slots:{buttons:"toolbar_buttons"}},editConfig:{trigger:"click",showStatus:!0},customConfig:{storage:!0},formConfig:{items:[{title:"账号",field:"account",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"昵称",field:"nickname",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"角色",field:"role",itemRender:{name:P.Select,options:z,props:{placeholder:"请选择"},attrs:{style:"width: 167px"}}},{title:"状态",field:"status",itemRender:{name:P.Select,options:D,props:{placeholder:"请选择"},attrs:{style:"width: 167px"}}},{title:"时间",field:"date",itemRender:{name:P.DatePicker,props:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",format:"YYYY-MM-DD HH:mm:ss"}}},{itemRender:{name:H.FormItemBtns}}]},columns:[{type:"checkbox",width:50},{title:"ID",field:"id"},{title:"账号",field:"account"},{title:"邮箱",field:"email"},{title:"昵称",field:"nickname",editRender:{name:w.Input}},{title:"角色",field:"role",formatter:({cellValue:e})=>q[e]},{title:"状态",field:"status",editRender:{name:w.Select,options:D}},{title:"备注",field:"remark",editRender:{name:w.Input}},{title:"创建时间",field:"createTs",formatter:S.Date}],pagerConfig:{background:!0,layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],pageSize:15},proxyConfig:{seq:!0,form:!0,props:{result:"content",total:"total"},ajax:{query:async({page:e,form:i})=>(i.date&&(i.start=i.date[0],i.end=i.date[1],i=l(i,["date"])),await t.getList({pageSize:e.pageSize,current:e.currentPage,...i}))}}}}),a=function(e){const t=i();function a(){e.value.loading=!0}function r(){e.value.loading=!1}return{gridRef:t,updateFormItem:function(t){const i=e.value.formConfig?.items?.find((e=>e.field===t.field));o(i,t.key,t.value)},showLoading:a,hideLoading:r,refresh:async function(e){try{a(),await(e?.()),await(t.value?.commitProxy("query"))}finally{r()}}}}(d(e,"gridConfig"));return{...s(e),gridExtHook:a,handleCustomRefresh:function(){a.refresh()}}}const J=u({setup(){const{gridExtHook:e,...t}=j(),{pageHeightPx:i}=_();return{...t,gridRef:e.gridRef,pageHeightPx:i}}});e("default",I(J,[["render",function(e,t,i,a,r,o){const n=v,l=c("vxe-grid");return f(),g("div",{style:x({height:e.pageHeightPx})},[m(l,y({ref:"gridRef"},e.gridConfig),{toolbar_buttons:p((()=>[m(n,{type:"primary",link:"",onClick:e.handleCustomRefresh},{default:p((()=>[h(" 自定义刷新 ")])),_:1},8,["onClick"])])),_:1},16)],4)}]]))}}}));
