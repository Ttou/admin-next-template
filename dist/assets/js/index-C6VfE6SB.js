import{d as _,I as g,r as h,b6 as y,b7 as F,f as b,h as w,b9 as S,v,au as E,av as I,az as V,aC as l,j as o,aD as k,ax as t,a_ as B,ba as C,aE as M,aK as R,aL as q,z as A,aX as D,V as K}from"./chunk-libs-CwqTQsJI.js";import{u as U,j as $,_ as z}from"./index-C5qALKjg.js";const N=_({name:"LoginView",components:{Icon:g},setup(){const e=h({loading:!1,redirect:null,otherQuery:{},formRef:{},formModel:{username:"",password:""},formRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),a=y(),c=F(),m=U(),p=$(),f=b(()=>m.title);function r(){e.formRef.validate(s=>{s&&(e.loading=!0,p.login(e.formModel).then(()=>{c.replace({path:e.redirect||"/",query:e.otherQuery})}).finally(()=>{e.loading=!1}))})}return w(()=>{const{query:s}=a;if(s){const n=s.redirect;if(n){const{url:u,query:d}=S.parseUrl(n);e.redirect=u,e.otherQuery=d}}}),{...v(e),title:f,handleSubmit:r}}}),Q=e=>(R("data-v-3e77cba1"),e=e(),q(),e),j={class:"view"},L={class:"headerWrap"},P={class:"header"},T={class:"title"},W=Q(()=>l("div",{class:"desc"},"基于 Element Plus 的后台管理系统",-1));function X(e,a,c,m,p,f){const r=E("Icon"),s=A,n=D,u=K,d=B;return I(),V("div",j,[l("div",L,[l("div",P,[o(r,{class:"logoIcon",icon:"@local:custom:logo"}),l("span",T,k(e.title),1)]),W]),o(d,{ref:"formRef",class:"loginForm",model:e.formModel,rules:e.formRules,size:"large"},{default:t(()=>[o(n,{prop:"username"},{default:t(()=>[o(s,{modelValue:e.formModel.username,"onUpdate:modelValue":a[0]||(a[0]=i=>e.formModel.username=i),placeholder:"账号：admin"},{prefix:t(()=>[o(r,{icon:"@local:icon-park-outline:user",inline:!0})]),_:1},8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:t(()=>[o(s,{modelValue:e.formModel.password,"onUpdate:modelValue":a[1]||(a[1]=i=>e.formModel.password=i),placeholder:"密码：任意",type:"password",onKeydown:C(e.handleSubmit,["enter"])},{prefix:t(()=>[o(r,{icon:"@local:icon-park-outline:lock",inline:!0})]),_:1},8,["modelValue","onKeydown"])]),_:1}),o(n,null,{default:t(()=>[o(u,{type:"primary",loading:e.loading,style:{width:"100%"},onClick:e.handleSubmit},{default:t(()=>[M(" 登录 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),o(r,{class:"backgroundIcon",icon:"@local:custom:background"})])}const J=z(N,[["render",X],["__scopeId","data-v-3e77cba1"]]);export{J as default};
