System.register(["./index-legacy-C5zsTIzo.js"],(function(e,t){"use strict";var n,r,a,o,i,l,u,c,s,f,d,g,m,p,h,v,y,b,x,R,k,C,P,w,H,S,D,j,z,I,F,O,_,q,L,J,Y,N,T,E;return{setters:[e=>{n=e.ad,r=e.ae,a=e.af,o=e.ag,i=e.ah,l=e.ai,u=e.aj,c=e.ak,s=e.al,f=e.am,d=e.an,g=e.ao,m=e.ap,p=e.r,h=e.L,v=e.aq,y=e.o,b=e.ar,x=e.as,R=e.at,k=e.s,C=e.au,P=e.av,w=e.aw,H=e.ax,S=e.ay,D=e.az,j=e.t,z=e.v,I=e.d,F=e.x,O=e.y,_=e.a,q=e.c,L=e.j,J=e.z,Y=e.D,N=e.m,T=e.a7,E=e.T}],execute:function(){var t="[object Object]",M=Function.prototype,V=Object.prototype,B=M.toString,A=V.hasOwnProperty,G=B.call(Object);function K(e,t){return null==(e=function(e,t){return t.length<2?e:o(e,i(t,0,-1))}(e,t=l(t,e)))||delete e[u((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r}function Q(e){return function(e){if(!n(e)||r(e)!=t)return!1;var o=a(e);if(null===o)return!0;var i=A.call(o,"constructor")&&o.constructor;return"function"==typeof i&&i instanceof i&&B.call(i)==G}(e)?void 0:e}var U=c((function(e,t){var n={};if(null==e)return n;var r=!1;t=s(t,(function(t){return t=l(t,e),r||(r=t.length>1),t})),f(e,d(e),n),r&&(n=g(n,7,Q));for(var a=t.length;a--;)K(n,t[a]);return n}));const W={getList:e=>m.get("/demo/list",{params:e})};function X(e){const t=p(0),n=h((()=>t.value+"px")),r=v();return y((()=>{!function(){const n=document.querySelector(".el-scrollbar__wrap.page");t.value=n.scrollHeight-(r.fixedHeader?24:114)-(e?.extraHeight||0)}()})),{pageHeight:t,pageHeightPx:n}}const Z=[{label:"管理员",value:"admin"},{label:"普通用户",value:"normal"}],$=[{label:"禁用",value:"0"},{label:"启用",value:"1"}],ee=R(Z);function te(){const e=k({gridConfig:{id:C(),showOverflow:!0,border:!0,loading:!1,keepSource:!0,height:"auto",resizeConfig:{refreshDelay:10},toolbarConfig:{perfect:!0,custom:!0,refresh:!0,zoom:!0,slots:{buttons:"toolbar_buttons"}},editConfig:{trigger:"click",showStatus:!0},customConfig:{storage:!0},formConfig:{items:[{title:"账号",field:"account",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"昵称",field:"nickname",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"角色",field:"role",itemRender:{name:P.Select,options:Z,props:{placeholder:"请选择"}}},{title:"状态",field:"status",itemRender:{name:P.Select,options:$,props:{placeholder:"请选择"}}},{title:"时间",field:"date",itemRender:{name:P.DatePicker,props:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",format:"YYYY-MM-DD HH:mm:ss"},defaultValue:[w(6),new Date]}},{itemRender:{name:H.FormItemBtns}}]},columns:[{type:"checkbox",width:50},{title:"ID",field:"id"},{title:"账号",field:"account"},{title:"邮箱",field:"email"},{title:"昵称",field:"nickname",editRender:{name:S.Input}},{title:"角色",field:"role",formatter:({cellValue:e})=>ee[e]},{title:"状态",field:"status",editRender:{name:S.Select,options:$}},{title:"备注",field:"remark",editRender:{name:S.Input}},{title:"创建时间",field:"createTs",formatter:D.Date}],pagerConfig:{background:!0,layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],pageSize:15},proxyConfig:{seq:!0,form:!0,props:{result:"content",total:"total"},ajax:{query:async({page:e,form:n})=>(n=function(e){return t.processFormDateRanges(e,{date:["start","end"]})}(n),await W.getList({pageSize:e.pageSize,current:e.currentPage,...n}))}}}}),t=function(e){const t=p();function n(){e.value.loading=!0}function r(){e.value.loading=!1}return{gridRef:t,updateFormItem:function(t){const n=e.value.formConfig?.items?.find((e=>e.field===t.field));b(n,t.key,t.value)},showLoading:n,hideLoading:r,refresh:async function(e){try{n(),await(e?.()),await(t.value?.commitProxy("query"))}finally{r()}},processFormDateRanges:function(e,t){const n=Object.keys(t);let r=x(e);for(const a of n){const e=t[a];r[a]?(r[e[0]]=r[a][0],r[e[1]]=r[a][1],r=U(r,[a])):r=U(r,e.concat(a))}return r}}}(j(e,"gridConfig"));return{...z(e),gridExtHook:t,handleCustomRefresh:function(){t.refresh()}}}const ne=I({setup(){const{gridExtHook:e,...t}=te(),{pageHeightPx:n}=X();return{...t,gridRef:e.gridRef,pageHeightPx:n}}});e("default",F(ne,[["render",function(e,t,n,r,a,o){const i=E,l=O("vxe-grid");return _(),q("div",{style:T({height:e.pageHeightPx})},[L(l,N({ref:"gridRef"},e.gridConfig),{toolbar_buttons:J((()=>[L(i,{type:"primary",link:"",onClick:e.handleCustomRefresh},{default:J((()=>[Y(" 自定义刷新 ")])),_:1},8,["onClick"])])),_:1},16)],4)}]]))}}}));
