System.register(["./element-legacy-D9ijBQTI.js","./vue-legacy-cuQ4BRdr.js"],(function(e,t){"use strict";var n,l,o,r,a,i,s,c,u,d,p,f,m,g,h,v,b,x,y,w,C,S,E,O;return{setters:[e=>{n=e.d},e=>{l=e.ae,o=e.w,r=e.$,a=e.h,i=e.ai,s=e.d,c=e.i,u=e.f,d=e.n,p=e.as,f=e.T,m=e.r,g=e.a8,h=e.J,v=e.o,b=e._,x=e.j,y=e.a2,w=e.g,C=e.aw,S=e.a9,E=e.ax,O=e.ay}],execute:function(){var t={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1},T=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var l=0,o=e.length;l<o;l++)t.call(n,e[l],l,e)},R=Object.prototype.toString,M=R,k=function(e){return function(t){return"[object "+e+"]"===M.call(t)}},D=k,I=Array.isArray||D("Array"),$=function(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)},F=$,N=function(e,t,n){if(e)for(var l in e)F(e,l)&&t.call(n,e[l],l,e)},L=I,A=T,P=N,j=function(e,t,n){return e?(L(e)?A:P)(e,t,n):e},V=function(e){return function(t){return typeof t===e}},B=V("function"),H=j,_=function(e,t){var n=Object[e];return function(e){var l=[];if(e){if(n)return n(e);H(e,t>1?function(t){l.push([""+t,e[t]])}:function(){l.push(arguments[t])})}return l}},z=_("keys",1),W=R,q=N,Y=T;function U(e,t){var n=e.__proto__.constructor;return t?new n(t):new n}function X(e,t){return t?G(e,t):e}function G(e,t){if(e)switch(W.call(e)){case"[object Object]":var n=Object.create(Object.getPrototypeOf(e));return q(e,(function(e,l){n[l]=X(e,t)})),n;case"[object Date]":case"[object RegExp]":return U(e,e.valueOf());case"[object Array]":case"[object Arguments]":var l=[];return Y(e,(function(e){l.push(X(e,t))})),l;case"[object Set]":var o=U(e);return o.forEach((function(e){o.add(X(e,t))})),o;case"[object Map]":var r=U(e);return r.forEach((function(e,n){r.set(n,X(e,t))})),r}return e}var K=function(e,t){return e?G(e,t):e},Z=T,J=z,Q=I,ee=K,te=Object.assign;function ne(e,t,n){for(var l,o=t.length,r=1;r<o;r++)l=t[r],Z(J(t[r]),n?function(t){e[t]=ee(l[t],n)}:function(t){e[t]=l[t]});return e}var le=function(e){if(e){var t=arguments;if(!0!==e)return te?te.apply(Object,t):ne(e,t);if(t.length>1)return ne(e=Q(e[1])?[]:{},t,!0)}return e},oe=t,re=T,ae=j,ie=B,se=le,ce=function(){};ce.VERSION="3.5.25",ce.mixin=function(){re(arguments,(function(e){ae(e,(function(e,t){ce[t]=ie(e)?function(){var t=e.apply(ce.$context,arguments);return ce.$context=null,t}:e}))}))},ce.setup=function(e){return se(oe,e)};var ue=ce,de=function(e,t,n){for(var l=e.length-1;l>=0;l--)t.call(n,e[l],l,e)},pe=de,fe=z,me=function(e,t,n){pe(fe(e),(function(l){t.call(n,e[l],l,e)}))},ge=function(e){return null===e},he=ge,ve=function(e,t){return function(n){return he(n)?t:n[e]}},be=j,xe=B,ye=ve,we=function(e,t,n){var l={};if(e){if(!t)return e;xe(t)||(t=ye(t)),be(e,(function(o,r){l[r]=t.call(n,o,r,e)}))}return l},Ce=function(e){return!!e&&e.constructor===Object},Se=I,Ee=Ce,Oe=j;function Te(e,t){return Ee(e)&&Ee(t)||Se(e)&&Se(t)?(Oe(t,(function(t,n){e[n]=Te(e[n],t)})),e):t}var Re=function(e){e||(e={});for(var t,n=arguments,l=n.length,o=1;o<l;o++)(t=n[o])&&Te(e,t);return e},Me=j,ke=function(e,t,n){var l=[];if(e&&arguments.length>1){if(e.map)return e.map(t,n);Me(e,(function(){l.push(t.apply(n,arguments))}))}return l},De=$,Ie=I,$e=function(e,t,n,l,o){return function(r,a,i){if(r&&a){if(e&&r[e])return r[e](a,i);if(t&&Ie(r)){for(var s=0,c=r.length;s<c;s++)if(!!a.call(i,r[s],s,r)===l)return[!0,!1,s,r[s]][n]}else for(var u in r)if(De(r,u)&&!!a.call(i,r[u],u,r)===l)return[!0,!1,u,r[u]][n]}return o}},Fe=$e("some",1,0,!0,!1),Ne=$e("every",1,1,!1,!0),Le=$,Ae=function(e,t){if(e){if(e.includes)return e.includes(t);for(var n in e)if(Le(e,n)&&t===e[n])return!0}return!1},Pe=I,je=Ae,Ve=function(e,t){var n,l=0;if(Pe(e)&&Pe(t)){for(n=t.length;l<n;l++)if(!je(e,t[l]))return!1;return!0}return je(e,t)},Be=j,He=Ae,_e=B,ze=ve,We=function(e,t,n){var l=[];if(t){_e(t)||(t=ze(t));var o,r={};Be(e,(function(a,i){o=t.call(n,a,i,e),r[o]||(r[o]=1,l.push(a))}))}else Be(e,(function(e){He(l,e)||l.push(e)}));return l},qe=ke,Ye=function(e){return qe(e,(function(e){return e}))},Ue=We,Xe=Ye,Ge=function(){for(var e=arguments,t=[],n=0,l=e.length;n<l;n++)t=t.concat(Xe(e[n]));return Ue(t)},Ke="undefined",Ze=V(Ke),Je=ge,Qe=Ze,et=function(e){return Je(e)||Qe(e)},tt=/(.+)?\[(\d+)\]$/,nt=function(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]},lt=tt,ot=nt,rt=$,at=Ze,it=et;function st(e,t){var n=t?t.match(lt):"";return n?n[1]?e[n[1]]?e[n[1]][n[2]]:void 0:e[n[2]]:e[t]}var ct=function(e,t,n){if(it(e))return n;var l=function(e,t){if(e){var n,l,o,r=0;if(e[t]||rt(e,t))return e[t];if(o=(l=ot(t)).length)for(n=e;r<o;r++)if(n=st(n,l[r]),it(n))return r===o-1?n:void 0;return n}}(e,t);return at(l)?n:l},ut=T,dt=Ye,pt=ke,ft=I,mt=B,gt=Ce,ht=Ze,vt=ge,bt=et,xt=ct,yt=ve,wt="asc",Ct="desc";function St(e,t){return ht(e)?1:vt(e)?ht(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function Et(e,t,n){return function(l,o){var r=l[e],a=o[e];return r===a?n?n(l,o):0:t.order===Ct?St(a,r):St(r,a)}}var Ot=function(e,t,n){if(e){if(bt(t))return dt(e).sort(St);for(var l,o=pt(e,(function(e){return{data:e}})),r=function(e,t,n,l){var o=[];return n=ft(n)?n:[n],ut(n,(function(n,r){if(n){var a,i=n;ft(n)?(i=n[0],a=n[1]):gt(n)&&(i=n.field,a=n.order),o.push({field:i,order:a||wt}),ut(t,mt(i)?function(t,n){t[r]=i.call(l,t.data,n,e)}:function(e){e[r]=i?xt(e.data,i):e.data})}})),o}(e,o,t,n),a=r.length-1;a>=0;)l=Et(a,r[a],l),a--;return l&&(o=o.sort(l)),pt(o,yt("data"))}return[]},Tt=Ot,Rt=function(e,t){return e>=t?e:(e>>=0)+Math.round(Math.random()*((t||9)-e))},Mt=_("values",0),kt=Rt,Dt=Mt,It=function(e){for(var t,n=[],l=Dt(e),o=l.length-1;o>=0;o--)t=o>0?kt(0,o):0,n.push(l[t]),l.splice(t,1);return n},$t=It,Ft=function(e,t){var n=$t(e);return arguments.length<=1?n[0]:(t<n.length&&(n.length=t||0),n)},Nt=function(e){return function(t){if(t){var n=e(t&&t.replace?t.replace(/,/g,""):t);if(!isNaN(n))return n}return 0}},Lt=Nt(parseFloat),At=Lt,Pt=function(e,t,n){var l=[],o=arguments.length;if(e){if(t=o>=2?At(t):0,n=o>=3?At(n):e.length,e.slice)return e.slice(t,n);for(;t<n;t++)l.push(e[t])}return l},jt=j,Vt=function(e,t,n){var l=[];if(e&&t){if(e.filter)return e.filter(t,n);jt(e,(function(o,r){t.call(n,o,r,e)&&l.push(o)}))}return l},Bt=$e("",0,2,!0),Ht=$e("find",1,3,!0),_t=I,zt=Mt,Wt=function(e,t,n){if(e){_t(e)||(e=zt(e));for(var l=e.length-1;l>=0;l--)if(t.call(n,e[l],l,e))return e[l]}},qt=z,Yt=function(e,t,n){if(e){var l,o,r=0,a=n,i=arguments.length>2,s=qt(e);if(e.length&&e.reduce)return o=function(){return t.apply(null,arguments)},i?e.reduce(o,a):e.reduce(o);for(i&&(r=1,a=e[s[0]]),l=s.length;r<l;r++)a=t.call(null,a,e[s[r]],r,e);return a}},Ut=I,Xt=function(e,t,n,l){if(Ut(e)&&e.copyWithin)return e.copyWithin(t,n,l);var o,r,a=t>>0,i=n>>0,s=e.length,c=arguments.length>3?l>>0:s;if(a<s&&(a=a>=0?a:s+a)>=0&&(i=i>=0?i:s+i)<(c=c>=0?c:s+c))for(o=0,r=e.slice(i,c);a<s&&!(r.length<=o);a++)e[a]=r[o++];return e},Gt=I,Kt=function(e,t){var n,l=[],o=t>>0||1;if(Gt(e))if(o>=0&&e.length>o)for(n=0;n<e.length;)l.push(e.slice(n,n+o)),n+=o;else l=e.length?[e]:e;return l},Zt=ke,Jt=ve,Qt=function(e,t){return Zt(e,Jt(t))},en=B,tn=et,nn=ct,ln=T,on=function(e){return function(t,n){var l,o;return t&&t.length?(ln(t,(function(r,a){n&&(r=en(n)?n(r,a,t):nn(r,n)),tn(r)||!tn(l)&&!e(l,r)||(o=a,l=r)})),t[o]):l}},rn=on((function(e,t){return e<t})),an=Qt,sn=rn,cn=function(e){var t,n,l,o=[];if(e&&e.length)for(t=0,l=(n=sn(e,(function(e){return e?e.length:0})))?n.length:0;t<l;t++)o.push(an(e,t));return o},un=cn,dn=function(){return un(arguments)},pn=Mt,fn=j,mn=function(e,t){var n={};return t=t||[],fn(pn(e),(function(e,l){n[e]=t[l]})),n},gn=I,hn=T;function vn(e,t){var n=[];return hn(e,(function(e){n=n.concat(gn(e)?t?vn(e,t):e:[e])})),n}var bn=function(e,t){return gn(e)?vn(e,t):[]},xn=ke,yn=I,wn=function(e,t){for(var n,l=arguments,o=[],r=[],a=2,i=l.length;a<i;a++)o.push(l[a]);if(yn(t)){for(i=t.length-1,a=0;a<i;a++)r.push(t[a]);t=t[i]}return xn(e,(function(e){if(r.length&&(e=function(e,t){for(var n=0,l=t.length;e&&n<l;)e=e[t[n++]];return l&&e?e:0}(e,r)),(n=e[t]||t)&&n.apply)return n.apply(e,o)}))},Cn=function(e,t){try{delete e[t]}catch(n){e[t]=void 0}},Sn=I,En=de,On=me,Tn=function(e,t,n){return e?(Sn(e)?En:On)(e,t,n):e},Rn=V("object"),Mn=Cn,kn=Ce,Dn=Rn,In=I,$n=ge,Fn=le,Nn=N,Ln=function(e,t,n){if(e){var l,o=arguments.length>1&&($n(t)||!Dn(t)),r=o?n:t;if(kn(e))Nn(e,o?function(n,l){e[l]=t}:function(t,n){Mn(e,n)}),r&&Fn(e,r);else if(In(e)){if(o)for(l=e.length;l>0;)l--,e[l]=t;else e.length=0;r&&e.push.apply(e,r)}}return e},An=Cn,Pn=B,jn=I,Vn=j,Bn=T,Hn=Tn,_n=Ln,zn=et,Wn=function(e,t,n){if(e){if(!zn(t)){var l=[],o=[];return Pn(t)||(r=t,t=function(e,t){return t===r}),Vn(e,(function(e,o,r){t.call(n,e,o,r)&&l.push(o)})),jn(e)?Hn(l,(function(t,n){o.push(e[t]),e.splice(t,1)})):(o={},Bn(l,(function(t){o[t]=e[t],An(e,t)}))),o}return _n(e)}var r;return e},qn=t,Yn=Ot,Un=K,Xn=et,Gn=j,Kn=Wn,Zn=le,Jn=function(e,t){var n,l,o,r=Zn({},qn.treeOptions,t),a=r.strict,i=r.key,s=r.parentKey,c=r.children,u=r.mapChildren,d=r.sortKey,p=r.reverse,f=r.data,m=[],g={},h={};return d&&(e=Yn(Un(e),d),p&&(e=e.reverse())),Gn(e,(function(e){n=e[i],h[n]=!0})),Gn(e,(function(e){n=e[i],f?(l={})[f]=e:l=e,o=e[s],g[n]=g[n]||[],g[o]=g[o]||[],g[o].push(l),l[i]=n,l[s]=o,l[c]=g[n],u&&(l[u]=g[n]),(!a||a&&Xn(o))&&(h[o]||m.push(l))})),a&&function(e,t){Gn(e,(function(e){e[t]&&!e[t].length&&Kn(e,t)}))}(e,c),m},Qn=t,el=j,tl=le;function nl(e,t,n){var l=n.children,o=n.data,r=n.clear;return el(t,(function(t){var a=t[l];o&&(t=t[o]),e.push(t),a&&a.length&&nl(e,a,n),r&&delete t[l]})),e}var ll=function(e,t){return nl([],e,tl({},Qn.treeOptions,t))},ol=function(e){return function(t,n,l,o){var r=l||{},a=r.children||"children";return e(null,t,n,o,[],[],a,r)}},rl=ol((function e(t,n,l,o,r,a,i,s){var c,u,d,p,f,m;if(n)for(u=0,d=n.length;u<d;u++){if(c=n[u],p=r.concat([""+u]),f=a.concat([c]),l.call(o,c,u,n,p,t,f))return{index:u,item:c,path:p,items:n,parent:t,nodes:f};if(i&&c&&(m=e(c,c[i],l,o,p.concat([i]),f,i)))return m}})),al=rl,il=j,sl=ol((function e(t,n,l,o,r,a,i,s){var c,u;il(n,(function(s,d){c=r.concat([""+d]),u=a.concat([s]),l.call(o,s,d,n,c,t,u),s&&i&&(c.push(i),e(s,s[i],l,o,c,u,i))}))})),cl=sl,ul=ke,dl=ol((function e(t,n,l,o,r,a,i,s){var c,u,d,p=s.mapChildren||i;return ul(n,(function(f,m){return c=r.concat([""+m]),u=a.concat([f]),(d=l.call(o,f,m,n,c,t,u))&&f&&i&&f[i]&&(d[p]=e(f,f[i],l,o,c,u,i,s)),d}))})),pl=dl,fl=cl,ml=function(e,t,n,l){var o=[];return e&&t&&fl(e,(function(e,n,r,a,i,s){t.call(l,e,n,r,a,i,s)&&o.push(e)}),n),o},gl=T,hl=le;function vl(e,t,n,l,o,r,a,i,s){var c,u,d,p,f,m=[],g=s.original,h=s.data,v=s.mapChildren||i,b=s.isEvery;return gl(n,(function(x,y){c=r.concat([""+y]),u=a.concat([x]),p=e&&!b||l.call(o,x,y,n,c,t,u),f=i&&x[i],p||f?(g?d=x:(d=hl({},x),h&&(d[h]=x)),d[v]=vl(p,x,x[i],l,o,c,u,i,s),(p||d[v].length)&&m.push(d)):p&&m.push(d)})),m}var bl=ol((function(e,t,n,l,o,r,a,i){return vl(0,e,t,n,l,o,r,a,i)})),xl=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,l=e.length;n<l;n++)if(t===e[n])return n},yl=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1},wl=V("number"),Cl=wl,Sl=function(e){return Cl(e)&&isNaN(e)},El=V("string"),Ol=k("Date"),Tl=parseInt,Rl=function(e){return e.getTime()},Ml=Tl,kl=function(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)},Dl=Rl,Il=El,$l=Ol;function Fl(e){return"(\\d{"+e+"})"}function Nl(e){return isNaN(e)?e:Ml(e)}for(var Ll=Fl(2),Al=Fl("1,2"),Pl=Fl("1,7"),jl=Fl("3,4"),Vl=".{1}",Bl=Vl+Al,Hl="(([zZ])|([-+]\\d{2}:?\\d{2}))",_l=[jl,Bl,Bl,Bl,Bl,Bl,Vl+Pl,Hl],zl=[],Wl=_l.length-1;Wl>=0;Wl--){for(var ql="",Yl=0;Yl<Wl+1;Yl++)ql+=_l[Yl];zl.push(new RegExp("^"+ql+"$"))}var Ul=[["yyyy",jl],["yy",Ll],["MM",Ll],["M",Al],["dd",Ll],["d",Al],["HH",Ll],["H",Al],["mm",Ll],["m",Al],["ss",Ll],["s",Al],["SSS",Fl(3)],["S",Pl],["Z",Hl]],Xl={},Gl=["\\[([^\\]]+)\\]"];for(Yl=0;Yl<Ul.length;Yl++){var Kl=Ul[Yl];Xl[Kl[0]]=Kl[1]+"?",Gl.push(Kl[0])}var Zl=new RegExp(Gl.join("|"),"g"),Jl={},Ql=function(e,t){if(e){var n=$l(e);if(n||!t&&/^[0-9]{11,15}$/.test(e))return new Date(n?Dl(e):Ml(e));if(Il(e)){var l=t?function(e,t){var n=Jl[t];if(!n){var l=[],o=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(Zl,(function(e,t){var n=e.charAt(0);return"["===n?t:(l.push(n),Xl[e])}));n=Jl[t]={_i:l,_r:new RegExp(o)}}var r={},a=e.match(n._r);if(a){for(var i=n._i,s=1,c=a.length;s<c;s++)r[i[s-1]]=a[s];return r}return r}(e,t):function(e){for(var t,n={},l=0,o=zl.length;l<o;l++)if(t=e.match(zl[l])){n.y=t[1],n.M=t[2],n.d=t[3],n.H=t[4],n.m=t[5],n.s=t[6],n.S=t[7],n.Z=t[8];break}return n}(e);if(l.y)return l.M&&(l.M=Nl(l.M)-1),l.S&&(l.S=(o=Nl(l.S.substring(0,3)))<10?100*o:o<100?10*o:o),l.Z?function(e){if(/^[zZ]/.test(e.Z))return new Date(kl(e));var t=e.Z.match(/([-+])(\d{2}):?(\d{2})/);return t?new Date(kl(e)-("-"===t[1]?-1:1)*Ml(t[2])*36e5+6e4*Ml(t[3])):new Date("")}(l):new Date(l.y,l.M||0,l.d||1,l.H||0,l.m||0,l.s||0,l.S||0)}}var o;return new Date("")},eo=function(){return new Date},to=Ol,no=Ql,lo=eo,oo=function(e){var t,n=e?no(e):lo();return!!to(n)&&(t=n.getFullYear())%4==0&&(t%100!=0||t%400==0)},ro=I,ao=$,io=function(e,t,n){if(e)if(ro(e))for(var l=0,o=e.length;l<o&&!1!==t.call(n,e[l],l,e);l++);else for(var r in e)if(ao(e,r)&&!1===t.call(n,e[r],r,e))break},so=I,co=$,uo=function(e,t,n){var l,o;if(e)if(so(e))for(l=e.length-1;l>=0&&!1!==t.call(n,e[l],l,e);l--);else for(l=(o=co(e)).length-1;l>=0&&!1!==t.call(n,e[o[l]],o[l],e);l--);},po=I,fo=El,mo=$,go=function(e,t){return function(n,l){if(n){if(n[e])return n[e](l);if(fo(n)||po(n))return t(n,l);for(var o in n)if(mo(n,o)&&l===n[o])return o}return-1}},ho=go("indexOf",xl),vo=go("lastIndexOf",yl),bo=I,xo=El,yo=j,wo=function(e){var t=0;return xo(e)||bo(e)?e.length:(yo(e,(function(){t++})),t)},Co=wl,So=function(e){return Co(e)&&isFinite(e)},Eo=I,Oo=ge,To=function(e){return!Oo(e)&&!isNaN(e)&&!Eo(e)&&e%1==0},Ro=I,Mo=To,ko=ge,Do=function(e){return!(ko(e)||isNaN(e)||Ro(e)||Mo(e))},Io=V("boolean"),$o=k("RegExp"),Fo=k("Error"),No=function(e){return!!e&&e.constructor===TypeError},Lo=function(e){for(var t in e)return!1;return!0},Ao=typeof Symbol!==Ke,Po=function(e){return Ao&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e},jo=k("Arguments"),Vo=El,Bo=wl,Ho=function(e){return!!(e&&Vo(e.nodeName)&&Bo(e.nodeType))},_o=typeof document===Ke?0:document,zo=_o,Wo=function(e){return!(!e||!zo||9!==e.nodeType)},qo=typeof window===Ke?0:window,Yo=qo,Uo=function(e){return!(!Yo||!e||e!==e.window)},Xo=typeof FormData!==Ke,Go=function(e){return Xo&&e instanceof FormData},Ko=typeof Map!==Ke,Zo=function(e){return Ko&&e instanceof Map},Jo=typeof WeakMap!==Ke,Qo=function(e){return Jo&&e instanceof WeakMap},er=typeof Set!==Ke,tr=function(e){return er&&e instanceof Set},nr=typeof WeakSet!==Ke,lr=function(e){return nr&&e instanceof WeakSet},or=B,rr=El,ar=I,ir=$,sr=function(e){return function(t,n,l){if(t&&or(n)){if(ar(t)||rr(t))return e(t,n,l);for(var o in t)if(ir(t,o)&&n.call(l,t[o],o,t))return o}return-1}},cr=sr((function(e,t,n){for(var l=0,o=e.length;l<o;l++)if(t.call(n,e[l],l,e))return l;return-1})),ur=cr,dr=wl,pr=I,fr=El,mr=$o,gr=Ol,hr=Io,vr=Ze,br=z,xr=Ne,yr=function e(t,n,l,o,r,a,i){if(t===n)return!0;if(t&&n&&!dr(t)&&!dr(n)&&!fr(t)&&!fr(n)){if(mr(t))return l(""+t,""+n,r,a,i);if(gr(t)||hr(t))return l(+t,+n,r,a,i);var s,c,u,d=pr(t),p=pr(n);if(d||p?d&&p:t.constructor===n.constructor)return c=br(t),u=br(n),o&&(s=o(t,n,r)),c.length===u.length&&(vr(s)?xr(c,(function(r,a){return r===u[a]&&e(t[r],n[u[a]],l,o,d||p?a:r,t,n)})):!!s)}return l(t,n,r,a,i)},wr=function(e,t){return e===t},Cr=yr,Sr=wr,Er=function(e,t){return Cr(e,t,Sr)},Or=z,Tr=ur,Rr=Er,Mr=Fe,kr=Ve,Dr=function(e,t){var n=Or(e),l=Or(t);return!l.length||(kr(n,l)?Mr(l,(function(l){return Tr(n,(function(n){return n===l&&Rr(e[n],t[l])}))>-1})):Rr(e,t))},Ir=yr,$r=wr,Fr=B,Nr=Ze,Lr=function(e,t,n){return Fr(n)?Ir(e,t,(function(e,t,l,o,r){var a=n(e,t,l,o,r);return Nr(a)?$r(e,t):!!a}),n):Ir(e,t,$r)},Ar=Po,Pr=Ol,jr=I,Vr=$o,Br=Fo,Hr=ge,_r=function(e){return Hr(e)?"null":Ar(e)?"symbol":Pr(e)?"date":jr(e)?"array":Vr(e)?"regexp":Br(e)?"error":typeof e},zr=0,Wr=function(e){return[e,++zr].join("")},qr=sr((function(e,t,n){for(var l=e.length-1;l>=0;l--)if(t.call(n,e[l],l,e))return l;return-1})),Yr=qr,Ur=Ce,Xr=El,Gr=function(e){if(Ur(e))return e;if(Xr(e))try{return JSON.parse(e)}catch(t){}return{}},Kr=et,Zr=function(e){return Kr(e)?"":JSON.stringify(e)},Jr=_("entries",2),Qr=B,ea=I,ta=j,na=ur,la=function(e,t){return function(n,l){var o,r,a={},i=[],s=this,c=arguments,u=c.length;if(!Qr(l)){for(r=1;r<u;r++)o=c[r],i.push.apply(i,ea(o)?o:[o]);l=0}return ta(n,(function(o,r){((l?l.call(s,o,r,n):na(i,(function(e){return e===r}))>-1)?e:t)&&(a[r]=o)})),a}},oa=la(1,0),ra=la(0,1),aa=Mt,ia=function(e){return aa(e)[0]},sa=Mt,ca=function(e){var t=sa(e);return t[t.length-1]},ua=tt,da=nt,pa=$,fa=function(e,t){if(e){if(pa(e,t))return!0;var n,l,o,r,a,i,s=da(t),c=0,u=s.length;for(a=e;c<u&&(i=!1,(r=(n=s[c])?n.match(ua):"")?(l=r[1],o=r[2],l?a[l]&&pa(a[l],o)&&(i=!0,a=a[l][o]):pa(a,o)&&(i=!0,a=a[o])):pa(a,n)&&(i=!0,a=a[n]),i);c++)if(c===u-1)return!0}return!1},ma=Tl,ga=nt,ha=$,va=/(.+)?\[(\d+)\]$/;function ba(e,t,n,l,o){if(!e[t]){var r,a,i=t?t.match(va):null;if(n)a=o;else{var s=l?l.match(va):null;a=s&&!s[1]?new Array(ma(s[2])+1):{}}return i?i[1]?(r=ma(i[2]),e[i[1]]?n?e[i[1]][r]=a:e[i[1]][r]?a=e[i[1]][r]:e[i[1]][r]=a:(e[i[1]]=new Array(r+1),e[i[1]][r]=a)):e[i[2]]=a:e[t]=a,a}return n&&(e[t]=o),e[t]}function xa(e){return"__proto__"===e||"constructor"===e||"prototype"===e}var ya=function(e,t,n){if(e)if(!e[t]&&!ha(e,t)||xa(t)){for(var l=e,o=ga(t),r=o.length,a=0;a<r;a++)if(!xa(o[a])){var i=a===r-1;l=ba(l,o[a],i,i?null:o[a+1],n)}}else e[t]=n;return e},wa=Lo,Ca=Rn,Sa=B,Ea=ve,Oa=j,Ta=function(e,t,n){var l,o={};return e&&(t&&Ca(t)?t=function(e){return function(){return wa(e)}}(t):Sa(t)||(t=Ea(t)),Oa(e,(function(r,a){l=t?t.call(n,r,a,e):r,o[l]?o[l].push(r):o[l]=[r]}))),o},Ra=Ta,Ma=N,ka=function(e,t,n){var l=Ra(e,t,n||this);return Ma(l,(function(e,t){l[t]=e.length})),l},Da=function(e,t,n){var l,o,r=[],a=arguments;if(a.length<2&&(t=a[0],e=0),o=t>>0,(l=e>>0)<t)for(n=n>>0||1;l<o;l+=n)r.push(l);return r},Ia=z,$a=Pt,Fa=Ae,Na=T,La=le,Aa=function(e,t){if(e&&t){var n=La.apply(this,[{}].concat($a(arguments,1))),l=Ia(n);Na(Ia(e),(function(t){Fa(l,t)&&(e[t]=n[t])}))}return e},Pa=on((function(e,t){return e>t})),ja=function(e){return(e.split(".")[1]||"").length},Va=Tl,Ba=function(e,t){if(e.repeat)return e.repeat(t);var n=isNaN(t)?[]:new Array(Va(t));return n.join(e)+(n.length>0?e:"")},Ha=function(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)},_a=Ba,za=Ha,Wa=function(e){var t=""+e,n=t.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(n){var l=e<0?"-":"",o=n[3]||"",r=n[5]||"",a=n[6]||"",i=n[7],s=n[8],c=s-a.length,u=s-o.length,d=s-r.length;return"+"===i?o?l+o+_a("0",s):c>0?l+r+a+_a("0",c):l+r+za(a,s):o?u>0?l+"0."+_a("0",Math.abs(u))+o:l+za(o,u):d>0?l+"0."+_a("0",Math.abs(d))+r+a:l+za(r,d)+a}return t},qa=ja,Ya=Wa,Ua=function(e,t){var n=Ya(e),l=Ya(t);return parseInt(n.replace(".",""))*parseInt(l.replace(".",""))/Math.pow(10,qa(n)+qa(l))},Xa=Ua,Ga=Lt,Ka=Wa,Za=function(e){return function(t,n){var l=Ga(t),o=l;if(l){n>>=0;var r=Ka(l).split("."),a=r[0],i=r[1]||"",s=i.substring(0,n+1),c=a+(s?"."+s:"");if(n>=i.length)return Ga(c);if(c=l,n>0){var u=Math.pow(10,n);o=Math[e](Xa(c,u))/u}else o=Math[e](c)}return o}},Ja=Za("round"),Qa=Za("ceil"),ei=Za("floor"),ti=et,ni=wl,li=Wa,oi=function(e){return ni(e)?li(e):""+(ti(e)?"":e)},ri=Ja,ai=oi,ii=Ba,si=Ha,ci=function(e,t){var n=ai(ri(e,t>>=0)).split("."),l=n[0],o=n[1]||"",r=t-o.length;return t?r>0?l+"."+o+ii("0",r):l+si(o,Math.abs(r)):l},ui=t,di=Ja,pi=Qa,fi=ei,mi=wl,gi=oi,hi=ci,vi=Wa,bi=le,xi=function(e,t){var n,l,o,r,a,i=bi({},ui.commafyOptions,t),s=i.digits;return mi(e)?(n=(i.ceil?pi:i.floor?fi:di)(e,s),r=(l=vi(s?hi(n,s):n).split("."))[0],a=l[1],(o=r&&n<0)&&(r=r.substring(1,r.length))):r=(l=(n=gi(e).replace(/,/g,""))?[n]:[])[0],l.length?(o?"-":"")+r.replace(new RegExp("(?=(?!(\\b))(.{"+(i.spaceNumber||3)+"})+$)","g"),i.separator||",")+(a?"."+a:""):n},yi=Nt(Tl),wi=Ua,Ci=Lt,Si=function(e,t){var n=Ci(e),l=Ci(t);return wi(n,l)},Ei=ja,Oi=Wa,Ti=Si,Ri=function(e,t){var n=Oi(e),l=Oi(t),o=Math.pow(10,Math.max(Ei(n),Ei(l)));return(Ti(e,o)+Ti(t,o))/o},Mi=Ri,ki=Lt,Di=function(e,t){return Mi(ki(e),ki(t))},Ii=ja,$i=Wa,Fi=Lt,Ni=ci,Li=function(e,t){var n=Fi(e),l=Fi(t),o=$i(n),r=$i(l),a=Ii(o),i=Ii(r),s=Math.pow(10,Math.max(a,i));return parseFloat(Ni((n*s-l*s)/s,a>=i?a:i))},Ai=ja,Pi=Wa,ji=Si,Vi=function(e,t){var n=Pi(e),l=Pi(t),o=Ai(n),r=Ai(l)-o,a=r<0,i=Math.pow(10,a?Math.abs(r):r);return ji(n.replace(".","")/l.replace(".",""),a?1/i:i)},Bi=Vi,Hi=Lt,_i=function(e,t){return Bi(Hi(e),Hi(t))},zi=Ri,Wi=B,qi=j,Yi=ct,Ui=function(e,t,n){var l=0;return qi(e,t?Wi(t)?function(){l=zi(l,t.apply(n,arguments))}:function(e){l=zi(l,Yi(e,t))}:function(e){l=zi(l,e)}),l},Xi=Vi,Gi=wo,Ki=Ui,Zi=function(e,t,n){return Xi(Ki(e,t,n),Gi(e))},Ji="first",Qi="last",es=function(e){return e.getFullYear()},ts=864e5,ns=function(e){return e.getMonth()},ls=Ol,os=Rl,rs=function(e){return ls(e)&&!isNaN(os(e))},as=Ji,is=Qi,ss=es,cs=Rl,us=ns,ds=Ql,ps=rs,fs=wl,ms=function e(t,n,l){var o=n&&!isNaN(n)?n:0;if(t=ds(t),ps(t)){if(l===as)return new Date(ss(t),us(t)+o,1);if(l===is)return new Date(cs(e(t,o+1,as))-1);if(fs(l)&&t.setDate(l),o){var r=t.getDate();if(t.setMonth(us(t)+o),r!==t.getDate())return t.setDate(1),new Date(cs(t)-864e5)}}return t},gs=Ji,hs=Qi,vs=es,bs=ms,xs=Ql,ys=rs,ws=function(e,t,n){var l;if(e=xs(e),ys(e)&&(t&&(l=t&&!isNaN(t)?t:0,e.setFullYear(vs(e)+l)),n||!isNaN(n))){if(n===gs)return new Date(vs(e),0,1);if(n===hs)return e.setMonth(11),bs(e,0,hs);e.setMonth(n)}return e},Cs=ms,Ss=Ql,Es=rs,Os=function(e,t,n){var l,o=t&&!isNaN(t)?3*t:0;return e=Ss(e),Es(e)?(l=3*(function(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}(e)-1),e.setMonth(l),Cs(e,o,n)):e},Ts=Ji,Rs=Qi,Ms=Tl,ks=es,Ds=ns,Is=Rl,$s=Ql,Fs=rs,Ns=function e(t,n,l){if(t=$s(t),Fs(t)&&!isNaN(n)){if(t.setDate(t.getDate()+Ms(n)),l===Ts)return new Date(ks(t),Ds(t),t.getDate());if(l===Rs)return new Date(Is(e(t,1,Ts))-1)}return t},Ls=function(e){return e.toUpperCase()},As=t,Ps=ts,js=Rl,Vs=Ql,Bs=rs,Hs=wl,_s=function(e,t,n,l){if(e=Vs(e),Bs(e)){var o=Hs(n),r=Hs(l),a=js(e);if(o||r){var i=r?l:As.firstDayOfWeek,s=e.getDay(),c=o?n:s;if(s!==c){var u=0;i>s?u=-(7-i+s):i<s&&(u=i-s),a+=c>i?((0===c?7:c)-i+u)*Ps:c<i?(7-i+c+u)*Ps:u*Ps}}return t&&!isNaN(t)&&(a+=6048e5*t),new Date(a)}return e},zs=t,Ws=wl,qs=rs,Ys=_s,Us=Rl,Xs=function(e){return function(t,n){var l=Ws(n)?n:zs.firstDayOfWeek,o=Ys(t,0,l,l);if(qs(o)){var r=new Date(o.getFullYear(),o.getMonth(),o.getDate()),a=e(o),i=a.getDay();return i>l&&a.setDate(7-i+l+1),i<l&&a.setDate(l-i+1),Math.floor((Us(r)-Us(a))/6048e5+1)}return NaN}},Gs=Xs((function(e){return new Date(e.getFullYear(),0,1)})),Ks=es,Zs=ns,Js=Rl,Qs=function(e){return new Date(Ks(e),Zs(e),e.getDate())},ec=Ji,tc=function(e){return Js(Qs(e))},nc=ws,lc=Ql,oc=rs,rc=function(e){return e=lc(e),oc(e)?Math.floor((tc(e)-tc(nc(e,0,ec)))/864e5)+1:NaN},ac=oi,ic=Ze,sc=Ba,cc=function(e,t,n){var l=ac(e);return t>>=0,n=ic(n)?" ":""+n,l.padStart?l.padStart(t,n):t>l.length?((t-=l.length)>n.length&&(n+=sc(n,t/n.length)),n.slice(0,t)+l):l},uc=t,dc=Ls,pc=es,fc=ns,mc=Ql,gc=Gs,hc=rc,vc=le,bc=rs,xc=B,yc=cc;function wc(e,t,n,l){var o=t[n];return o?xc(o)?o(l,n,e):o[l]:l}var Cc=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g,Sc=function(e,t,n){if(e){if(e=mc(e),bc(e)){var l=t||uc.parseDateFormat||uc.formatString,o=e.getHours(),r=o<12?"am":"pm",a=vc({},uc.parseDateRules||uc.formatStringMatchs,n?n.formats:null),i=function(t,n){return(""+pc(e)).substr(4-n)},s=function(t,n){return yc(fc(e)+1,n,"0")},c=function(t,n){return yc(e.getDate(),n,"0")},u=function(e,t){return yc(o,t,"0")},d=function(e,t){return yc(o<=12?o:o-12,t,"0")},p=function(t,n){return yc(e.getMinutes(),n,"0")},f=function(t,n){return yc(e.getSeconds(),n,"0")},m=function(t,n){return yc(e.getMilliseconds(),n,"0")},g=function(t,n){var l=e.getTimezoneOffset()/60*-1;return wc(e,a,t,(l>=0?"+":"-")+yc(l,2,"0")+(1===n?":":"")+"00")},h=function(t,l){return yc(wc(e,a,t,gc(e,(n?n.firstDay:null)||uc.firstDayOfWeek)),l,"0")},v=function(t,n){return yc(wc(e,a,t,hc(e)),n,"0")},b={yyyy:i,yy:i,MM:s,M:s,dd:c,d:c,HH:u,H:u,hh:d,h:d,mm:p,m:p,ss:f,s:f,SSS:m,S:m,ZZ:g,Z:g,WW:h,W:h,DDD:v,D:v,a:function(t){return wc(e,a,t,r)},A:function(t){return wc(e,a,t,dc(r))},e:function(t){return wc(e,a,t,e.getDay())},E:function(t){return wc(e,a,t,e.getDay())},q:function(t){return wc(e,a,t,Math.floor((fc(e)+3)/3))}};return l.replace(Cc,(function(e,t){return t||(b[e]?b[e](e,e.length):e)}))}return"Invalid Date"}return""},Ec=Rl,Oc=eo,Tc=Date.now||function(){return Ec(Oc())},Rc=Rl,Mc=Tc,kc=Ql,Dc=Ol,Ic=function(e,t){if(e){var n=kc(e,t);return Dc(n)?Rc(n):n}return Mc()},$c=Sc,Fc=function(e,t,n){return!(!e||!t)&&"Invalid Date"!==(e=$c(e,n))&&e===$c(t,n)},Nc=Xs((function(e){return new Date(e.getFullYear(),e.getMonth(),1)})),Lc=ws,Ac=Ql,Pc=rs,jc=oo,Vc=function(e,t){return e=Ac(e),Pc(e)?jc(Lc(e,t))?366:365:NaN},Bc=Ji,Hc=Qi,_c=Rl,zc=ms,Wc=Ql,qc=rs,Yc=function(e,t){return e=Wc(e),qc(e)?Math.floor((_c(zc(e,t,Hc))-_c(zc(e,t,Bc)))/864e5)+1:NaN},Uc=Rl,Xc=eo,Gc=Ql,Kc=rs,Zc=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]],Jc=function(e,t){var n,l,o,r,a,i,s={done:!1,time:0};if(e=Gc(e),t=t?Gc(t):Xc(),Kc(e)&&Kc(t)&&(n=Uc(e))<(l=Uc(t)))for(r=s.time=l-n,s.done=!0,i=0,a=Zc.length;i<a;i++)r>=(o=Zc[i])[1]?i===a-1?s[o[0]]=r||0:(s[o[0]]=Math.floor(r/o[1]),r-=s[o[0]]*o[1]):s[o[0]]=0;return s},Qc=oi,eu=Ze,tu=Ba,nu=function(e,t,n){var l=Qc(e);return t>>=0,n=eu(n)?" ":""+n,l.padEnd?l.padEnd(t,n):t>l.length?((t-=l.length)>n.length&&(n+=tu(n,t/n.length)),l+n.slice(0,t)):l},lu=oi,ou=Ba,ru=function(e,t){return ou(lu(e),t)},au=oi,iu=function(e){return e&&e.trimRight?e.trimRight():au(e).replace(/[\s\uFEFF\xA0]+$/g,"")},su=oi,cu=function(e){return e&&e.trimLeft?e.trimLeft():su(e).replace(/^[\s\uFEFF\xA0]+/g,"")},uu=iu,du=cu,pu=function(e){return e&&e.trim?e.trim():uu(du(e))},fu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},mu=oi,gu=z,hu=function(e){var t=new RegExp("(?:"+gu(e).join("|")+")","g");return function(n){return mu(n).replace(t,(function(t){return e[t]}))}},vu=hu(fu),bu=fu,xu=hu,yu={};j(bu,(function(e,t){yu[bu[t]]=t}));var wu=xu(yu),Cu=function(e,t,n){return e.substring(t,n)},Su=function(e){return e.toLowerCase()},Eu=oi,Ou=Cu,Tu=Ls,Ru=Su,Mu={},ku=function(e){if(e=Eu(e),Mu[e])return Mu[e];var t=e.length,n=e.replace(/([-]+)/g,(function(e,n,l){return l&&l+n.length<t?"-":""}));return t=n.length,n=n.replace(/([A-Z]+)/g,(function(e,n,l){var o=n.length;return n=Ru(n),l?o>2&&l+o<t?Tu(Ou(n,0,1))+Ou(n,1,o-1)+Tu(Ou(n,o-1,o)):Tu(Ou(n,0,1))+Ou(n,1,o):o>1&&l+o<t?Ou(n,0,o-1)+Tu(Ou(n,o-1,o)):n})).replace(/(-[a-zA-Z])/g,(function(e,t){return Tu(Ou(t,1,t.length))})),Mu[e]=n,n},Du=oi,Iu=Cu,$u=Su,Fu={},Nu=function(e){if(e=Du(e),Fu[e])return Fu[e];if(/^[A-Z]+$/.test(e))return $u(e);var t=e.replace(/^([a-z])([A-Z]+)([a-z]+)$/,(function(e,t,n,l){var o=n.length;return o>1?t+"-"+$u(Iu(n,0,o-1))+"-"+$u(Iu(n,o-1,o))+l:$u(t+"-"+n+l)})).replace(/^([A-Z]+)([a-z]+)?$/,(function(e,t,n){var l=t.length;return $u(Iu(t,0,l-1)+"-"+Iu(t,l-1,l)+(n||""))})).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,(function(e,t,n,l,o){var r=n.length;return r>1&&(t&&(t+="-"),l)?(t||"")+$u(Iu(n,0,r-1))+"-"+$u(Iu(n,r-1,r))+l:(t||"")+(o?"-":"")+$u(n)+(l||"")}));return t=t.replace(/([-]+)/g,(function(e,n,l){return l&&l+n.length<t.length?"-":""})),Fu[e]=t,t},Lu=oi,Au=function(e,t,n){var l=Lu(e);return 0===(1===arguments.length?l:l.substring(n)).indexOf(t)},Pu=oi,ju=function(e,t,n){var l=Pu(e),o=arguments.length;return o>1&&(o>2?l.substring(0,n).indexOf(t)===n-1:l.indexOf(t)===l.length-1)},Vu=t,Bu=oi,Hu=pu,_u=ct,zu=function(e,t,n){return Bu(e).replace((n||Vu).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,(function(e,n){return _u(t,Hu(n))}))},Wu=zu,qu=function(e,t){return Wu(e,t,{tmplRE:/\{([.\w[\]\s]+)\}/g})},Yu=function(){},Uu=Pt,Xu=function(e,t){var n=Uu(arguments,2);return function(){return e.apply(t,Uu(arguments).concat(n))}},Gu=Pt,Ku=function(e,t){var n=!1,l=null,o=Gu(arguments,2);return function(){return n||(l=e.apply(t,Gu(arguments).concat(o)),n=!0),l}},Zu=Pt,Ju=function(e,t,n){var l=0,o=[];return function(){var r=arguments;++l<=e&&o.push(r[0]),l>=e&&t.apply(n,[o].concat(Zu(r)))}},Qu=Pt,ed=function(e,t,n){var l=0,o=[];return n=n||this,function(){var r=arguments;++l<e&&(o.push(r[0]),t.apply(n,[o].concat(Qu(r))))}},td=function(e,t,n){var l=null,o=null,r=n||{},a=!1,i=null,s=!("leading"in r)||r.leading,c="trailing"in r&&r.trailing,u=function(){l=null,o=null},d=function(){a=!0,e.apply(o,l),i=setTimeout(p,t),u()},p=function(){i=null,a||!0!==c||d()},f=function(){l=arguments,o=this,a=!1,null===i&&(!0===s?d():!0===c&&(i=setTimeout(p,t)))};return f.cancel=function(){var e=null!==i;return e&&clearTimeout(i),u(),i=null,a=!1,e},f},nd=function(e,t,n){var l=null,o=null,r=n||{},a=!1,i=null,s="boolean"==typeof n,c="leading"in r?r.leading:s,u="trailing"in r?r.trailing:!s,d=function(){l=null,o=null},p=function(){a=!0,e.apply(o,l),d()},f=function(){!0===c&&(i=null),a||!0!==u||p()},m=function(){a=!1,l=arguments,o=this,null===i?!0===c&&p():clearTimeout(i),i=setTimeout(f,t)};return m.cancel=function(){var e=null!==i;return e&&clearTimeout(i),d(),i=null,a=!1,e},m},ld=Pt,od=function(e,t){var n=ld(arguments,2),l=this;return setTimeout((function(){e.apply(l,n)}),t)},rd=decodeURIComponent,ad=rd,id=T,sd=El,cd=function(e){var t,n={};return e&&sd(e)&&id(e.split("&"),(function(e){t=e.split("="),n[ad(t[0])]=ad(t[1]||"")})),n},ud=encodeURIComponent,dd=ud,pd=j,fd=I,md=ge,gd=Ze,hd=Ce;function vd(e,t,n){var l,o=[];return pd(e,(function(e,r){l=fd(e),hd(e)||l?o=o.concat(vd(e,t+"["+r+"]",l)):o.push(dd(t+"["+(n?"":r)+"]")+"="+dd(md(e)?"":e))})),o}var bd=function(e){var t,n=[];return pd(e,(function(e,l){gd(e)||(t=fd(e),hd(e)||t?n=n.concat(vd(e,l,t)):n.push(dd(l)+"="+dd(md(e)?"":e)))})),n.join("&").replace(/%20/g,"+")},xd=typeof location===Ke?0:location,yd=xd,wd=function(){return yd?yd.origin||yd.protocol+"//"+yd.host:""},Cd=xd,Sd=cd,Ed=wd;function Od(e){return Sd(e.split("?")[1]||"")}var Td=function(e){var t,n,l,o,r=""+e;return 0===r.indexOf("//")?r=(Cd?Cd.protocol:"")+r:0===r.indexOf("/")&&(r=Ed()+r),l=r.replace(/#.*/,"").match(/(\?.*)/),(o={href:r,hash:"",host:"",hostname:"",protocol:"",port:"",search:l&&l[1]&&l[1].length>1?l[1]:""}).path=r.replace(/^([a-z0-9.+-]*:)\/\//,(function(e,t){return o.protocol=t,""})).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,(function(e,t,l){return n=l||"",o.port=n.replace(":",""),o.hostname=t,o.host=t+n,"/"})).replace(/(#.*)/,(function(e,t){return o.hash=t.length>1?t:"",""})),t=o.hash.match(/#((.*)\?|(.*))/),o.pathname=o.path.replace(/(\?|#.*).*/,""),o.origin=o.protocol+"//"+o.host,o.hashKey=t&&(t[2]||t[1])||"",o.hashQuery=Od(o.hash),o.searchQuery=Od(o.search),o},Rd=xd,Md=wd,kd=vo,Dd=function(){if(Rd){var e=Rd.pathname,t=kd(e,"/")+1;return Md()+(t===e.length?e:e.substring(0,t))}return""},Id=xd,$d=Td,Fd=function(){return Id?$d(Id.href):{}},Nd=t,Ld=_o,Ad=rd,Pd=ud,jd=I,Vd=Rn,Bd=Ol,Hd=Ze,_d=Ae,zd=z,Wd=le,qd=T,Yd=eo,Ud=Rl,Xd=ws,Gd=ms,Kd=Ns;function Zd(e,t){var n=parseFloat(t),l=Yd(),o=Ud(l);switch(e){case"y":return Ud(Xd(l,n));case"M":return Ud(Gd(l,n));case"d":return Ud(Kd(l,n));case"h":case"H":return o+60*n*60*1e3;case"m":return o+60*n*1e3;case"s":return o+1e3*n}return o}function Jd(e){return(Bd(e)?e:new Date(e)).toUTCString()}function Qd(e,t,n){if(Ld){var l,o,r,a,i,s,c=[],u=arguments;return jd(e)?c=e:u.length>1?c=[Wd({name:e,value:t},n)]:Vd(e)&&(c=[e]),c.length>0?(qd(c,(function(e){l=Wd({},Nd.cookies,e),r=[],l.name&&(o=l.expires,r.push(Pd(l.name)+"="+Pd(Vd(l.value)?JSON.stringify(l.value):l.value)),o&&(o=isNaN(o)?o.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,(function(e,t,n){return Jd(Zd(n,t))})):/^[0-9]{11,13}$/.test(o)||Bd(o)?Jd(o):Jd(Zd("d",o)),l.expires=o),qd(["expires","path","domain","secure"],(function(e){Hd(l[e])||r.push(l[e]&&"secure"===e?e:e+"="+l[e])}))),Ld.cookie=r.join("; ")})),!0):(a={},(i=Ld.cookie)&&qd(i.split("; "),(function(e){s=e.indexOf("="),a[Ad(e.substring(0,s))]=Ad(e.substring(s+1)||"")})),1===u.length?a[e]:a)}return!1}function ep(e){return Qd(e)}function tp(e,t,n){return Qd(e,t,n),Qd}function np(e,t){Qd(e,"",Wd({expires:-1},Nd.cookies,t))}function lp(){return zd(Qd())}Wd(Qd,{has:function(e){return _d(lp(),e)},set:tp,setItem:tp,get:ep,getItem:ep,remove:np,removeItem:np,keys:lp,getJSON:function(){return Qd()}});var op=Ke,rp=_o,ap=qo,ip=le,sp=T;function cp(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch(n){return!1}}function up(e){return navigator.userAgent.indexOf(e)>-1}var dp=ue;le(dp,{assign:le,objectEach:N,lastObjectEach:me,objectMap:we,merge:Re,uniq:We,union:Ge,sortBy:Tt,orderBy:Ot,shuffle:It,sample:Ft,some:Fe,every:Ne,slice:Pt,filter:Vt,find:Ht,findLast:Wt,findKey:Bt,includes:Ae,arrayIndexOf:xl,arrayLastIndexOf:yl,map:ke,reduce:Yt,copyWithin:Xt,chunk:Kt,zip:dn,unzip:cn,zipObject:mn,flatten:bn,toArray:Ye,includeArrays:Ve,pluck:Qt,invoke:wn,arrayEach:T,lastArrayEach:de,toArrayTree:Jn,toTreeArray:ll,findTree:al,eachTree:cl,mapTree:pl,filterTree:ml,searchTree:bl,hasOwnProp:$,eqNull:et,isNaN:Sl,isFinite:So,isUndefined:Ze,isArray:I,isFloat:Do,isInteger:To,isFunction:B,isBoolean:Io,isString:El,isNumber:wl,isRegExp:$o,isObject:Rn,isPlainObject:Ce,isDate:Ol,isError:Fo,isTypeError:No,isEmpty:Lo,isNull:ge,isSymbol:Po,isArguments:jo,isElement:Ho,isDocument:Wo,isWindow:Uo,isFormData:Go,isMap:Zo,isWeakMap:Qo,isSet:tr,isWeakSet:lr,isLeapYear:oo,isMatch:Dr,isEqual:Er,isEqualWith:Lr,getType:_r,uniqueId:Wr,getSize:wo,indexOf:ho,lastIndexOf:vo,findIndexOf:ur,findLastIndexOf:Yr,toStringJSON:Gr,toJSONString:Zr,keys:z,values:Mt,entries:Jr,pick:oa,omit:ra,first:ia,last:ca,each:j,forOf:io,lastForOf:uo,lastEach:Tn,has:fa,get:ct,set:ya,groupBy:Ta,countBy:ka,clone:K,clear:Ln,remove:Wn,range:Da,destructuring:Aa,random:Rt,min:Pa,max:rn,commafy:xi,round:Ja,ceil:Qa,floor:ei,toFixed:ci,toNumber:Lt,toNumberString:Wa,toInteger:yi,add:Di,subtract:Li,multiply:Si,divide:_i,sum:Ui,mean:Zi,now:Tc,timestamp:Ic,isValidDate:rs,isDateSame:Fc,toStringDate:Ql,toDateString:Sc,getWhatYear:ws,getWhatQuarter:Os,getWhatMonth:ms,getWhatWeek:_s,getWhatDay:Ns,getYearDay:rc,getYearWeek:Gs,getMonthWeek:Nc,getDayOfYear:Vc,getDayOfMonth:Yc,getDateDiff:Jc,trim:pu,trimLeft:cu,trimRight:iu,escape:vu,unescape:wu,camelCase:ku,kebabCase:Nu,repeat:ru,padStart:cc,padEnd:nu,startsWith:Au,endsWith:ju,template:zu,toFormatString:qu,toString:oi,toValueString:oi,noop:Yu,property:ve,bind:Xu,once:Ku,after:Ju,before:ed,throttle:td,debounce:nd,delay:od,unserialize:cd,serialize:bd,parseUrl:Td,getBaseURL:Dd,locat:Fd,browse:function(){var e,t,n,l=!1,o=!1,r=!1,a={isNode:!1,isMobile:l,isPC:!1,isDoc:!!rp};if(ap||typeof process===op){n=up("Edge"),t=up("Chrome"),l=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),a.isDoc&&(e=rp.body||rp.documentElement,sp(["webkit","khtml","moz","ms","o"],(function(t){a["-"+t]=!!e[t+"MatchesSelector"]})));try{o=cp(ap.localStorage)}catch(i){}try{r=cp(ap.sessionStorage)}catch(i){}ip(a,{edge:n,firefox:up("Firefox"),msie:!n&&a["-ms"],safari:!t&&!n&&up("Safari"),isMobile:l,isPC:!l,isLocalStorage:o,isSessionStorage:r})}else a.isNode=!0;return a},cookie:Qd});var pp=dp;const fp=l(pp),mp="vxe-icon-",gp={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:mp+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:mp+"caret-up",TABLE_SORT_DESC:mp+"caret-down",TABLE_FILTER_NONE:mp+"funnel",TABLE_FILTER_MATCH:mp+"funnel",TABLE_EDIT:mp+"edit",TABLE_TITLE_PREFIX:mp+"question-circle-fill",TABLE_TITLE_SUFFIX:mp+"question-circle-fill",TABLE_TREE_LOADED:mp+"spinner roll",TABLE_TREE_OPEN:mp+"caret-right rotate90",TABLE_TREE_CLOSE:mp+"caret-right",TABLE_EXPAND_LOADED:mp+"spinner roll",TABLE_EXPAND_OPEN:mp+"arrow-right rotate90",TABLE_EXPAND_CLOSE:mp+"arrow-right",TABLE_CHECKBOX_CHECKED:mp+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:mp+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:mp+"checkbox-indeterminate",TABLE_RADIO_CHECKED:mp+"radio-checked",TABLE_RADIO_UNCHECKED:mp+"radio-unchecked",BUTTON_DROPDOWN:mp+"arrow-down",BUTTON_LOADING:mp+"spinner roll",SELECT_LOADED:mp+"spinner roll",SELECT_OPEN:mp+"caret-down rotate180",SELECT_CLOSE:mp+"caret-down",PAGER_HOME:mp+"home-page",PAGER_END:mp+"end-page",PAGER_JUMP_PREV:mp+"arrow-double-left",PAGER_JUMP_NEXT:mp+"arrow-double-right",PAGER_PREV_PAGE:mp+"arrow-left",PAGER_NEXT_PAGE:mp+"arrow-right",PAGER_JUMP_MORE:mp+"ellipsis-h",INPUT_CLEAR:mp+"error-circle-fill",INPUT_PWD:mp+"eye-fill",INPUT_SHOW_PWD:mp+"eye-fill-close",INPUT_PREV_NUM:mp+"caret-up",INPUT_NEXT_NUM:mp+"caret-down",INPUT_DATE:mp+"calendar",INPUT_SEARCH:mp+"search",MODAL_ZOOM_IN:mp+"square",MODAL_ZOOM_OUT:mp+"maximize",MODAL_CLOSE:mp+"close",MODAL_INFO:mp+"info-circle-fill",MODAL_SUCCESS:mp+"success-circle-fill",MODAL_WARNING:mp+"warnion-circle-fill",MODAL_ERROR:mp+"error-circle-fill",MODAL_QUESTION:mp+"question-circle-fill",MODAL_LOADING:mp+"spinner roll",TOOLBAR_TOOLS_REFRESH:mp+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:mp+"repeat roll",TOOLBAR_TOOLS_IMPORT:mp+"upload",TOOLBAR_TOOLS_EXPORT:mp+"download",TOOLBAR_TOOLS_PRINT:mp+"print",TOOLBAR_TOOLS_FULLSCREEN:mp+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:mp+"minimize",TOOLBAR_TOOLS_CUSTOM:mp+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:mp+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:mp+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:mp+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:mp+"fixed-right-fill",FORM_PREFIX:mp+"question-circle-fill",FORM_SUFFIX:mp+"question-circle-fill",FORM_FOLDING:mp+"arrow-up rotate180",FORM_UNFOLDING:mp+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,showConfirmButton:null,storageKey:"VXE_MODAL_POSITION"},drawer:{showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};var hp=null,vp="z-index-manage",bp={m:1e3,s:1e3};function xp(){return"undefined"!=typeof document}function yp(){return hp||xp()&&((hp=document.getElementById(vp))||((hp=document.createElement("div")).id=vp,hp.style.display="none",document.body.appendChild(hp),Cp(bp.m),Tp(bp.s))),hp}function wp(e){return function(t){if(t){t=Number(t),bp[e]=t;var n=yp();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return bp[e]}}var Cp=wp("m");function Sp(e,t){return function(n){var l,o=yp();if(o){var r=o.dataset?o.dataset[e]:o.getAttribute("data-"+e);r&&(l=Number(r))}return l||(l=bp[e]),n?Number(n)<l?t():n:l}}var Ep=Sp("m",Op);function Op(){return Cp(Ep()+1)}var Tp=wp("s"),Rp=Sp("s",kp);function Mp(){return Ep()+Rp()}function kp(){return Tp(Rp()+1),Mp()}var Dp={setCurrent:Cp,getCurrent:Ep,getNext:Op,setSubCurrent:Tp,getSubCurrent:Mp,getSubNext:kp,getMax:function(){var e=0;if(xp())for(var t=document.body.getElementsByTagName("*"),n=0;n<t.length;n++){var l=t[n];if(l&&l.style&&1===l.nodeType){var o=l.style.zIndex;o&&/^\d+$/.test(o)&&(e=Math.max(e,Number(o)))}}return e}};function Ip(e,t){return`[vxe-table v4.6.16] ${gp.i18n(e,t)}`}function $p(e){return function(t,n){const l=Ip(t,n);return console[e](l),l}}const Fp=$p("warn"),Np=$p("error"),Lp={},Ap={mixin:e=>(fp.each(e,((e,t)=>Ap.add(t,e))),Ap),get:e=>Lp[e]||[],add(e,t){if(t){let n=Lp[e];n||(n=Lp[e]=[]),n.push(t)}return Ap},delete(e,t){const n=Lp[e];n&&(t?fp.remove(n,(e=>e===t)):delete Lp[e])}},Pp=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return fp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return fp.isFunction(t)&&(t={cellFormatMethod:t}),this.store[e]=n?fp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){fp.objectEach(this.store,e)}};function jp(e){return e&&!1!==e.enabled}function Vp(e){return null==e||""===e}function Bp(){return Dp.getNext()}function Hp(){return Dp.getCurrent()}function _p(e){return e&&e.children&&e.children.length>0}function zp(e){return e?fp.toValueString(gp.translate?gp.translate(""+e):e):""}function Wp(e,t){return""+(Vp(e)?t?gp.emptyCell:"":e)}function qp(e){return""===e||fp.eqNull(e)}class Yp{constructor(e,t,{renderHeader:n,renderCell:l,renderFooter:o,renderData:r}={}){const a=e.xegrid,i=t.formatter,s=!fp.isBoolean(t.visible)||t.visible;if(Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:i,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:Rf(t.filters),filterMultiple:!fp.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,params:t.params,id:t.colId||fp.uniqueId("col_"),parentId:null,visible:s,halfVisible:!1,defaultVisible:s,defaultFixed:t.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:l||t.renderCell,renderFooter:o||t.renderFooter,renderData:r,slots:t.slots}),a){const{computeProxyOpts:e}=a.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:a,column:this})}}getTitle(){return zp(this.title||("seq"===this.type?gp.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const Up={},Xp=fp.browse();function Gp(e,t){return e?fp.isFunction(e)?e(t):e:""}function Kp(e){return Up[e]||(Up[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Up[e]}function Zp(e,t,n){if(e){const l=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,l&&l!==document.documentElement&&l!==document.body&&(n.top-=l.scrollTop,n.left-=l.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return Zp(e.offsetParent,t,n)}return n}function Jp(e){return e&&/^\d+(px)?$/.test(e)}function Qp(e){return e&&/^\d+%$/.test(e)}function ef(e,t){return e&&e.className&&e.className.match&&e.className.match(Kp(t))}function tf(e,t){e&&ef(e,t)&&(e.className=e.className.replace(Kp(t),""))}function nf(e,t){e&&!ef(e,t)&&(tf(e,t),e.className=`${e.className} ${t}`)}function lf(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function of(e){return e?e.offsetHeight:0}function rf(e){if(e){const t=getComputedStyle(e);return fp.toNumber(t.paddingTop)+fp.toNumber(t.paddingBottom)}return 0}function af(e,t){e&&(e.scrollTop=t)}function sf(e,t){e&&(e.scrollLeft=t)}function cf(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function uf(e,t,n,l){let o,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&ef(r,n)&&(!l||l(r)))o=r;else if(r===t)return{flag:!n||!!o,container:t,targetElem:o};r=r.parentNode}return{flag:!1}}function df(e,t){return Zp(e,t,{left:0,top:0})}function pf(e){const t=e.getBoundingClientRect(),n=t.top,l=t.left,{scrollTop:o,scrollLeft:r,visibleHeight:a,visibleWidth:i}=lf();return{boundingTop:n,top:o+n,boundingLeft:l,left:r+l,visibleHeight:a,visibleWidth:i}}const ff="scrollIntoViewIfNeeded",mf="scrollIntoView";function gf(e){return e&&1===e.nodeType}const hf=(e,t)=>{const n=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(n.push(e),n.push(...hf(e.children,e))):n.push(e))})),n};function vf(e,t,n){const{internalData:l}=e;return e.clearScroll().then((()=>{if(t||n)return l.lastScrollLeft=0,l.lastScrollTop=0,e.scrollTo(t,n)}))}function bf(e){e&&e._onscroll&&(e.onscroll=null)}function xf(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function yf(){return fp.uniqueId("row_")}function wf(e){const{props:t}=e,{computeRowOpts:n}=e.getComputeMaps(),{rowId:l}=t,o=n.value;return l||o.keyField||"_X_ROW_KEY"}function Cf(e,t){const n=fp.get(t,wf(e));return fp.eqNull(n)?"":encodeURIComponent(n)}const Sf=(e,t)=>t?fp.isString(t)?e.getColumnByField(t):t:null;function Ef(e){if(e){const t=getComputedStyle(e);return fp.toNumber(t.paddingLeft)+fp.toNumber(t.paddingRight)}return 0}function Of(e){if(e){const t=getComputedStyle(e),n=fp.toNumber(t.marginLeft),l=fp.toNumber(t.marginRight);return e.offsetWidth+n+l}return 0}function Tf(e,t){return e.querySelector(".vxe-cell"+t)}function Rf(e){return e&&fp.isArray(e)?e.map((({label:e,value:t,data:n,resetValue:l,checked:o})=>({label:e,value:t,data:n,resetValue:l,checked:!!o,_checked:!!o}))):e}function Mf(e,t){return fp.get(e,t.field)}function kf(e,t,n){return fp.set(e,t.field,n)}function Df(e,t,n){return(l=t)&&(l.constructor===Yp||l instanceof Yp)?t:r(new Yp(e,t,n));var l}function If(e,t,n){Object.keys(t).forEach((l=>{o((()=>t[l]),(t=>{n.update(l,t),e&&("filters"===l?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(l)&&e.handleRefreshColumnQueue())}))}))}function $f(e,t,n,l){const{reactData:o}=e,{staticColumns:r}=o,a=t.parentNode,i=l?l.column:null,s=i?i.children:r;a&&s&&(s.splice(fp.arrayIndexOf(a.children,t),0,n),o.staticColumns=r.slice(0))}function Ff(e,t){const{reactData:n}=e,{staticColumns:l}=n,o=fp.findTree(l,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),n.staticColumns=l.slice(0)}function Nf(e,t){const{internalData:n}=e,{fullColumnIdData:l}=n;if(!t)return null;let o=t.parentId;for(;l[o];){const e=l[o].column;if(o=e.parentId,!o)return e}return t}function Lf(e,t){const{reactData:n,internalData:l}=e,{refTableBody:o}=e.getRefMaps(),{scrollYLoad:r}=n,{afterFullData:a,scrollYStore:i}=l,s=o.value,c=s?s.$el:null;if(c){const n=c.querySelector(`[rowid="${Cf(e,t)}"]`);if(n){const t=c.clientHeight,l=c.scrollTop,o=n.offsetParent,r=n.offsetTop+(o?o.offsetTop:0),a=n.clientHeight;if(r<l||r>l+t)return e.scrollTo(null,r);if(r+a>=t+l)return e.scrollTo(null,l+a)}else if(r)return e.scrollTo(null,(a.indexOf(t)-1)*i.rowHeight)}return Promise.resolve()}function Af(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Pf(e){return fp.isArray(e)?e:[e]}const jf="modelValue",Vf={transfer:!0};function Bf(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function Hf(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function _f(e,t,n){const{dateConfig:l={}}=t;return fp.toDateString(function(e,t){return e&&t.valueFormat?fp.toStringDate(e,t.valueFormat):e}(e,t),l.labelFormat||n)}function zf(e,t){return _f(e,t,gp.i18n(`vxe.input.date.labelFormat.${t.type}`))}function Wf(e){return`vxe-${e.replace("$","")}`}function qf({name:e}){return i(e)}function Yf({name:e}){return i(Wf(e))}function Uf(e,t,n){const{$panel:l}=e;l.changeOption({},t,n)}function Xf(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function Gf(e){const{name:t,immediate:n,props:l}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=l||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function Kf(e,t,n,l){return fp.assign({immediate:Gf(e)},Vf,l,e.props,{[jf]:n})}function Zf(e,t,n,l){return fp.assign({},Vf,l,e.props,{[jf]:n})}function Jf(e,t,n,l){return fp.assign({},Vf,l,e.props,{[jf]:n})}function Qf(e,t){return"cell"===t.$type||Gf(e)}function em(e,t,n){const{placeholder:l}=e;return[a("span",{class:"vxe-cell--label"},l&&Vp(n)?[a("span",{class:"vxe-cell--placeholder"},Wp(zp(l),1))]:Wp(n,1))]}function tm(e,t,n,l){const{events:o}=e,r=Bf(e),a=Hf(e),i=a===r,s={};return o&&fp.objectEach(o,((e,n)=>{s[Af(n)]=function(...n){e(t,...n)}})),n&&(s[Af(r)]=function(e){n(e),i&&l&&l(e),o&&o[r]&&o[r](t,e)}),!i&&l&&(s[Af(a)]=function(...e){l(...e),o&&o[a]&&o[a](t,...e)}),s}function nm(e,t,n,l){const{events:o}=e,r=Bf(e),a=Hf(e),i={};return fp.objectEach(o,((e,n)=>{i[Af(n)]=function(...n){e(t,...n)}})),n&&(i[Af(r)]=function(e){n(e),o&&o[r]&&o[r](t,e)}),l&&(i[Af(a)]=function(...e){l(...e),o&&o[a]&&o[a](t,...e)}),i}function lm(e,t){const{$table:n,row:l,column:o}=t,{name:r}=e,{model:a}=o,i=Qf(e,t);return nm(e,t,(e=>{i?kf(l,o,e):(a.update=!0,a.value=e)}),(e=>{if(!i&&["VxeInput","VxeTextarea","$input","$textarea"].includes(r)){const l=e.value;a.update=!0,a.value=l,n.updateStatus(t,l)}else n.updateStatus(t)}))}function om(e,t,n){return nm(e,t,(e=>{n.data=e}),(()=>{Uf(t,!fp.eqNull(n.data),n)}))}function rm(e,t){const{$form:n,data:l,property:o}=t;return nm(e,t,(e=>{fp.set(l,o,e)}),(()=>{n.updateStatus(t)}))}function am(e,t){const{$table:n,row:l,column:o}=t,{model:r}=o;return tm(e,t,(n=>{const a=n.target.value;Qf(e,t)?kf(l,o,a):(r.update=!0,r.value=a)}),(e=>{const l=e.target.value;n.updateStatus(t,l)}))}function im(e,t,n){return tm(e,t,(e=>{n.data=e.target.value}),(()=>{Uf(t,!fp.eqNull(n.data),n)}))}function sm(e,t){const{$form:n,data:l,property:o}=t;return tm(e,t,(e=>{const t=e.target.value;fp.set(l,o,t)}),(()=>{n.updateStatus(t)}))}function cm(e,t){const{row:n,column:l}=t,{name:o}=e,r=Qf(e,t)?Mf(n,l):l.model.value;return[a(o,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},Xf(e)),{value:r}),am(e,t)))]}function um(e,t){return[a(qf(e),Object.assign(Object.assign({},Kf(e,0,null)),nm(e,t)))]}function dm(e,t){const{row:n,column:l}=t,o=Mf(n,l);return[a(qf(e),Object.assign(Object.assign({},Kf(e,0,o)),lm(e,t)))]}function pm(e,t){const{row:n,column:l}=t,o=Mf(n,l);return[a(Yf(e),Object.assign(Object.assign({},Kf(e,0,o)),lm(e,t)))]}function fm(e,t){return[a(i("vxe-button"),Object.assign(Object.assign({},Kf(e,0,null)),nm(e,t)))]}function mm(e,t,n){const{optionGroups:l,optionGroupProps:o={}}=e,r=o.options||"options",i=o.label||"label";return l.map(((l,o)=>a("optgroup",{key:o,label:l[i]},n(l[r],e,t))))}function gm(e,t,n){const{optionProps:l={}}=t,{row:o,column:r}=n,i=l.label||"label",s=l.value||"value",c=l.disabled||"disabled",u=Qf(t,n)?Mf(o,r):r.model.value;return e.map(((e,t)=>a("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[i])))}function hm({option:e,row:t,column:n}){const{data:l}=e;return fp.get(t,n.property)==l}function vm(e,t){return[a("select",Object.assign(Object.assign({class:"vxe-default-select"},Xf(e)),am(e,t)),e.optionGroups?mm(e,t,gm):gm(e.options,e,t))]}function bm(e,t){const{row:n,column:l}=t,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=Mf(n,l);return[a(qf(e),Object.assign(Object.assign({},Kf(e,0,c,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s})),lm(e,t)))]}function xm(e,t){const{row:n,column:l}=t,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=Mf(n,l);return[a(Yf(e),Object.assign(Object.assign({},Kf(e,0,c,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s})),lm(e,t)))]}function ym(e,{row:t,column:n}){const{props:l={},options:o,optionGroups:r,optionProps:a={},optionGroupProps:i={}}=e,s=fp.get(t,n.property);let c;const u=a.label||"label",d=a.value||"value";return Vp(s)?"":fp.map(l.multiple?s:[s],r?e=>{const t=i.options||"options";for(let n=0;n<r.length&&(c=fp.find(r[n][t],(t=>t[d]==e)),!c);n++);return c?c[u]:e}:e=>(c=fp.find(o,(t=>t[d]==e)),c?c[u]:e)).join(", ")}function wm(e,t){const{data:n,property:l}=t,{name:o}=e,r=Xf(e),i=fp.get(n,l);return[a(o,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},r),{value:!r||"input"!==o||"submit"!==r.type&&"reset"!==r.type?i:null}),sm(e,t)))]}function Cm(e,t){const{data:n,property:l}=t,o=fp.get(n,l);return[a(qf(e),Object.assign(Object.assign({},Jf(e,0,o)),rm(e,t)))]}function Sm(e,t){const{data:n,property:l}=t,o=fp.get(n,l);return[a(Yf(e),Object.assign(Object.assign({},Jf(e,0,o)),rm(e,t)))]}function Em(e,t){return[a(i("vxe-button"),Object.assign(Object.assign({},Jf(e,0,null)),nm(e,t)))]}function Om(e,t,n){const{data:l,property:o}=n,{optionProps:r={}}=t,i=r.label||"label",s=r.value||"value",c=r.disabled||"disabled",u=fp.get(l,o);return e.map(((e,t)=>a("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[i])))}function Tm(e){const{row:t,column:n,options:l}=e;return l.original?Mf(t,n):ym(n.editRender||n.cellRender,e)}function Rm(e,t){const{data:n,property:l}=t,o=fp.get(n,l);return[a(qf(e),Object.assign(Object.assign({},Jf(e,0,o)),rm(e,t)))]}function Mm(e,t){const{options:n,optionProps:l}=e,{data:o,property:r}=t,i=fp.get(o,r);return[a(qf(e),Object.assign(Object.assign({options:n,optionProps:l},Jf(e,0,i)),rm(e,t)))]}function km(e,t){const{name:n,options:l,optionProps:o={}}=e,{data:r,property:s}=t,c=o.label||"label",u=o.value||"value",d=o.disabled||"disabled",p=fp.get(r,s),f=Wf(n);return l?[a(i(`${f}-group`),Object.assign(Object.assign({},Jf(e,0,p)),rm(e,t)),{default:()=>l.map(((e,t)=>a(i(f),{key:t,label:e[u],content:e[c],disabled:e[d]})))})]:[a(i(f),Object.assign(Object.assign({},Jf(e,0,p)),rm(e,t)))]}const Dm={input:{autofocus:"input",renderEdit:cm,renderDefault:cm,renderFilter:function(e,t){const{column:n}=t,{name:l}=e,o=Xf(e);return n.filters.map(((n,r)=>a(l,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${l}`},o),{value:n.data}),im(e,t,n)))))},defaultFilterMethod:hm,renderItemContent:wm},textarea:{autofocus:"textarea",renderEdit:cm,renderItemContent:wm},select:{renderEdit:vm,renderDefault:vm,renderCell:(e,t)=>em(e,0,ym(e,t)),renderFilter(e,t){const{column:n}=t;return n.filters.map(((n,l)=>a("select",Object.assign(Object.assign({key:l,class:"vxe-default-select"},Xf(e)),im(e,t,n)),e.optionGroups?mm(e,t,gm):gm(e.options,e,t))))},defaultFilterMethod:hm,renderItemContent:(e,t)=>[a("select",Object.assign(Object.assign({class:"vxe-default-select"},Xf(e)),sm(e,t)),e.optionGroups?mm(e,t,Om):Om(e.options,e,t))],exportMethod:Tm},VxeInput:{autofocus:".vxe-input--inner",renderEdit:dm,renderCell(e,t){const{props:n={}}=e,{row:l,column:o}=t,r=n.digits||gp.input.digits;let a=fp.get(l,o.property);if(a)switch(n.type){case"date":case"week":case"month":case"year":a=zf(a,n);break;case"float":a=fp.toFixed(fp.floor(a,r),r)}return em(e,0,a)},renderDefault:dm,renderFilter:function(e,t){const{column:n}=t;return n.filters.map(((n,l)=>{const o=n.data;return a(qf(e),Object.assign(Object.assign({key:l},Zf(e,0,o)),om(e,t,n)))}))},defaultFilterMethod:hm,renderItemContent:Cm},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:Cm},VxeButton:{renderDefault:um,renderItemContent:Rm},VxeButtonGroup:{renderDefault:um,renderItemContent(e,t){const{options:n}=e,{data:l,property:o}=t,r=fp.get(l,o);return[a(qf(e),Object.assign(Object.assign({options:n},Jf(e,0,r)),rm(e,t)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:bm,renderDefault:bm,renderCell:(e,t)=>em(e,0,ym(e,t)),renderFilter(e,t){const{column:n}=t,{options:l,optionProps:o,optionGroups:r,optionGroupProps:i}=e;return n.filters.map(((n,s)=>{const c=n.data;return a(qf(e),Object.assign(Object.assign({key:s},Zf(e,0,c,{options:l,optionProps:o,optionGroups:r,optionGroupProps:i})),om(e,t,n)))}))},defaultFilterMethod:hm,renderItemContent(e,t){const{data:n,property:l}=t,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=fp.get(n,l);return[a(qf(e),Object.assign(Object.assign({},Jf(e,0,c,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s})),rm(e,t)))]},exportMethod:Tm},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:Rm},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:Mm},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:Rm},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:Mm},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:dm,renderDefault:dm,renderItemContent:Cm},$input:{autofocus:".vxe-input--inner",renderEdit:pm,renderCell(e,t){const{props:n={}}=e,{row:l,column:o}=t,r=n.digits||gp.input.digits;let a=fp.get(l,o.property);if(a)switch(n.type){case"date":case"week":case"month":case"year":a=zf(a,n);break;case"float":a=fp.toFixed(fp.floor(a,r),r)}return em(e,0,a)},renderDefault:pm,renderFilter:function(e,t){const{column:n}=t;return n.filters.map(((n,l)=>{const o=n.data;return a(Yf(e),Object.assign(Object.assign({key:l},Zf(e,0,o)),om(e,t,n)))}))},defaultFilterMethod:hm,renderItemContent:Sm},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:Sm},$button:{renderDefault:fm,renderItemContent:Em},$buttons:{renderDefault:function(e,t){return e.children.map((e=>fm(e,t)[0]))},renderItemContent:function(e,t){return e.children.map((e=>Em(e,t)[0]))}},$select:{autofocus:".vxe-input--inner",renderEdit:xm,renderDefault:xm,renderCell:(e,t)=>em(e,0,ym(e,t)),renderFilter(e,t){const{column:n}=t,{options:l,optionProps:o,optionGroups:r,optionGroupProps:i}=e;return n.filters.map(((n,s)=>{const c=n.data;return a(Yf(e),Object.assign(Object.assign({key:s},Zf(e,0,c,{options:l,optionProps:o,optionGroups:r,optionGroupProps:i})),om(e,t,n)))}))},defaultFilterMethod:hm,renderItemContent(e,t){const{data:n,property:l}=t,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s}=e,c=fp.get(n,l);return[a(Yf(e),Object.assign(Object.assign({},Jf(e,0,c,{options:o,optionProps:r,optionGroups:i,optionGroupProps:s})),rm(e,t)))]},exportMethod:Tm},$radio:{autofocus:".vxe-radio--input",renderItemContent:km},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:km},$switch:{autofocus:".vxe-switch--button",renderEdit:pm,renderDefault:pm,renderItemContent:Sm}},Im={mixin:e=>(fp.each(e,((e,t)=>Im.add(t,e))),Im),get:e=>Dm[e]||null,add(e,t){if(e&&t){const n=Dm[e];n?Object.assign(n,t):Dm[e]=t}return Im},delete:e=>(delete Dm[e],Im)},$m=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return fp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return fp.isFunction(t)&&(t={commandMethod:t}),this.store[e]=n?fp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){fp.objectEach(this.store,e)}},Fm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return fp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return fp.isFunction(t)&&(t={menuMethod:t}),this.store[e]=n?fp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){fp.objectEach(this.store,e)}};class Nm{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return fp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return this.store[e]=n?fp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){fp.objectEach(this.store,e)}}const Lm=new Nm,Am=new Nm;function Pm(e){const t=(e?e.theme:null)||gp.theme||"default";if("undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-table-theme",t)}}function jm(e,t){const n=[];return fp.objectEach(e,((e,l)=>{0!==e&&e!==t||n.push(l)})),n}const Vm=[],Bm=e=>(e&&(e.theme&&Pm(e),e.zIndex&&Dp.setCurrent(e.zIndex),fp.merge(gp,e)),zm),Hm=new class{get zIndex(){return Hp()}get nextZIndex(){return Bp()}get exportTypes(){return jm(gp.export.types,1)}get importTypes(){return jm(gp.export.types,2)}},_m={},zm=e("V",{v:"v4",version:"4.6.16",setConfig:Bm,setIcon:function(e){return e&&Object.assign(gp.icon,e),zm},globalStore:_m,interceptor:Ap,renderer:Im,commands:$m,formats:Pp,validators:Lm,menus:Fm,hooks:Am,use:function(e,t){return e&&e.install&&-1===Vm.indexOf(e)&&(e.install(zm,t),Vm.push(e)),zm},t:function(e,t){return gp.i18n(e,t)},_t:function(e,t){return e?fp.toValueString(gp.translate?gp.translate(e,t):e):""},config:e=>(Bm(e),gp),setup:e=>(Bm(e),gp),globalConfs:Hm});Pm(_m);const Wm=s({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=c("$xetable",{}),{reactData:n,internalData:l,getComputeMaps:o}=t,{computeFilterOpts:r}=o(),i=u((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),s=n=>{const{filterStore:l}=e;l.options.forEach((e=>{e.checked=e._checked})),t.confirmFilterEvent(n)},d=(n,l,o)=>{const{filterStore:r}=e;r.options.forEach((e=>{e._checked=!1})),o._checked=l,t.checkFilterOptions(),s(n)},p=n=>{const{filterStore:l}=e;t.handleClearFilter(l.column),t.confirmFilterEvent(n)},f=(e,n,l)=>{l._checked=n,t.checkFilterOptions()},m=(t,n,l)=>{const{filterStore:o}=e;o.multiple?f(0,n,l):d(t,n,l)},g=(t,n)=>{const{filterStore:l}=e;l.multiple?((t,n)=>{const{filterStore:l}=e;l.options.forEach((e=>{e._checked=n,e.checked=n})),l.isAllSelected=n,l.isIndeterminate=!1})(0,n):p(t)},h={changeRadioOption:d,changeMultipleOption:f,changeAllOption:g,changeOption:m,confirmFilter:s,resetFilter:p};return()=>{const{filterStore:o}=e,{initStore:c}=n,{column:u}=o,d=u?u.filterRender:null,f=d?zm.renderer.get(d.name):null,v=f?f.filterClassName:"",b=Object.assign({},l._currFilterParams,{$panel:h,$table:t});return a("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",Gp(v,b),{"is--animat":t.props.animat,"is--multiple":o.multiple,"is--active":o.visible}],style:o.style},c.filter&&o.visible?((n,o)=>{const{filterStore:r}=e,{column:i,multiple:s,maxHeight:c}=r,{slots:u}=i,d=u?u.filter:null,p=Object.assign({},l._currFilterParams,{$panel:h,$table:t});if(d)return[a("div",{class:"vxe-table--filter-template"},t.callSlot(d,p))];if(o&&o.renderFilter)return[a("div",{class:"vxe-table--filter-template"},Pf(o.renderFilter(n,p)))];const f=s?r.isAllSelected:!r.options.some((e=>e._checked)),v=s&&r.isIndeterminate;return[a("ul",{class:"vxe-table--filter-header"},[a("li",{class:["vxe-table--filter-option",{"is--checked":f,"is--indeterminate":v}],title:gp.i18n(s?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{g(e,!r.isAllSelected)}},(s?[a("span",{class:["vxe-checkbox--icon",v?gp.icon.TABLE_CHECKBOX_INDETERMINATE:f?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([a("span",{class:"vxe-checkbox--label"},gp.i18n("vxe.table.allFilter"))]))]),a("ul",{class:"vxe-table--filter-body",style:c?{maxHeight:`${c}px`}:{}},r.options.map((e=>{const t=e._checked;return a("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{m(t,!e._checked,e)}},(s?[a("span",{class:["vxe-checkbox--icon",t?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([a("span",{class:"vxe-checkbox--label"},Wp(e.label,1))]))})))]})(d,f).concat((()=>{const{filterStore:t}=e,{column:n,multiple:l}=t,o=r.value,c=i.value,u=n.filterRender,d=u?zm.renderer.get(u.name):null,f=!c&&!t.isAllSelected&&!t.isIndeterminate;return!l||d&&!1===d.showFilterFooter?[]:[a("div",{class:"vxe-table--filter-footer"},[a("button",{class:{"is--disabled":f},disabled:f,onClick:s},o.confirmButtonText||gp.i18n("vxe.table.confirmFilter")),a("button",{onClick:p},o.resetButtonText||gp.i18n("vxe.table.resetFilter"))])]})()):[])}}}),qm=["setFilter","clearFilter","getCheckedFilters"],Ym={setupTable(e){const{props:t,reactData:n,internalData:l}=e,{refTableBody:o,refTableFilter:r}=e.getRefMaps(),{computeFilterOpts:a,computeMouseOpts:i}=e.getComputeMaps(),s={checkFilterOptions(){const{filterStore:e}=n;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(t,a,i){const{initStore:s,filterStore:c}=n;if(c.column===a&&c.visible)c.visible=!1;else{const{target:n,pageX:u}=t,{visibleWidth:p}=lf(),{filters:f,filterMultiple:m,filterRender:g}=a,h=g?zm.renderer.get(g.name):null,v=a.filterRecoverMethod||(h?h.filterRecoverMethod:null);l._currFilterParams=i,Object.assign(c,{multiple:m,options:f,column:a,style:null}),c.options.forEach((t=>{const{_checked:n,checked:l}=t;t._checked=l,l||n===l||v&&v({option:t,column:a,$table:e})})),this.checkFilterOptions(),c.visible=!0,s.filter=!0,d((()=>{const e=o.value.$el,t=r.value,l=t?t.$el:null;let i=0,s=0,d=null,f=null;l&&(i=l.offsetWidth,s=l.offsetHeight,d=l.querySelector(".vxe-table--filter-header"),f=l.querySelector(".vxe-table--filter-footer"));const m=i/2,g=e.clientWidth-i-10;let h,v;const b={top:`${n.offsetTop+n.offsetParent.offsetTop+n.offsetHeight+8}px`};let x=null;if(s>=e.clientHeight&&(x=Math.max(60,e.clientHeight-(f?f.offsetHeight:0)-(d?d.offsetHeight:0))),"left"===a.fixed?h=n.offsetLeft+n.offsetParent.offsetLeft-m:"right"===a.fixed?v=n.offsetParent.offsetWidth-n.offsetLeft+(n.offsetParent.offsetParent.offsetWidth-n.offsetParent.offsetLeft)-a.renderWidth-m:h=n.offsetLeft+n.offsetParent.offsetLeft-m-e.scrollLeft,h){const e=u+i-m+10-p;e>0&&(h-=e),b.left=`${Math.min(g,Math.max(10,h))}px`}else if(v){const e=u+i-m+10-p;e>0&&(v+=e),b.right=`${Math.max(10,v)}px`}c.style=b,c.maxHeight=x}))}e.dispatchEvent("filter-visible",{column:a,field:a.field,property:a.field,filterList:e.getCheckedFilters(),visible:c.visible},t)},handleClearFilter(t){if(t){const{filters:n,filterRender:l}=t;if(n){const o=l?zm.renderer.get(l.name):null,r=t.filterResetMethod||(o?o.filterResetMethod:null);n.forEach((e=>{e._checked=!1,e.checked=!1,r||(e.data=fp.clone(e.resetValue,!0))})),r&&r({options:n,column:t,$table:e})}}},confirmFilterEvent(l){const{mouseConfig:o}=t,{filterStore:r,scrollXLoad:s,scrollYLoad:c}=n,u=a.value,d=i.value,{column:p}=r,{field:f}=p,m=[],g=[];p.filters.forEach((e=>{e.checked&&(m.push(e.value),g.push(e.data))}));const h=e.getCheckedFilters(),v={$table:e,$event:l,column:p,field:f,property:f,values:m,datas:g,filters:h,filterList:h};u.remote||(e.handleTableData(!0),e.checkSelectionStatus()),o&&d.area&&e.handleFilterEvent&&e.handleFilterEvent(l,v),e.dispatchEvent("filter-change",v,l),e.closeFilter(),e.updateFooter().then((()=>{const{scrollXLoad:t,scrollYLoad:l}=n;if(s||t||c||l)return(s||t)&&e.updateScrollXSpace(),(c||l)&&e.updateScrollYSpace(),e.refreshScroll()})).then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>{setTimeout((()=>e.recalculate()),50)}))}},c={openFilter(t){const n=Sf(e,t);if(n&&n.filters){const{elemStore:t}=l,{fixed:o}=n;return e.scrollToColumn(n).then((()=>{const e=t[`${o||"main"}-header-wrapper`]||t["main-header-wrapper"],l=e?e.value:null;if(l){const e=l.querySelector(`.vxe-header--column.${n.id} .vxe-filter--btn`);a="click",(r=e)&&r.dispatchEvent(new Event(a))}var r,a}))}return d()},setFilter(t,n){const l=Sf(e,t);return l&&l.filters&&(l.filters=Rf(n||[])),d()},clearFilter(t){const{filterStore:o}=n,{tableFullColumn:r}=l,i=a.value;let c;return t?(c=Sf(e,t),c&&s.handleClearFilter(c)):r.forEach(s.handleClearFilter),t&&c===o.column||Object.assign(o,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),i.remote?d():e.updateData()},getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach((e=>{const{field:n,filters:l}=e,o=[],r=[];l&&l.length&&(l.forEach((e=>{e.checked&&(o.push(e.value),r.push(e.data))})),o.length&&t.push({column:e,field:n,property:n,values:o,datas:r}))})),t}};return Object.assign(Object.assign({},c),s)},setupGrid:e=>e.extendTableMethods(qm)};let Um;const Xm=r({modals:[],drawers:[]}),Gm=s({setup:()=>()=>{const{modals:e,drawers:t}=Xm;return[e.length?a("div",{class:"vxe-dynamics--modal"},e.map((e=>a(i("vxe-modal"),e)))):f(),t.length?a("div",{class:"vxe-dynamics--drawer"},t.map((e=>a(i("vxe-drawer"),e)))):f()]}}),Km=p(Gm);function Zm(){Um||(Um=document.createElement("div"),Um.className="vxe-dynamics",document.body.appendChild(Um),Km.mount(Um))}e("F",{Panel:Wm,install(e){zm.hooks.add("$tableFilter",Ym),e.component(Wm.name,Wm)}}),Km.component(Wm.name,Wm);const Jm=s({name:"VxeTableMenuPanel",setup(e,t){const n=fp.uniqueId(),l=c("$xetable",{}),{reactData:o}=l,r=m(),i={refElem:r},s={xID:n,props:e,context:t,getRefMaps:()=>i,renderVN:()=>{const{ctxMenuStore:e}=o,{computeMenuOpts:t}=l.getComputeMaps(),n=t.value;return a(g,{to:"body",disabled:!1},[a("div",{ref:r,class:["vxe-table--context-menu-wrapper",n.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,n)=>t.every((e=>!1===e.visible))?f():a("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map(((t,o)=>{const r=t.children&&t.children.some((e=>!1!==e.visible));return!1===t.visible?null:a("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[a("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,t)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[a("i",{class:["vxe-context-menu--link-prefix",t.prefixIcon]}),a("span",{class:"vxe-context-menu--link-content"},zp(t.name)),a("i",{class:["vxe-context-menu--link-suffix",r?t.suffixIcon||"suffix--haschild":t.suffixIcon]})]),r?a("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,i)=>!1===r.visible?null:a("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${n}_${o}_${i}`},[a("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,r)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[a("i",{class:["vxe-context-menu--link-prefix",r.prefixIcon]}),a("span",{class:"vxe-context-menu--link-content"},zp(r.name))])])))):null])}))))))])}};return s},render(){return this.renderVN()}}),Qm="F2",eg="Escape",tg="Enter",ng="Tab",lg="Delete",og="Backspace",rg=" ",ag="ContextMenu",ig="ArrowUp",sg="ArrowDown",cg="ArrowLeft",ug="ArrowRight",dg="PageUp",pg="PageDown",fg={" ":"Spacebar",Apps:ag,Del:lg,Up:ig,Down:sg,Left:cg,Right:ug},mg=Xp.firefox?"DOMMouseScroll":"mousewheel",gg=[],hg=(e,t)=>{const{key:n}=e;return t=t.toLowerCase(),!(!n||t!==n.toLowerCase()&&(!fg[n]||fg[n].toLowerCase()!==t))};function vg(e){const t=e.type===mg;gg.forEach((({type:n,cb:l})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&l(e)}))}const bg={on(e,t,n){gg.push({comp:e,type:t,cb:n})},off(e,t){fp.remove(gg,(n=>n.comp===e&&n.type===t))},trigger:vg,eqKeypad(e,t){const{key:n}=e;return t.toLowerCase()===n.toLowerCase()}};Xp.isDoc&&(Xp.msie||(window.addEventListener("copy",vg,!1),window.addEventListener("cut",vg,!1),window.addEventListener("paste",vg,!1)),document.addEventListener("keydown",vg,!1),document.addEventListener("contextmenu",vg,!1),window.addEventListener("mousedown",vg,!1),window.addEventListener("blur",vg,!1),window.addEventListener("resize",vg,!1),window.addEventListener(mg,fp.throttle(vg,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1})),Km.component(Jm.name,Jm);const xg=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],yg={setupTable(e){const{props:t,reactData:n,internalData:l}=e,{refElem:o}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:s,computeTreeOpts:c}=e.getComputeMaps();let u={},p={};const f=(e,t)=>{const{model:n,editRender:l}=t;l&&(n.value=Mf(e,t),n.update=!1)},m=(e,t)=>{const{model:n,editRender:l}=t;l&&n.update&&(kf(e,t,n.value),n.update=!1,n.value=null)},g=()=>{const e=o.value;if(e){const t=e.querySelector(".col--selected");t&&tf(t,"col--selected")}};function h(){const{editStore:e,tableColumn:t}=n,l=i.value,{actived:o}=e,{row:r,column:a}=o;(r||a)&&("row"===l.mode?t.forEach((e=>m(r,e))):m(r,a))}function v(t,n){const{tableFullTreeData:o,afterFullData:r,fullDataRowIdData:a,fullAllDataRowIdData:i}=l,s=c.value,{rowField:u,parentField:d,mapChildrenField:p}=s,f=s.children||s.childrenField,m=n?"push":"unshift";t.forEach((t=>{const n=t[d],l=Cf(e,t),s=n?fp.findTree(o,(e=>n===e[u]),{children:p}):null;if(s){const{item:n}=s,o=i[Cf(e,n)],r=o?o.level:0;let c=n[f],u=n[p];fp.isArray(c)||(c=n[f]=[]),fp.isArray(u)||(u=n[f]=[]),c[m](t),u[m](t);const d={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:c,parent:n,level:r+1};a[l]=d,i[l]=d}else{r[m](t),o[m](t);const e={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:o,parent:null,level:0};a[l]=e,i[l]=e}}))}const b=(o,a,i)=>{const{treeConfig:s}=t,{mergeList:u,editStore:p}=n,{tableFullTreeData:f,afterFullData:m,tableFullData:g,fullDataRowIdData:h,fullAllDataRowIdData:b}=l,x=c.value,{transform:y,rowField:w,mapChildrenField:C}=x,S=x.children||x.childrenField;fp.isArray(o)||(o=[o]);const E=r(e.defineField(o.map((e=>Object.assign(s&&y?{[C]:[],[S]:[]}:{},e)))));if(fp.eqNull(a))s&&y?v(E,!1):(m.unshift(...E),g.unshift(...E),u.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+E.length)})));else if(-1===a)s&&y?v(E,!0):(m.push(...E),g.push(...E),u.forEach((e=>{const{row:t,rowspan:n}=e;t+n>m.length&&(e.rowspan=n+E.length)})));else if(s&&y){const t=fp.findTree(f,(e=>a[w]===e[w]),{children:C});if(t){const{parent:n}=t,l=n?n[C]:f,o=b[Cf(e,n)],r=o?o.level:0;if(E.forEach(((o,a)=>{const s=Cf(e,o);n&&(o[x.parentField]=n[w]);let c=t.index+a;i&&(c+=1),l.splice(c,0,o);const u={row:o,rowid:s,seq:-1,index:-1,_index:-1,$index:-1,items:l,parent:n,level:r+1};h[s]=u,b[s]=u})),n){const e=fp.findTree(f,(e=>a[w]===e[w]),{children:S});if(e){const t=e.items;let n=e.index;i&&(n+=1),t.splice(n,0,...E)}}}else v(E,!0)}else{if(s)throw new Error(Ip("vxe.error.noTree",["insert"]));let t=-1;if(fp.isNumber(a)?a<m.length&&(t=a):t=e.findRowIndexOf(m,a),i&&(t=Math.min(m.length,t+1)),-1===t)throw new Error(Np("vxe.error.unableInsert"));m.splice(t,0,...E),g.splice(e.findRowIndexOf(g,a),0,...E),u.forEach((e=>{const{row:n,rowspan:l}=e;n>t?e.row=n+E.length:n+l>t&&(e.rowspan=l+E.length)}))}const{insertMaps:O}=p;return E.forEach((t=>{const n=Cf(e,t);O[n]=t})),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(s&&y),s&&y||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),d().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:E.length?E[E.length-1]:null,rows:E})))};return u={insert:e=>b(e,null),insertAt:(e,t)=>b(e,t),insertNextAt:(e,t)=>b(e,t,!0),remove(o){const{treeConfig:r}=t,{mergeList:a,editStore:i,selectCheckboxMaps:p}=n,{tableFullTreeData:f,afterFullData:m,tableFullData:g}=l,h=s.value,v=c.value,{transform:b,mapChildrenField:x}=v,y=v.children||v.childrenField,{actived:w,removeMaps:C,insertMaps:S}=i,{checkField:E}=h;let O=[];if(o?fp.isArray(o)||(o=[o]):o=g,o.forEach((t=>{if(!e.isInsertByRow(t)){const n=Cf(e,t);C[n]=t}})),!E){const t=Object.assign({},p);o.forEach((n=>{const l=Cf(e,n);t[l]&&delete t[l]})),n.selectCheckboxMaps=t}return g===o?(o=O=g.slice(0),l.tableFullData=[],l.afterFullData=[],e.clearMergeCells()):r&&b?o.forEach((t=>{const n=Cf(e,t),l=fp.findTree(f,(t=>n===Cf(e,t)),{children:x});if(l){const e=l.items.splice(l.index,1);O.push(e[0])}const o=fp.findTree(f,(t=>n===Cf(e,t)),{children:y});o&&o.items.splice(o.index,1);const r=e.findRowIndexOf(m,t);r>-1&&m.splice(r,1)})):o.forEach((t=>{const n=e.findRowIndexOf(g,t);if(n>-1){const e=g.splice(n,1);O.push(e[0])}const l=e.findRowIndexOf(m,t);l>-1&&(a.forEach((e=>{const{row:t,rowspan:n}=e;t>l?e.row=t-1:t+n>l&&(e.rowspan=n-1)})),m.splice(l,1))})),w.row&&e.findRowIndexOf(o,w.row)>-1&&u.clearEdit(),o.forEach((t=>{const n=Cf(e,t);S[n]&&delete S[n]})),e.updateFooter(),e.cacheRowMap(),e.handleTableData(r&&b),r&&b||e.updateAfterDataIndex(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),d().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:O.length?O[O.length-1]:null,rows:O})))},removeCheckboxRow:()=>u.remove(e.getCheckboxRecords()).then((t=>(e.clearCheckboxRow(),t))),removeRadioRow(){const t=e.getRadioRecord();return u.remove(t||[]).then((t=>(e.clearRadioRow(),t)))},removeCurrentRow(){const t=e.getCurrentRecord();return u.remove(t||[]).then((t=>(e.clearCurrentRow(),t)))},getRecordset:()=>({insertRecords:u.getInsertRecords(),removeRecords:u.getRemoveRecords(),updateRecords:u.getUpdateRecords(),pendingRecords:e.getPendingRecords()}),getInsertRecords(){const{editStore:e}=n,{fullAllDataRowIdData:t}=l,{insertMaps:o}=e,r=[];return fp.each(o,((e,n)=>{t[n]&&r.push(e)})),r},getRemoveRecords(){const{editStore:e}=n,{removeMaps:t}=e,l=[];return fp.each(t,(e=>{l.push(e)})),l},getUpdateRecords(){const{keepSource:n,treeConfig:o}=t,{tableFullData:r}=l,a=c.value;return n?(h(),o?fp.filterTree(r,(t=>e.isUpdateByRow(t)),a):r.filter((t=>e.isUpdateByRow(t)))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:t}=n,{afterFullData:r}=l,a=o.value,{args:i,row:s}=t.actived;return i&&e.findRowIndexOf(r,s)>-1&&a.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=n,{args:t,column:l}=e.selected;return t&&l?Object.assign({},t):null},clearActived(e){return this.clearEdit(e)},clearEdit(t){const{editStore:l}=n,{actived:o,focused:r}=l,{row:a,column:i}=o;return(a||i)&&(h(),o.args=null,o.row=null,o.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:a,rowIndex:e.getRowIndex(a),$rowIndex:e.getVMRowIndex(a),column:i,columnIndex:e.getColumnIndex(i),$columnIndex:e.getVMColumnIndex(i)},t||null)),"obsolete"===gp.cellVaildMode&&e.clearValidate?e.clearValidate():(r.row=null,r.column=null,d())},clearSelected(){const{editStore:e}=n,{selected:t}=e;return t.row=null,t.column=null,g(),d()},isActiveByRow(e){return this.isEditByRow(e)},isEditByRow(e){const{editStore:t}=n;return t.actived.row===e},setActiveRow:e=>u.setEditRow(e),setEditRow(t,n){const{visibleColumn:o}=l;let r=fp.find(o,(e=>jp(e.editRender)));return n&&(r=fp.isString(n)?e.getColumnByField(n):n),e.setEditCell(t,r)},setActiveCell:(e,t)=>u.setEditCell(e,t),setEditCell(n,o){const{editConfig:r}=t,a=fp.isString(o)?e.getColumnByField(o):o;return n&&a&&jp(r)&&jp(a.editRender)?e.scrollToRow(n,a).then((()=>{const t=e.getCell(n,a);return t&&(p.handleActived({row:n,rowIndex:e.getRowIndex(n),column:a,columnIndex:e.getColumnIndex(a),cell:t,$table:e}),l._lastCallTime=Date.now()),d()})):d()},setSelectCell(t,l){const{tableData:o}=n,r=i.value,a=fp.isString(l)?e.getColumnByField(l):l;if(t&&a&&"manual"!==r.trigger){const n=e.findRowIndexOf(o,t);if(n>-1&&a){const l=e.getCell(t,a),o={row:t,rowIndex:n,column:a,columnIndex:e.getColumnIndex(a),cell:l};e.handleSelected(o,{})}}return d()}},p={handleActived(l,o){const{editConfig:r,mouseConfig:a}=t,{editStore:s,tableColumn:c}=n,m=i.value,{mode:g}=m,{actived:h,focused:v}=s,{row:b,column:x}=l,{editRender:y}=x,w=l.cell||e.getCell(b,x),C=m.beforeEditMethod||m.activeMethod;if(l.cell=w,w&&jp(r)&&jp(y)&&!e.hasPendingByRow(b)){if(h.row!==b||"cell"===g&&h.column!==x){let t="edit-disabled";if(!C||C(Object.assign(Object.assign({},l),{$table:e,$grid:e.xegrid}))){a&&(u.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),h.column&&u.clearEdit(o),t="edit-activated",x.renderHeight=w.offsetHeight,h.args=l,h.row=b,h.column=x,"row"===g?c.forEach((e=>f(b,e))):f(b,x);const n=m.afterEditMethod;d((()=>{p.handleFocus(l,o),n&&n(Object.assign(Object.assign({},l),{$table:e,$grid:e.xegrid}))}))}e.dispatchEvent(t,{row:b,rowIndex:e.getRowIndex(b),$rowIndex:e.getVMRowIndex(b),column:x,columnIndex:e.getColumnIndex(x),$columnIndex:e.getVMColumnIndex(x)},o),"edit-activated"===t&&e.dispatchEvent("edit-actived",{row:b,rowIndex:e.getRowIndex(b),$rowIndex:e.getVMRowIndex(b),column:x,columnIndex:e.getColumnIndex(x),$columnIndex:e.getVMColumnIndex(x)},o)}else{const{column:t}=h;if(a&&(u.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==x){const{model:n}=t;n.update&&kf(b,t,n.value),e.clearValidate&&e.clearValidate(b,x)}x.renderHeight=w.offsetHeight,h.args=l,h.column=x,setTimeout((()=>{p.handleFocus(l,o)}))}v.column=null,v.row=null,e.focus()}return d()},handleFocus(t){const{row:n,column:l,cell:o}=t,{editRender:r}=l;if(jp(r)){const a=Im.get(r.name);let i,{autofocus:s,autoselect:c}=r;if(!s&&a&&(s=a.autofocus),!c&&a&&(c=a.autoselect),fp.isFunction(s)?i=s.call(this,t):s&&(i=o.querySelector(s),i&&i.focus()),i){if(c)i.select();else if(Xp.msie){const e=i.createTextRange();e.collapse(!1),e.select()}}else e.scrollToRow(n,l)}},handleSelected(l,o){const{mouseConfig:r}=t,{editStore:s}=n,c=a.value,f=i.value,{actived:m,selected:g}=s,{row:h,column:v}=l,b=r&&c.selected;return!b||g.row===h&&g.column===v||(m.row!==h||"cell"===f.mode&&m.column!==v)&&(u.clearEdit(o),u.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),g.args=l,g.row=h,g.column=v,b&&p.addCellSelectedClass(),e.focus(),o&&e.dispatchEvent("cell-selected",l,o)),d()},addCellSelectedClass(){const{editStore:t}=n,{selected:l}=t,{row:o,column:r}=l;if(g(),o&&r){const t=e.getCell(o,r);t&&nf(t,"col--selected")}}},Object.assign(Object.assign({},u),p)},setupGrid:e=>e.extendTableMethods(xg)};function wg(e){const t=c("xesize",null),n=u((()=>e.size||(t?t.value:null)));return h("xesize",n),n}e("E",{install(){zm.hooks.add("$tableEdit",yg)}});const Cg=s({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>gp.button.size||gp.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>gp.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,t){const{slots:n,emit:l}=t,o=fp.uniqueId(),i=wg(e),s=r({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),p={showTime:null},f=m(),h=m(),x=m(),y={refElem:f},w={xID:o,props:e,context:t,reactData:s,internalData:p,getRefMaps:()=>y},C=c("$xebuttongroup",null);let S={};const E=u((()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1})),O=u((()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||C&&"text"===C.props.mode?"text":"button"})),T=u((()=>{const{status:t}=e;return t||(C?C.props.status:"")})),R=u((()=>{const{round:t}=e;return t||!!C&&C.props.round})),M=u((()=>{const{circle:t}=e;return t||!!C&&C.props.circle})),k=()=>d().then((()=>{const{transfer:t,placement:n}=e,{panelIndex:l}=s,o=h.value,r=x.value;if(r&&o){const e=o.offsetHeight,a=o.offsetWidth,i=r.offsetHeight,c=r.offsetWidth,u=5,p={zIndex:l},{top:f,left:m,boundingTop:g,visibleHeight:h,visibleWidth:v}=pf(o);let b="bottom";if(t){let t=m+a-c,l=f+e;"top"===n?(b="top",l=f-i):n||(g+e+i+u>h&&(b="top",l=f-i),l<u&&(b="bottom",l=f+e)),t+c+u>v&&(t-=t+c+u-v),t<u&&(t=u),Object.assign(p,{left:`${t}px`,right:"auto",top:`${l}px`,minWidth:`${a}px`})}else"top"===n?(b="top",p.bottom=`${e}px`):n||g+e+i>h&&g-e-i>u&&(b="top",p.bottom=`${e}px`);return s.panelStyle=p,s.panelPlacement=b,d()}})),D=t=>{C?C.handleClick({name:e.name},t):S.dispatchEvent("click",{$event:t},t)},I=e=>{0===e.button&&e.stopPropagation()},$=e=>{const t=e.currentTarget,n=x.value,{flag:l,targetElem:o}=uf(e,t,"vxe-button");l&&(n&&(n.dataset.active="N"),s.showPanel=!1,setTimeout((()=>{n&&"Y"===n.dataset.active||(s.animatVisible=!1)}),350),S.dispatchEvent("dropdown-click",{name:o.getAttribute("name"),$event:e},e))},F=()=>{const e=x.value;e&&(e.dataset.active="Y",s.animatVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(s.showPanel=!0,s.panelIndex<Hp()&&(s.panelIndex=Bp()),k(),setTimeout((()=>{s.showPanel&&k()}),50))}),20))},N=e=>{const t=x.value;t&&(t.dataset.active="Y",s.inited||(s.inited=!0),p.showTime=setTimeout((()=>{"Y"===t.dataset.active?F():s.animatVisible=!1}),250)),A(e)},L=e=>{j(),P(e)},A=e=>{l("mouseenter",{$event:e})},P=e=>{l("mouseleave",{$event:e})},j=()=>{const e=x.value;clearTimeout(p.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(s.showPanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(s.animatVisible=!1)}),350))}),100)):(s.animatVisible=!1,s.showPanel=!1)},V=()=>{j()},B=()=>{const{content:t,icon:l,loading:o}=e,r=[];return o?r.push(a("i",{class:["vxe-button--loading-icon",gp.icon.BUTTON_LOADING]})):n.icon?r.push(a("span",{class:"vxe-button--custom-icon"},n.icon({}))):l&&r.push(a("i",{class:["vxe-button--icon",l]})),n.default?r.push(a("span",{class:"vxe-button--content"},n.default({}))):t&&r.push(a("span",{class:"vxe-button--content"},zp(t))),r};return S={dispatchEvent(e,t,n){l(e,Object.assign({$button:w,$event:n},t))},focus:()=>(h.value.focus(),d()),blur:()=>(h.value.blur(),d())},Object.assign(w,S),v((()=>{bg.on(w,"mousewheel",(e=>{const t=x.value;s.showPanel&&!uf(e,t).flag&&j()}))})),b((()=>{bg.off(w,"mousewheel")})),w.renderVN=()=>{const{className:t,popupClassName:l,transfer:o,title:r,type:c,destroyOnClose:u,name:d,disabled:p,loading:m}=e,{inited:v,showPanel:b}=s,y=E.value,C=O.value,S=T.value,k=R.value,j=M.value,H=i.value;return n.dropdowns?a("div",{ref:f,class:["vxe-button--dropdown",t?fp.isFunction(t)?t({$button:w}):t:"",{[`size--${H}`]:H,"is--active":b}]},[a("button",{ref:h,class:["vxe-button",`type--${C}`,{[`size--${H}`]:H,[`theme--${S}`]:S,"is--round":k,"is--circle":j,"is--disabled":p||m,"is--loading":m}],title:r,name:d,type:y?c:"button",disabled:p||m,onMouseenter:N,onMouseleave:L,onClick:D},B().concat([a("i",{class:`vxe-button--dropdown-arrow ${gp.icon.BUTTON_DROPDOWN}`})])),a(g,{to:"body",disabled:!o||!v},[a("div",{ref:x,class:["vxe-button--dropdown-panel",l?fp.isFunction(l)?l({$button:w}):l:"",{[`size--${H}`]:H,"animat--leave":s.animatVisible,"animat--enter":b}],placement:s.panelPlacement,style:s.panelStyle},v?[a("div",{class:"vxe-button--dropdown-wrapper",onMousedown:I,onClick:$,onMouseenter:F,onMouseleave:V},u&&!b?[]:n.dropdowns({}))]:[])])]):a("button",{ref:h,class:["vxe-button",`type--${C}`,t?fp.isFunction(t)?t({$button:w}):t:"",{[`size--${H}`]:H,[`theme--${S}`]:S,"is--round":k,"is--circle":j,"is--disabled":p||m,"is--loading":m}],title:r,name:d,type:y?c:"button",disabled:p||m,onClick:D,onMouseenter:A,onMouseleave:P},B())},w},render(){return this.renderVN()}}),Sg=s({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const n=u((()=>e.icon||gp.icon.LOADING)),l=u((()=>{const t=gp.loadingText;return e.text||(null===t?t:gp.i18n("vxe.loading.text"))}));return()=>{const o=n.value,r=l.value;return a("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[a("div",{class:"vxe-loading--wrapper"},t.default({}))]:[a("div",{class:"vxe-loading--chunk"},[o?a("i",{class:o}):a("div",{class:"vxe-loading--spinner"}),r?a("div",{class:"vxe-loading--text"},`${r}`):null])])}}}),Eg=Object.assign(Sg,{install(e){e.component(Sg.name,Sg)}}),Og=[],Tg=[],Rg=s({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>gp.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>gp.modal.duration},message:[Number,String],content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>gp.modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>gp.modal.showConfirmButton},confirmButtonText:{type:String,default:()=>gp.modal.confirmButtonText},lockView:{type:Boolean,default:()=>gp.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>gp.modal.mask},maskClosable:{type:Boolean,default:()=>gp.modal.maskClosable},escClosable:{type:Boolean,default:()=>gp.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>gp.modal.showHeader},showFooter:{type:Boolean,default:()=>gp.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>gp.modal.showClose},dblclickZoom:{type:Boolean,default:()=>gp.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>gp.modal.minWidth},minHeight:{type:[Number,String],default:()=>gp.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>gp.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>gp.modal.draggable},remember:{type:Boolean,default:()=>gp.modal.remember},destroyOnClose:{type:Boolean,default:()=>gp.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>gp.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>gp.modal.transfer},storage:{type:Boolean,default:()=>gp.modal.storage},storageKey:{type:String,default:()=>gp.modal.storageKey},animat:{type:Boolean,default:()=>gp.modal.animat},size:{type:String,default:()=>gp.modal.size||gp.size},beforeHideMethod:{type:Function,default:()=>gp.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),c=r({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),p=m(),f=m(),h=m(),x=m(),y={refElem:p},w={xID:i,props:e,context:t,reactData:c,getRefMaps:()=>y};let C={};const S=u((()=>"message"===e.type)),E=()=>f.value,O=()=>{const{width:t,height:n}=e,l=E();return l.style.width=`${t?isNaN(t)?t:`${t}px`:""}`,l.style.height=`${n?isNaN(n)?n:`${n}px`:""}`,d()},T=()=>{const{zIndex:t}=e,{modalZindex:n}=c;t?c.modalZindex=t:n<Hp()&&(c.modalZindex=Bp())},R=()=>d().then((()=>{const{position:t}=e,n=fp.toNumber(e.marginSize),l=E(),o=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:i,left:s}=fp.isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===i;let u="",d="";d=s&&!a&&"center"!==s?isNaN(s)?s:`${s}px`:`${Math.max(n,o/2-l.offsetWidth/2)}px`,u=i&&!c?isNaN(i)?i:`${i}px`:`${Math.max(n,r/2-l.offsetHeight/2)}px`,l.style.top=u,l.style.left=d})),M=()=>{d((()=>{let e=0;Tg.forEach((t=>{const n=t.getBox();e+=fp.toNumber(t.props.top),t.reactData.modalTop=e,e+=n.clientHeight}))}))},k=()=>{Tg.indexOf(w)>-1&&fp.remove(Tg,(e=>e===w)),M()},D=t=>{const{remember:n,beforeHideMethod:o}=e,{visible:r}=c,a=S.value,i={type:t};return r&&Promise.resolve(o?o(i):null).then((e=>{fp.isError(e)||(a&&k(),c.contentVisible=!1,n||(c.zoomLocat=null),fp.remove(Og,(e=>e===w)),C.dispatchEvent("before-hide",i),setTimeout((()=>{c.visible=!1,l("update:modelValue",!1),C.dispatchEvent("hide",i)}),200))})).catch((e=>e)),d()},I=e=>{const t="close";C.dispatchEvent(t,{type:t},e),D(t)},$=e=>{const t="confirm";C.dispatchEvent(t,{type:t},e),D(t)},F=e=>{const t="cancel";C.dispatchEvent(t,{type:t},e),D(t)},N=e=>{const t=gp.version,n=fp.toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},L=()=>{const{id:t,remember:n,storage:l,storageKey:o}=e,{zoomLocat:r}=c;if(t&&n&&l){const e=E(),n=N(o);n[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((e=>e?fp.toNumber(e):"")).join(","),localStorage.setItem(o,fp.toJSONString(n))}},A=()=>d().then((()=>{if(!c.zoomLocat){const t=Math.max(0,fp.toNumber(e.marginSize)),n=E(),{visibleHeight:l,visibleWidth:o}=lf();c.zoomLocat={top:n.offsetTop,left:n.offsetLeft,width:n.offsetWidth+(n.style.width?0:1),height:n.offsetHeight+(n.style.height?0:1)},Object.assign(n.style,{top:`${t}px`,left:`${t}px`,width:o-2*t+"px",height:l-2*t+"px"}),L()}})),P=()=>{const{duration:t,remember:n,showFooter:o}=e,{inited:r,visible:a}=c,i=S.value;return r||(c.inited=!0),a||(n||O(),c.visible=!0,c.contentVisible=!1,T(),Og.push(w),setTimeout((()=>{c.contentVisible=!0,d((()=>{if(o){const e=h.value,t=x.value,n=e||t;n&&n.focus()}const e={type:""};l("update:modelValue",!0),C.dispatchEvent("show",e)}))}),10),i?(-1===Tg.indexOf(w)&&Tg.push(w),M(),-1!==t&&setTimeout((()=>D("close")),fp.toNumber(t))):d((()=>{const{fullscreen:t}=e,{firstOpen:l}=c;n&&!l||R().then((()=>{setTimeout((()=>R()),20)})),l?(c.firstOpen=!1,(()=>{const{id:t,remember:n,storage:l,storageKey:o}=e;return!!(t&&n&&l&&N(o)[t])})()?(()=>{const{id:t,remember:n,storage:l,storageKey:o}=e;if(t&&n&&l){const e=N(o)[t];if(e){const t=E(),[n,l,o,r,a,i,s,u]=e.split(",");n&&(t.style.left=`${n}px`),l&&(t.style.top=`${l}px`),o&&(t.style.width=`${o}px`),r&&(t.style.height=`${r}px`),a&&i&&(c.zoomLocat={left:a,top:i,width:s,height:u})}}})():t&&d((()=>A()))):t&&d((()=>A()))}))),d()},j=t=>{const n=p.value;e.maskClosable&&t.target===n&&D("mask")},V=e=>{if(hg(e,eg)){const e=fp.max(Og,(e=>e.reactData.modalZindex));e&&setTimeout((()=>{e===w&&e.props.escClosable&&D("exit")}),10)}},B=()=>!!c.zoomLocat,H=()=>d().then((()=>{const{zoomLocat:e}=c;if(e){const t=E();c.zoomLocat=null,Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),L()}})),_=()=>c.zoomLocat?H().then((()=>B())):A().then((()=>B())),z=e=>{const{zoomLocat:t}=c,n={type:t?"revert":"max"};return _().then((()=>{C.dispatchEvent("zoom",n,e)}))},W=()=>{const{modalZindex:e}=c;Og.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&T()},q=t=>{const{remember:n,storage:o}=e,{zoomLocat:r}=c,a=fp.toNumber(e.marginSize),i=E();if(!r&&0===t.button&&!uf(t,i,"trigger--btn").flag){t.preventDefault();const e=document.onmousemove,r=document.onmouseup,s=t.clientX-i.offsetLeft,c=t.clientY-i.offsetTop,{visibleHeight:u,visibleWidth:p}=lf();document.onmousemove=e=>{e.preventDefault();const t=i.offsetWidth,n=i.offsetHeight,o=a,r=p-t-a-1,d=a,f=u-n-a-1;let m=e.clientX-s,g=e.clientY-c;m>r&&(m=r),m<o&&(m=o),g>f&&(g=f),g<d&&(g=d),i.style.left=`${m}px`,i.style.top=`${g}px`,i.className=i.className.replace(/\s?is--drag/,"")+" is--drag",l("move",{type:"move",$event:e})},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=r,n&&o&&d((()=>{L()})),setTimeout((()=>{i.className=i.className.replace(/\s?is--drag/,"")}),50)}}},Y=t=>{t.preventDefault();const{remember:n,storage:l}=e,{visibleHeight:o,visibleWidth:r}=lf(),a=fp.toNumber(e.marginSize),i=t.target.getAttribute("type"),s=fp.toNumber(e.minWidth),u=fp.toNumber(e.minHeight),d=r,p=o,f=E(),m=document.onmousemove,g=document.onmouseup,h=f.clientWidth,v=f.clientHeight,b=t.clientX,x=t.clientY,y=f.offsetTop,w=f.offsetLeft,S={type:"resize"};document.onmousemove=e=>{let t,c,m,g;switch(e.preventDefault(),i){case"wl":t=b-e.clientX,m=t+h,w-t>a&&m>s&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px");break;case"swst":t=b-e.clientX,c=x-e.clientY,m=t+h,g=c+v,w-t>a&&m>s&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px"),y-c>a&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-c+"px");break;case"swlb":t=b-e.clientX,c=e.clientY-x,m=t+h,g=c+v,w-t>a&&m>s&&(f.style.width=`${m<d?m:d}px`,f.style.left=w-t+"px"),y+g+a<o&&g>u&&(f.style.height=`${g<p?g:p}px`);break;case"st":c=x-e.clientY,g=v+c,y-c>a&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-c+"px");break;case"wr":t=e.clientX-b,m=t+h,w+m+a<r&&m>s&&(f.style.width=`${m<d?m:d}px`);break;case"sest":t=e.clientX-b,c=x-e.clientY,m=t+h,g=c+v,w+m+a<r&&m>s&&(f.style.width=`${m<d?m:d}px`),y-c>a&&g>u&&(f.style.height=`${g<p?g:p}px`,f.style.top=y-c+"px");break;case"selb":t=e.clientX-b,c=e.clientY-x,m=t+h,g=c+v,w+m+a<r&&m>s&&(f.style.width=`${m<d?m:d}px`),y+g+a<o&&g>u&&(f.style.height=`${g<p?g:p}px`);break;case"sb":c=e.clientY-x,g=c+v,y+g+a<o&&g>u&&(f.style.height=`${g<p?g:p}px`)}f.className=f.className.replace(/\s?is--drag/,"")+" is--drag",n&&l&&L(),C.dispatchEvent("resize",S,e)},document.onmouseup=()=>{c.zoomLocat=null,document.onmousemove=m,document.onmouseup=g,setTimeout((()=>{f.className=f.className.replace(/\s?is--drag/,"")}),50)}};C={dispatchEvent(e,t,n){l(e,Object.assign({$modal:w,$event:n},t))},open:P,close:()=>D("close"),getBox:E,getPosition:()=>{if(!S.value){const e=E();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(e,t)=>{if(!S.value){const n=E();fp.isNumber(e)&&(n.style.top=`${e}px`),fp.isNumber(t)&&(n.style.left=`${t}px`)}return d()},isMaximized:B,zoom:_,maximize:A,revert:H},Object.assign(w,C);const U=()=>{const{slots:t={},showZoom:l,draggable:o}=e,r=S.value,i=n.header||t.header,s=[];if(e.showHeader){const t={};o&&(t.onMousedown=q),l&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=z),s.push(a("div",Object.assign({class:["vxe-modal--header",{"is--draggable":o,"is--ellipsis":!r&&e.showTitleOverflow}]},t),i?!c.inited||e.destroyOnClose&&!c.visible?[]:Pf(i({$modal:w})):(()=>{const{slots:t={},showClose:l,showZoom:o,title:r}=e,{zoomLocat:i}=c,s=n.title||t.title,u=n.corner||t.corner,d=[a("div",{class:"vxe-modal--header-title"},s?Pf(s({$modal:w})):r?zp(r):gp.i18n("vxe.alert.title"))],p=[];return u&&p.push(a("span",{class:"vxe-modal--corner-wrapper"},Pf(u({$modal:w})))),o&&p.push(a("i",{class:["vxe-modal--zoom-btn","trigger--btn",i?gp.icon.MODAL_ZOOM_OUT:gp.icon.MODAL_ZOOM_IN],title:gp.i18n("vxe.modal.zoom"+(i?"Out":"In")),onClick:z})),l&&p.push(a("i",{class:["vxe-modal--close-btn","trigger--btn",gp.icon.MODAL_CLOSE],title:gp.i18n("vxe.modal.close"),onClick:I})),d.push(a("div",{class:"vxe-modal--header-right"},p)),d})()))}return s},X=()=>{const{slots:t={},status:l,message:o}=e,r=e.content||o,i=S.value,s=n.default||t.default,u=[];return l&&u.push(a("div",{class:"vxe-modal--status-wrapper"},[a("i",{class:["vxe-modal--status-icon",e.iconStatus||gp.icon[`MODAL_${l}`.toLocaleUpperCase()]]})])),u.push(a("div",{class:"vxe-modal--content"},s?!c.inited||e.destroyOnClose&&!c.visible?[]:Pf(s({$modal:w})):zp(r))),i||u.push(a(Eg,{class:"vxe-modal--loading",modelValue:e.loading})),[a("div",{class:"vxe-modal--body"},u)]},G=()=>{const{slots:t={}}=e,l=S.value,o=n.footer||t.footer,r=[];return e.showFooter&&r.push(a("div",{class:"vxe-modal--footer"},o?!c.inited||e.destroyOnClose&&!c.visible?[]:Pf(o({$modal:w})):(()=>{const{showCancelButton:t,showConfirmButton:n,type:l}=e,o=[];return(fp.isBoolean(t)?t:"confirm"===l)&&o.push(a(Cg,{key:1,ref:x,content:e.cancelButtonText||gp.i18n("vxe.button.cancel"),onClick:F})),(fp.isBoolean(n)?n:"confirm"===l||"alert"===l)&&o.push(a(Cg,{key:2,ref:h,status:"primary",content:e.confirmButtonText||gp.i18n("vxe.button.confirm"),onClick:$})),o})())),!l&&e.resize&&r.push(a("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>a("span",{class:`${e}-resize`,type:e,onMousedown:Y}))))),r};return w.renderVN=()=>{const{className:t,type:n,animat:l,loading:o,status:r,lockScroll:i,lockView:u,mask:d,resize:m}=e,{inited:h,zoomLocat:v,modalTop:b,contentVisible:x,visible:y}=c,w=s.value;return a(g,{to:"body",disabled:!e.transfer||!h},[a("div",{ref:p,class:["vxe-modal--wrapper",`type--${n}`,t||"",{[`size--${w}`]:w,[`status--${r}`]:r,"is--animat":l,"lock--scroll":i,"lock--view":u,"is--resize":m,"is--mask":d,"is--maximize":v,"is--visible":x,"is--active":y,"is--loading":o}],style:{zIndex:c.modalZindex,top:b?`${b}px`:null},onClick:j},[a("div",{ref:f,class:"vxe-modal--box",onMousedown:W},U().concat(X(),G()))])])},o((()=>e.width),O),o((()=>e.height),O),o((()=>e.modelValue),(e=>{e?P():D("model")})),v((()=>{d((()=>{e.storage&&!e.id&&Np("vxe.error.reqProp",["modal.id"]),e.modelValue&&P(),O()})),e.escClosable&&bg.on(w,"keydown",V)})),b((()=>{bg.off(w,"keydown"),k()})),w},render(){return this.renderVN()}});function Mg(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function kg(e){return fp.isString(e)?e.replace(/,/g,""):e}function Dg(e,t){return/^-/.test(""+e)?fp.toFixed(fp.ceil(e,t),t):fp.toFixed(fp.floor(e,t),t)}const Ig=12,$g=s({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>gp.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>fp.eqNull(gp.input.placeholder)?gp.i18n("vxe.base.pleaseInput"):gp.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>gp.input.size||gp.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>gp.input.exponential},controls:{type:Boolean,default:()=>gp.input.controls},digits:{type:[String,Number],default:()=>gp.input.digits},startDate:{type:[String,Number,Date],default:()=>gp.input.startDate},endDate:{type:[String,Number,Date],default:()=>gp.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>gp.input.startDay},labelFormat:{type:String,default:()=>gp.input.labelFormat},valueFormat:{type:String,default:()=>gp.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>gp.input.festivalMethod},disabledMethod:{type:Function,default:()=>gp.input.disabledMethod},selectDay:{type:[String,Number],default:()=>gp.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>gp.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:n,emit:l}=t,i=c("$xeform",null),s=c("$xeformiteminfo",null),p=fp.uniqueId(),f=wg(e),h=r({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),v=m(),x=m(),y=m(),w=m(),C={refElem:v,refInput:x},S={xID:p,props:e,context:t,reactData:h,getRefMaps:()=>C};let E={};const O=(t,n)=>{const{type:l}=e;return"time"===l?function(e){if(e){const t=new Date;let n=0,l=0,o=0;if(fp.isDate(e))n=e.getHours(),l=e.getMinutes(),o=e.getSeconds();else{const t=(e=fp.toValueString(e)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=fp.toNumber(t[1]),l=fp.toNumber(t[3]),o=fp.toNumber(t[5]))}return t.setHours(n),t.setMinutes(l),t.setSeconds(o),t}return new Date("")}(t):fp.toStringDate(t,n)},T=u((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),R=u((()=>["number","integer","float"].indexOf(e.type)>-1)),M=u((()=>fp.getSize(h.inputValue))),k=u((()=>{const t=M.value;return e.maxlength&&t>fp.toNumber(e.maxlength)})),D=u((()=>T.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),I=u((()=>"password"===e.type)),$=u((()=>"search"===e.type)),F=u((()=>fp.toInteger(e.digits)||1)),N=u((()=>{const{type:t}=e,n=F.value,l=e.step;return"integer"===t?fp.toInteger(l)||1:"float"===t?fp.toNumber(l)||1/Math.pow(10,n):fp.toNumber(l)||1})),L=u((()=>{const{type:t}=e,n=R.value,l=D.value,o=I.value;return e.clearable&&(o||n||l||"text"===t||"search"===t)})),A=u((()=>e.startDate?fp.toStringDate(e.startDate):null)),P=u((()=>e.endDate?fp.toStringDate(e.endDate):null)),j=u((()=>["date","week","month","quarter","year"].includes(e.type))),V=u((()=>{const{modelValue:t,multiple:n}=e,l=D.value,o=_.value;return n&&t&&l?fp.toValueString(t).split(",").map((e=>{const t=O(e,o);return fp.isValidDate(t)?t:null})):[]})),B=u((()=>{const e=V.value,t=_.value;return e.map((e=>fp.toDateString(e,t)))})),H=u((()=>{const e=V.value,t=X.value;return e.map((e=>fp.toDateString(e,t))).join(", ")})),_=u((()=>{const{type:t}=e;return"time"===t?"HH:mm:ss":e.valueFormat||("datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),z=u((()=>{const{modelValue:t}=e,n=D.value,l=_.value;let o=null;if(t&&n){const e=O(t,l);fp.isValidDate(e)&&(o=e)}return o})),W=u((()=>{const e=A.value,{selectMonth:t}=h;return!(!t||!e)&&t<=e})),q=u((()=>{const e=P.value,{selectMonth:t}=h;return!(!t||!e)&&t>=e})),Y=u((()=>{const{datetimePanelValue:e}=h;return e?fp.toDateString(e,"HH:mm:ss"):""})),U=u((()=>{const e=z.value,t=T.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),X=u((()=>D.value?e.labelFormat||gp.i18n(`vxe.input.date.labelFormat.${e.type}`):null)),G=u((()=>{const{selectMonth:e,currentDate:t}=h,n=[];if(e&&t){const l=t.getFullYear(),o=e.getFullYear(),r=new Date(o-o%Ig,0,1);for(let e=-4;e<16;e++){const t=fp.getWhatYear(r,e,"first"),o=t.getFullYear();n.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===o,isNext:e>=Ig,year:o})}}return n})),K=u((()=>{if(D.value){const{datePanelType:e,selectMonth:t}=h,n=G.value;let l,o="";return t&&(o=t.getFullYear(),l=t.getMonth()+1),"quarter"===e?gp.i18n("vxe.input.date.quarterLabel",[o]):"month"===e?gp.i18n("vxe.input.date.monthLabel",[o]):"year"===e?n.length?`${n[0].year} - ${n[n.length-1].year}`:"":gp.i18n("vxe.input.date.dayLabel",[o,l?gp.i18n(`vxe.input.date.m${l}`):"-"])}return""})),Z=u((()=>{const{startDay:t,startWeek:n}=e;return fp.toNumber(fp.isNumber(t)||fp.isString(t)?t:n)})),J=u((()=>{const e=[];if(D.value){let t=Z.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),Q=u((()=>D.value?J.value.map((e=>({value:e,label:gp.i18n(`vxe.input.date.weeks.w${e}`)}))):[])),ee=u((()=>{if(D.value){const e=Q.value;return[{label:gp.i18n("vxe.input.date.weeks.w")}].concat(e)}return[]})),te=u((()=>{const e=G.value;return fp.chunk(e,4)})),ne=u((()=>{const{selectMonth:e,currentDate:t}=h,n=[];if(e&&t){const l=t.getFullYear(),o=Mg(t),r=fp.getWhatYear(e,0,"first"),a=r.getFullYear();for(let e=-2;e<6;e++){const t=fp.getWhatQuarter(r,e),i=t.getFullYear(),s=Mg(t),c=i<a;n.push({date:t,isPrev:c,isCurrent:i===a,isNow:i===l&&s===o,isNext:!c&&i>a,quarter:s})}}return n})),le=u((()=>{const e=ne.value;return fp.chunk(e,2)})),oe=u((()=>{const{selectMonth:e,currentDate:t}=h,n=[];if(e&&t){const l=t.getFullYear(),o=t.getMonth(),r=fp.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<16;t++){const a=fp.getWhatYear(e,0,t),i=a.getFullYear(),s=a.getMonth(),c=i<r;n.push({date:a,isPrev:c,isCurrent:i===r,isNow:i===l&&s===o,isNext:!c&&i>r,month:s})}}return n})),re=u((()=>{const e=oe.value;return fp.chunk(e,4)})),ae=u((()=>{const{selectMonth:e,currentDate:t}=h,n=[];if(e&&t){const l=U.value,o=J.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(fp.getWhatDay(e,d).getTime()+l);for(let t=0;t<42;t++){const l=fp.getWhatDay(p,t),o=l.getFullYear(),u=l.getMonth(),d=l.getDate(),f=l<e;n.push({date:l,isPrev:f,isCurrent:o===s&&u===c,isNow:o===r&&u===a&&d===i,isNext:!f&&c!==u,label:d})}}return n})),ie=u((()=>{const e=ae.value;return fp.chunk(e,7)})),se=u((()=>{const e=ie.value,t=Z.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:fp.getYearWeek(n.date,t)}].concat(e)}))})),ce=u((()=>{const e=[];if(T.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),ue=u((()=>{const e=[];if(T.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),de=u((()=>ue.value)),pe=u((()=>{const{type:t,readonly:n,editable:l,multiple:o}=e;return n||o||!l||"week"===t||"quarter"===t})),fe=u((()=>{const{type:t}=e,{showPwd:n}=h,l=R.value,o=D.value,r=I.value;return o||l||r&&n||"number"===t?"text":t})),me=u((()=>{const{placeholder:t}=e;return t?zp(t):""})),ge=u((()=>{const{maxlength:t}=e;return R.value&&!fp.toNumber(t)?16:t})),he=u((()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)})),ve=u((()=>{const{type:t}=e,{inputValue:n}=h;return R.value?"integer"===t?fp.toInteger(kg(n)):fp.toNumber(kg(n)):0})),be=u((()=>{const{min:t}=e,{inputValue:n}=h,l=R.value,o=ve.value;return!(!n&&0!==n||!l||null===t)&&o<=fp.toNumber(t)})),xe=u((()=>{const{max:t}=e,{inputValue:n}=h,l=R.value,o=ve.value;return!(!n&&0!==n||!l||null===t)&&o>=fp.toNumber(t)})),ye=t=>{const{type:n,exponential:l}=e,o=ge.value,r=F.value,a="float"===n?Dg(t,r):fp.toValueString(t);return!l||t!==a&&fp.toValueString(t).toLowerCase()!==fp.toNumber(a).toExponential()?a.slice(0,o):t},we=e=>{const{inputValue:t}=h;E.dispatchEvent(e.type,{value:t},e)},Ce=(t,n)=>{h.inputValue=t,l("update:modelValue",t),E.dispatchEvent("input",{value:t},n),fp.toValueString(e.modelValue)!==t&&(E.dispatchEvent("change",{value:t},n),i&&s&&i.triggerItemEvent(n,s.itemConfig.field,t))},Se=(e,t)=>{const n=D.value,l=he.value;h.inputValue=e,n||(l?Ce(e,t):E.dispatchEvent("input",{value:e},t))},Ee=e=>{const t=e.target.value;Se(t,e)},Oe=e=>{he.value||we(e)},Te=e=>{h.isActivated=!0,D.value&&xt(e),we(e)},Re=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=h;E.dispatchEvent("prefix-click",{value:e},t)}};let Me;const ke=()=>new Promise((e=>{h.visiblePanel=!1,Me=window.setTimeout((()=>{h.animatVisible=!1,e()}),350)})),De=(t,n)=>{const{type:l}=e,o=R.value;D.value&&ke(),(o||["text","search","password"].indexOf(l)>-1)&&focus(),E.dispatchEvent("clear",{value:n},t)},Ie=t=>{const{disabled:n}=e;if(!n)if(ef(t.currentTarget,"is--clear"))Ce("",t),De(t,"");else{const{inputValue:e}=h;E.dispatchEvent("suffix-click",{value:e},t)}},$e=t=>{const{type:n}=e,{valueFormat:l}=e,o=X.value,r=Z.value;let a=null,i="";if(t&&(a=O(t,l)),fp.isValidDate(a)){if(i=fp.toDateString(a,o,{firstDay:r}),o&&"week"===n&&fp.getWhatWeek(a,0,r,r).getFullYear()<a.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const t=Number(i.substring(e,e+4));t&&!isNaN(t)&&(i=i.replace(`${t}`,""+(t-1)))}}}else a=null;h.datePanelValue=a,h.datePanelLabel=i},Fe=()=>{const t=D.value,{inputValue:n}=h;t&&($e(n),h.inputValue=e.multiple?H.value:h.datePanelLabel)},Ne=()=>{const{type:t}=e,{inputValue:n}=h,l=D.value,o=F.value;if(l)Fe();else if("float"===t&&n){const e=Dg(n,o);n!==e&&Ce(e,{type:"init"})}},Le=t=>null===e.max||fp.toNumber(t)<=fp.toNumber(e.max),Ae=t=>null===e.min||fp.toNumber(t)>=fp.toNumber(e.min),Pe=e=>{const t=fp.getWhatMonth(e,0,"first");fp.isEqual(t,h.selectMonth)||(h.selectMonth=t)},je=t=>{const{modelValue:n,multiple:l}=e,{datetimePanelValue:o}=h,r=T.value,a=_.value,i=Z.value;if("week"===e.type){const n=fp.toNumber(e.selectDay);t=fp.getWhatWeek(t,0,n,i)}else r&&(t.setHours(o.getHours()),t.setMinutes(o.getMinutes()),t.setSeconds(o.getSeconds()));const s=fp.toDateString(t,a,{firstDay:i});if(Pe(t),l){const e=B.value;if(r){const e=[...V.value],n=[],l=fp.findIndexOf(e,(e=>fp.isDateSame(t,e,"yyyyMMdd")));-1===l?e.push(t):e.splice(l,1),e.forEach((e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))})),Ce(n.map((e=>fp.toDateString(e,a))).join(","),{type:"update"})}else e.some((e=>fp.isEqual(e,s)))?Ce(e.filter((e=>!fp.isEqual(e,s))).join(","),{type:"update"}):Ce(e.concat([s]).join(","),{type:"update"})}else fp.isEqual(n,s)||Ce(s,{type:"update"})},Ve=()=>{const{type:t,min:n,max:l,exponential:o}=e,{inputValue:r,datetimePanelValue:a}=h,i=R.value,s=D.value,c=X.value;if(!pe.value)if(i){if(r){let e="integer"===t?fp.toInteger(kg(r)):fp.toNumber(kg(r));if(Ae(e)?Le(e)||(e=l):e=n,o){const t=fp.toValueString(r).toLowerCase();t===fp.toNumber(e).toExponential()&&(e=t)}Ce(ye(e),{type:"check"})}}else if(s)if(r){let n=O(r,c);if(fp.isValidDate(n))if("time"===t)n=fp.toDateString(n,c),r!==n&&Ce(n,{type:"check"}),h.inputValue=n;else{let e=!1;const l=Z.value;if("datetime"===t){const t=z.value;r===fp.toDateString(t,c)&&r===fp.toDateString(n,c)||(e=!0,a.setHours(n.getHours()),a.setMinutes(n.getMinutes()),a.setSeconds(n.getSeconds()))}else e=!0;h.inputValue=fp.toDateString(n,c,{firstDay:l}),e&&je(n)}else h.inputValue=e.multiple?H.value:h.datePanelLabel}else Ce("",{type:"check"})},Be=e=>{const{inputValue:t}=h;he.value||Ce(t,e),Ve(),h.visiblePanel||(h.isActivated=!1),E.dispatchEvent("blur",{value:t},e)},He=t=>{const{readonly:n,disabled:l}=e,{showPwd:o}=h;l||n||(h.showPwd=!o),E.dispatchEvent("toggle-visible",{visible:h.showPwd},t)},_e=e=>{E.dispatchEvent("search-click",{},e)},ze=(t,n)=>{const{min:l,max:o,type:r}=e,{inputValue:a}=h,i=N.value,s="integer"===r?fp.toInteger(kg(a)):fp.toNumber(kg(a)),c=t?fp.add(s,i):fp.subtract(s,i);let u;u=Ae(c)?Le(c)?c:o:l,Se(ye(u),n)};let We;const qe=t=>{const{readonly:n,disabled:l}=e,o=be.value;clearTimeout(We),l||n||o||ze(!1,t),E.dispatchEvent("next-number",{},t)},Ye=e=>{We=window.setTimeout((()=>{qe(e),Ye(e)}),60)},Ue=t=>{const{readonly:n,disabled:l}=e,o=xe.value;clearTimeout(We),l||n||o||ze(!0,t),E.dispatchEvent("prev-number",{},t)},Xe=t=>{const{exponential:n,controls:l}=e;if(R.value){const e=t.ctrlKey,o=t.shiftKey,r=t.altKey,a=t.keyCode;e||o||r||!(hg(t,rg)||(!n||69!==a)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)||t.preventDefault(),l&&(e=>{const t=hg(e,ig),n=hg(e,sg);(t||n)&&(e.preventDefault(),t?Ue(e):qe(e))})(t)}we(t)},Ge=e=>{we(e)},Ke=()=>{clearTimeout(We)},Ze=e=>{We=window.setTimeout((()=>{Ue(e),Ze(e)}),60)},Je=e=>{if(Ke(),0===e.button){const t=ef(e.currentTarget,"is--prev");t?Ue(e):qe(e),We=window.setTimeout((()=>{t?Ze(e):Ye(e)}),500)}},Qe=t=>{if(R.value&&e.controls&&h.isActivated){const e=t.deltaY;e>0?qe(t):e<0&&Ue(t),t.preventDefault()}we(t)},et=(e,t)=>{h.selectMonth=fp.getWhatMonth(e,t,"first")},tt=()=>{const e=fp.getWhatDay(Date.now(),0,"first");h.currentDate=e,et(e,0)},nt=()=>{let{datePanelType:e}=h;e="month"===e||"quarter"===e?"year":"month",h.datePanelType=e},lt=t=>{const{type:n}=e,{datePanelType:l,selectMonth:o}=h;W.value||(h.selectMonth="year"===n?fp.getWhatYear(o,-12,"first"):"month"===n||"quarter"===n?"year"===l?fp.getWhatYear(o,-12,"first"):fp.getWhatYear(o,-1,"first"):"year"===l?fp.getWhatYear(o,-12,"first"):"month"===l?fp.getWhatYear(o,-1,"first"):fp.getWhatMonth(o,-1,"first"),E.dispatchEvent("date-prev",{type:n},t))},ot=t=>{tt(),e.multiple||(je(h.currentDate),ke()),E.dispatchEvent("date-today",{type:e.type},t)},rt=t=>{const{type:n}=e,{datePanelType:l,selectMonth:o}=h;q.value||(h.selectMonth="year"===n?fp.getWhatYear(o,Ig,"first"):"month"===n||"quarter"===n?"year"===l?fp.getWhatYear(o,Ig,"first"):fp.getWhatYear(o,1,"first"):"year"===l?fp.getWhatYear(o,Ig,"first"):"month"===l?fp.getWhatYear(o,1,"first"):fp.getWhatMonth(o,1,"first"),E.dispatchEvent("date-next",{type:n},t))},at=t=>{const{disabledMethod:n}=e,{datePanelType:l}=h;return n&&n({type:l,viewType:l,date:t.date,$input:S})},it=t=>{const{type:n,multiple:l}=e,{datePanelType:o}=h;"month"===n?"year"===o?(h.datePanelType="month",Pe(t)):(je(t),l||ke()):"year"===n?(je(t),l||ke()):"quarter"===n?"year"===o?(h.datePanelType="quarter",Pe(t)):(je(t),l||ke()):"month"===o?(h.datePanelType="week"===n?n:"day",Pe(t)):"year"===o?(h.datePanelType="month",Pe(t)):(je(t),"datetime"===n||l||ke())},st=e=>{at(e)||it(e.date)},ct=e=>{at({date:e})||(ae.value.some((t=>fp.isDateSame(t.date,e,"yyyyMMdd")))||Pe(e),$e(e))},ut=e=>{at({date:e})||(G.value.some((t=>fp.isDateSame(t.date,e,"yyyy")))||Pe(e),$e(e))},dt=e=>{at({date:e})||(ne.value.some((t=>fp.isDateSame(t.date,e,"yyyyq")))||Pe(e),$e(e))},pt=e=>{at({date:e})||(oe.value.some((t=>fp.isDateSame(t.date,e,"yyyyMM")))||Pe(e),$e(e))},ft=e=>{if(!at(e)){const{datePanelType:t}=h;"month"===t?pt(e.date):"quarter"===t?dt(e.date):"year"===t?ut(e.date):ct(e.date)}},mt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},gt=e=>{h.datetimePanelValue=new Date(h.datetimePanelValue.getTime()),mt(e.currentTarget)},ht=()=>{const{multiple:t}=e,{datetimePanelValue:n}=h,l=z.value,o=T.value;if(o){const e=_.value;if(t){const t=B.value;if(o){const t=[...V.value],l=[];t.forEach((e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),l.push(e))})),Ce(l.map((t=>fp.toDateString(t,e))).join(","),{type:"update"})}else Ce(t.join(","),{type:"update"})}else je(l||h.currentDate)}ke()},vt=()=>d().then((()=>{const{transfer:t,placement:n}=e,{panelIndex:l}=h,o=x.value,r=y.value;if(o&&r){const e=o.offsetHeight,a=o.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,c=5,u={zIndex:l},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:g}=pf(o);let v="bottom";if(console.log(pf(o)),t){let t=f,l=p+e;"top"===n?(v="top",l=p-i):n||(l+i+c>m&&(v="top",l=p-i),l<c&&(v="bottom",l=p+e)),t+s+c>g&&(t-=t+s+c-g),t<c&&(t=c),Object.assign(u,{left:`${t}px`,top:`${l}px`,minWidth:`${a}px`})}else"top"===n?(v="top",u.bottom=`${e}px`):n||p+e+i>m&&p-e-i>c&&(v="top",u.bottom=`${e}px`);return h.panelStyle=u,h.panelPlacement=v,d()}})),bt=()=>{const{disabled:t}=e,{visiblePanel:n}=h,l=D.value;return t||n?d():(h.inited||(h.inited=!0),clearTimeout(Me),h.isActivated=!0,h.animatVisible=!0,l&&(()=>{const{type:t}=e,n=T.value,l=z.value;["year","quarter","month","week"].indexOf(t)>-1?h.datePanelType=t:h.datePanelType="day",h.currentDate=fp.getWhatDay(Date.now(),0,"first"),l?(et(l,0),$e(l)):tt(),n&&(h.datetimePanelValue=h.datePanelValue||fp.getWhatDay(Date.now(),0,"first"),d((()=>{const e=w.value;fp.arrayEach(e.querySelectorAll("li.is--selected"),mt)})))})(),setTimeout((()=>{h.visiblePanel=!0}),10),h.panelIndex<Hp()&&(h.panelIndex=Bp()),vt())},xt=t=>{const{readonly:n}=e;n||(t.preventDefault(),bt())},yt=e=>{we(e)},wt=t=>{const{disabled:n}=e,{visiblePanel:l,isActivated:o}=h,r=D.value,a=v.value,i=y.value;!n&&o&&(h.isActivated=uf(t,a).flag||uf(t,i).flag,h.isActivated||(r?l&&(ke(),Ve()):Ve()))},Ct=t=>{const{clearable:n,disabled:l}=e,{visiblePanel:o}=h,r=D.value;if(!l){const e=hg(t,ng),l=hg(t,lg),a=hg(t,eg),i=hg(t,tg),s=hg(t,cg),c=hg(t,ig),u=hg(t,ug),d=hg(t,sg),p=hg(t,dg),f=hg(t,pg),m=s||c||u||d;let g=h.isActivated;e?(g&&Ve(),g=!1,h.isActivated=g):m?r&&g&&(o?(e=>{const{isActivated:t,datePanelValue:n,datePanelType:l}=h;if(t){e.preventDefault();const t=hg(e,cg),o=hg(e,ig),r=hg(e,ug),a=hg(e,sg);if("year"===l){let e=fp.getWhatYear(n||Date.now(),0,"first");t?e=fp.getWhatYear(e,-1):o?e=fp.getWhatYear(e,-4):r?e=fp.getWhatYear(e,1):a&&(e=fp.getWhatYear(e,4)),ut(e)}else if("quarter"===l){let e=fp.getWhatQuarter(n||Date.now(),0,"first");t?e=fp.getWhatQuarter(e,-1):o?e=fp.getWhatQuarter(e,-2):r?e=fp.getWhatQuarter(e,1):a&&(e=fp.getWhatQuarter(e,2)),dt(e)}else if("month"===l){let e=fp.getWhatMonth(n||Date.now(),0,"first");t?e=fp.getWhatMonth(e,-1):o?e=fp.getWhatMonth(e,-4):r?e=fp.getWhatMonth(e,1):a&&(e=fp.getWhatMonth(e,4)),pt(e)}else{let e=n||fp.getWhatDay(Date.now(),0,"first");const l=Z.value;t?e=fp.getWhatDay(e,-1):o?e=fp.getWhatWeek(e,-1,l):r?e=fp.getWhatDay(e,1):a&&(e=fp.getWhatWeek(e,1,l)),ct(e)}}})(t):(c||d)&&xt(t)):i?r&&(o?h.datePanelValue?it(h.datePanelValue):ke():g&&xt(t)):(p||f)&&r&&g&&(e=>{const{isActivated:t}=h;if(t){const t=hg(e,dg);e.preventDefault(),t?lt(e):rt(e)}})(t),e||a?o&&ke():l&&n&&g&&De(t,null)}},St=t=>{const{disabled:n}=e,{visiblePanel:l}=h;!n&&l&&(uf(t,y.value).flag?vt():(ke(),Ve()))},Et=()=>{const{isActivated:e,visiblePanel:t}=h;t?(ke(),Ve()):e&&Ve()},Ot=(t,n)=>{const{festivalMethod:l}=e;if(l){const{datePanelType:e}=h,o=l({type:e,viewType:e,date:t.date,$input:S}),r=o?fp.isString(o)?{label:o}:o:{},i=r.extra?fp.isString(r.extra)?{label:r.extra}:r.extra:null,s=[a("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},i&&i.label?[a("span",n),a("span",{class:["vxe-input--date-label--extra",i.important?"is-important":"",i.className],style:i.style},fp.toValueString(i.label))]:n)],c=r.label;if(c){const e=fp.toValueString(c).split(",");s.push(a("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?a("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>a("span",e.substring(0,3))))):a("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return s}return n},Tt=()=>{const{datePanelType:t}=h;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:l}=h,o=z.value,r=ee.value,i=se.value,s=V.value,c="yyyyMMdd";return[a("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[a("thead",[a("tr",r.map((e=>a("th",e.label))))]),a("tbody",i.map((e=>{const n=t?e.some((e=>s.some((t=>fp.isDateSame(t,e.date,c))))):e.some((e=>fp.isDateSame(o,e.date,c))),r=e.some((e=>fp.isDateSame(l,e.date,c)));return a("tr",e.map((e=>a("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":n,"is--hover":r},onClick:()=>st(e),onMouseenter:()=>ft(e)},Ot(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:l}=h,o=z.value,r=re.value,i=V.value,s="yyyyMM";return[a("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[a("tbody",r.map((e=>a("tr",e.map((e=>a("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>fp.isDateSame(t,e.date,s))):fp.isDateSame(o,e.date,s),"is--hover":fp.isDateSame(l,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Ot(e,gp.i18n(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:l}=h,o=z.value,r=le.value,i=V.value,s="yyyyq";return[a("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[a("tbody",r.map((e=>a("tr",e.map((e=>a("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>fp.isDateSame(t,e.date,s))):fp.isDateSame(o,e.date,s),"is--hover":fp.isDateSame(l,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Ot(e,gp.i18n(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:l}=h,o=z.value,r=te.value,i=V.value,s="yyyy";return[a("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[a("tbody",r.map((e=>a("tr",e.map((e=>a("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?i.some((t=>fp.isDateSame(t,e.date,s))):fp.isDateSame(o,e.date,s),"is--hover":fp.isDateSame(l,e.date,s)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Ot(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:l}=h,o=z.value,r=Q.value,i=ie.value,s=V.value,c="yyyyMMdd";return[a("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[a("thead",[a("tr",r.map((e=>a("th",e.label))))]),a("tbody",i.map((e=>a("tr",e.map((e=>a("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":at(e),"is--selected":t?s.some((t=>fp.isDateSame(t,e.date,c))):fp.isDateSame(o,e.date,c),"is--hover":fp.isDateSame(l,e.date,c)},onClick:()=>st(e),onMouseenter:()=>ft(e)},Ot(e,e.label))))))))])]})()},Rt=()=>{const{multiple:t}=e,{datePanelType:n}=h,l=W.value,o=q.value,r=K.value;return[a("div",{class:"vxe-input--date-picker-header"},[a("div",{class:"vxe-input--date-picker-type-wrapper"},[a("span","year"===n?{class:"vxe-input--date-picker-label"}:{class:"vxe-input--date-picker-btn",onClick:nt},r)]),a("div",{class:"vxe-input--date-picker-btn-wrapper"},[a("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":l}],onClick:lt},[a("i",{class:"vxe-icon-caret-left"})]),a("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:ot},[a("i",{class:"vxe-icon-dot"})]),a("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":o}],onClick:rt},[a("i",{class:"vxe-icon-caret-right"})]),t&&j.value?a("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[a("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:ht},gp.i18n("vxe.button.confirm"))]):null])]),a("div",{class:"vxe-input--date-picker-body"},Tt())]},Mt=()=>{const{datetimePanelValue:e}=h,t=Y.value,n=ce.value,l=ue.value,o=de.value;return[a("div",{class:"vxe-input--time-picker-header"},[a("span",{class:"vxe-input--time-picker-title"},t),a("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:ht},gp.i18n("vxe.button.confirm"))]),a("div",{ref:w,class:"vxe-input--time-picker-body"},[a("ul",{class:"vxe-input--time-picker-hour-list"},n.map(((t,n)=>a("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{h.datetimePanelValue.setHours(t.value),gt(e)})(e,t)},t.label)))),a("ul",{class:"vxe-input--time-picker-minute-list"},l.map(((t,n)=>a("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{h.datetimePanelValue.setMinutes(t.value),gt(e)})(e,t)},t.label)))),a("ul",{class:"vxe-input--time-picker-second-list"},o.map(((t,n)=>a("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{h.datetimePanelValue.setSeconds(t.value),gt(e)})(e,t)},t.label))))])]},kt=()=>{const{controls:t}=e,n=R.value,l=D.value,o=I.value,r=$.value;let i;return o?i=(()=>{const{showPwd:e}=h;return a("span",{class:"vxe-input--password-suffix",onClick:He},[a("i",{class:["vxe-input--password-icon",e?gp.icon.INPUT_SHOW_PWD:gp.icon.INPUT_PWD]})])})():n?t&&(i=(()=>{const e=xe.value,t=be.value;return a("span",{class:"vxe-input--number-suffix"},[a("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":e}],onMousedown:Je,onMouseup:Ke,onMouseleave:Ke},[a("i",{class:["vxe-input--number-prev-icon",gp.icon.INPUT_PREV_NUM]})]),a("span",{class:["vxe-input--number-next is--next",{"is--disabled":t}],onMousedown:Je,onMouseup:Ke,onMouseleave:Ke},[a("i",{class:["vxe-input--number-next-icon",gp.icon.INPUT_NEXT_NUM]})])])})()):l?i=a("span",{class:"vxe-input--date-picker-suffix",onClick:xt},[a("i",{class:["vxe-input--date-picker-icon",gp.icon.INPUT_DATE]})]):r&&(i=a("span",{class:"vxe-input--search-suffix",onClick:_e},[a("i",{class:["vxe-input--search-icon",gp.icon.INPUT_SEARCH]})])),i?a("span",{class:"vxe-input--extra-suffix"},[i]):null};return E={dispatchEvent(e,t,n){l(e,Object.assign({$input:S,$event:n},t))},focus(){const e=x.value;return h.isActivated=!0,e.focus(),d()},blur:()=>(x.value.blur(),h.isActivated=!1,d()),select:()=>(x.value.select(),h.isActivated=!1,d()),showPanel:bt,hidePanel:ke,updatePlacement:vt},Object.assign(S,E),o((()=>e.modelValue),(e=>{h.inputValue=e,Fe()})),o((()=>e.type),(()=>{Object.assign(h,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ne()})),o(X,(()=>{D.value&&($e(h.datePanelValue),h.inputValue=e.multiple?H.value:h.datePanelLabel)})),d((()=>{bg.on(S,"mousewheel",St),bg.on(S,"mousedown",wt),bg.on(S,"keydown",Ct),bg.on(S,"blur",Et)})),b((()=>{Ke(),bg.off(S,"mousewheel"),bg.off(S,"mousedown"),bg.off(S,"keydown"),bg.off(S,"blur")})),Ne(),S.renderVN=()=>{const{className:t,controls:l,type:o,align:r,showWordCount:i,countMethod:s,name:c,disabled:u,readonly:d,autocomplete:p}=e,{inputValue:m,visiblePanel:b,isActivated:w}=h,C=f.value,S=k.value,E=M.value,O=D.value,T=pe.value,R=ge.value,I=fe.value,$=me.value,F=[],N=(()=>{const{prefixIcon:t}=e,l=n.prefix,o=[];return l?o.push(a("span",{class:"vxe-input--prefix-icon"},l({}))):t&&o.push(a("i",{class:["vxe-input--prefix-icon",t]})),o.length?a("span",{class:"vxe-input--prefix",onClick:Re},o):null})(),A=(()=>{const{disabled:t,suffixIcon:l}=e,{inputValue:o}=h,r=n.suffix,i=L.value,s=[];return r?s.push(a("span",{class:"vxe-input--suffix-icon"},r({}))):l&&s.push(a("i",{class:["vxe-input--suffix-icon",l]})),i&&s.push(a("i",{class:["vxe-input--clear-icon",gp.icon.INPUT_CLEAR]})),s.length?a("span",{class:["vxe-input--suffix",{"is--clear":i&&!t&&!(""===o||fp.eqNull(o))}],onClick:Ie},s):null})();N&&F.push(N),F.push(a("input",{ref:x,class:"vxe-input--inner",value:m,name:c,type:I,placeholder:$,maxlength:R,readonly:T,disabled:u,autocomplete:p,onKeydown:Xe,onKeyup:Ge,onWheel:Qe,onClick:yt,onInput:Ee,onChange:Oe,onFocus:Te,onBlur:Be})),A&&F.push(A),F.push(kt()),O&&F.push((()=>{const{type:t,transfer:n}=e,{inited:l,animatVisible:o,visiblePanel:r,panelPlacement:i,panelStyle:s}=h,c=f.value,u=[];return D.value?("datetime"===t?u.push(a("div",{class:"vxe-input--panel-layout-wrapper"},[a("div",{class:"vxe-input--panel-left-wrapper"},Rt()),a("div",{class:"vxe-input--panel-right-wrapper"},Mt())])):"time"===t?u.push(a("div",{class:"vxe-input--panel-wrapper"},Mt())):u.push(a("div",{class:"vxe-input--panel-wrapper"},Rt())),a(g,{to:"body",disabled:!n||!l},[a("div",{ref:y,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${c}`]:c,"is--transfer":n,"animat--leave":o,"animat--enter":r}],placement:i,style:s},u)])):null})());let P=!1;return i&&["text","search"].includes(o)&&(P=!0,F.push(a("span",{class:["vxe-input--count",{"is--error":S}]},s?`${s({value:m})}`:`${E}${R?`/${R}`:""}`))),a("div",{ref:v,class:["vxe-input",`type--${o}`,t,{[`size--${C}`]:C,[`is--${r}`]:r,"is--controls":l,"is--prefix":!!N,"is--suffix":!!A,"is--readonly":d,"is--visivle":b,"is--count":P,"is--disabled":u,"is--active":w}]},F)},S},render(){return this.renderVN()}}),Fg=s({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>gp.checkbox.size||gp.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,o=c("$xeform",null),r=c("$xeformiteminfo",null),i={xID:fp.uniqueId(),props:e,context:t};let s={};const d=wg(e),p=c("$xecheckboxgroup",null),f=u((()=>p?fp.includes(p.props.modelValue,e.label):e.modelValue===e.checkedValue)),m=u((()=>{if(e.disabled)return!0;if(p){const{props:e}=p,{computeIsMaximize:t}=p.getComputeMaps(),n=t.value,l=f.value;return e.disabled||n&&!l}return!1})),g=t=>{const{checkedValue:n,uncheckedValue:a}=e;if(!m.value){const i=t.target.checked,c=i?n:a,u={checked:i,value:c,label:e.label};p?p.handleChecked(u,t):(l("update:modelValue",c),s.dispatchEvent("change",u,t),o&&r&&o.triggerItemEvent(t,r.itemConfig.field,c))}};return s={dispatchEvent(e,t,n){l(e,Object.assign({$checkbox:i,$event:n},t))}},Object.assign(i,s),i.renderVN=()=>{const t=d.value,l=m.value,o=f.value,r=e.indeterminate;return a("label",{class:["vxe-checkbox",{[`size--${t}`]:t,"is--indeterminate":r,"is--disabled":l,"is--checked":o}],title:e.title},[a("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:o,onChange:g}),a("span",{class:["vxe-checkbox--icon",r?"vxe-icon-checkbox-indeterminate":o?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),a("span",{class:"vxe-checkbox--label"},n.default?n.default({}):zp(e.content))])},i},render(){return this.renderVN()}});function Ng(e){return!1!==e.visible}const Lg=s({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>fp.eqNull(gp.select.placeholder)?gp.i18n("vxe.base.pleaseSelect"):gp.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>gp.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>gp.select.size||gp.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>gp.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>gp.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(e,t){const{slots:n,emit:l}=t,i=c("$xeform",null),s=c("$xeformiteminfo",null),p=fp.uniqueId(),x=wg(e),y=r({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),w=m(),C=m(),S=m(),E=m(),O=m(),T={refElem:w},R={xID:p,props:e,context:t,reactData:y,getRefMaps:()=>T};let M={};const k=u((()=>e.optionProps||{})),D=u((()=>e.optionGroupProps||{})),I=u((()=>k.value.label||"label")),$=u((()=>k.value.value||"value")),F=u((()=>D.value.label||"label")),N=u((()=>D.value.options||"options")),L=u((()=>{const{modelValue:t,multiple:n,max:l}=e;return!(!n||!l)&&(t?t.length:0)>=fp.toNumber(l)})),A=u((()=>Object.assign({},gp.select.optionConfig,e.optionConfig))),P=u((()=>y.fullGroupList.some((e=>e.options&&e.options.length)))),j=u((()=>fp.toNumber(e.multiCharOverflow))),V=(e,t)=>e&&(fp.isString(e)&&(e=n[e]||null),fp.isFunction(e))?Pf(e(t)):[],B=e=>{const{fullOptionList:t,fullGroupList:n}=y,l=P.value,o=$.value;if(l)for(let r=0;r<n.length;r++){const t=n[r];if(t.options)for(let n=0;n<t.options.length;n++){const l=t.options[n];if(e===l[o])return l}}return t.find((t=>e===t[o]))},H=e=>{const{remoteValueList:t}=y,n=I.value,l=t.find((t=>e===t.key)),o=l?l.result:null;return fp.toValueString(o?o[n]:e)},_=e=>{const t=I.value,n=B(e);return fp.toValueString(n?n[t]:e)},z=u((()=>{const{modelValue:t,multiple:n,remote:l}=e,o=j.value;if(t&&n){const e=fp.isArray(t)?t:[t];return l?e.map((e=>H(e))).join(", "):e.map((e=>{const t=_(e);return o>0&&t.length>o?`${t.substring(0,o)}...`:t})).join(", ")}return l?H(t):_(t)})),W=()=>A.value.keyField||e.optionId||"_X_OPTION_KEY",q=e=>{const t=e[W()];return t?encodeURIComponent(t):""},Y=()=>{const{filterable:t,filterMethod:n}=e,{fullOptionList:l,fullGroupList:o,searchValue:r}=y,a=P.value,i=F.value,s=I.value;return a?y.visibleGroupList=t&&n?o.filter((e=>Ng(e)&&n({group:e,option:null,searchValue:r}))):t?o.filter((e=>Ng(e)&&(!r||`${e[i]}`.indexOf(r)>-1))):o.filter(Ng):y.visibleOptionList=t&&n?l.filter((e=>Ng(e)&&n({group:null,option:e,searchValue:r}))):t?l.filter((e=>Ng(e)&&(!r||`${e[s]}`.indexOf(r)>-1))):l.filter(Ng),d()},U=()=>{const{fullOptionList:e,fullGroupList:t}=y,n=N.value,l=W(),o=e=>{q(e)||(e[l]=fp.uniqueId("opt_"))};t.length?t.forEach((e=>{o(e),e[n]&&e[n].forEach(o)})):e.length&&e.forEach(o),Y()},X=e=>{const t=$.value;e&&(y.currentOption=e,y.currentValue=e[t])},G=(e,t)=>d().then((()=>{if(e){const n=E.value,l=O.value.querySelector(`[optid='${q(e)}']`);if(n&&l){const e=n.offsetHeight,o=5;t?l.offsetTop+l.offsetHeight-n.scrollTop>e&&(n.scrollTop=l.offsetTop+l.offsetHeight-e):(l.offsetTop+o<n.scrollTop||l.offsetTop+o>n.scrollTop+n.clientHeight)&&(n.scrollTop=l.offsetTop-o)}}})),K=()=>d().then((()=>{const{transfer:t,placement:n}=e,{panelIndex:l}=y,o=w.value,r=O.value;if(r&&o){const e=o.offsetHeight,a=o.offsetWidth,i=r.offsetHeight,s=r.offsetWidth,c=5,u={zIndex:l},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:g}=pf(o);let h="bottom";if(t){let t=f,l=p+e;"top"===n?(h="top",l=p-i):n||(l+i+c>m&&(h="top",l=p-i),l<c&&(h="bottom",l=p+e)),t+s+c>g&&(t-=t+s+c-g),t<c&&(t=c),Object.assign(u,{left:`${t}px`,top:`${l}px`,minWidth:`${a}px`})}else"top"===n?(h="top",u.bottom=`${e}px`):n||p+e+i>m&&p-e-i>c&&(h="top",u.bottom=`${e}px`);return y.panelStyle=u,y.panelPlacement=h,d()}}));let Z;const J=()=>{const{loading:t,disabled:n,filterable:l}=e;t||n||(clearTimeout(Z),y.inited||(y.inited=!0),y.isActivated=!0,y.animatVisible=!0,l&&Y(),setTimeout((()=>{const{modelValue:t,multiple:n}=e,l=B(n&&t?t[0]:t);y.visiblePanel=!0,l&&(X(l),G(l)),se()}),10),y.panelIndex<Hp()&&(y.panelIndex=Bp()),K())},Q=()=>{y.searchValue="",y.searchLoading=!1,y.visiblePanel=!1,Z=window.setTimeout((()=>{y.animatVisible=!1}),350)},ee=(t,n)=>{n!==e.modelValue&&(l("update:modelValue",n),M.dispatchEvent("change",{value:n},t),i&&s&&i.triggerItemEvent(t,s.itemConfig.field,n))},te=(e,t)=>{y.remoteValueList=[],ee(e,t),M.dispatchEvent("clear",{value:t},e)},ne=(e,t)=>{te(t,null),Q()},le=(t,n,l)=>{const{modelValue:o,multiple:r}=e,{remoteValueList:a}=y;if(r){let e;e=o?-1===o.indexOf(n)?o.concat([n]):o.filter((e=>e!==n)):[n];const r=a.find((e=>e.key===n));r?r.result=l:a.push({key:n,result:l}),ee(t,e)}else y.remoteValueList=[{key:n,result:l}],ee(t,n),Q()},oe=t=>{const{disabled:n}=e,{visiblePanel:l}=y;!n&&l&&(uf(t,O.value).flag?K():Q())},re=t=>{const{disabled:n}=e,{visiblePanel:l}=y;if(!n){const e=w.value,n=O.value;y.isActivated=uf(t,e).flag||uf(t,n).flag,l&&!y.isActivated&&Q()}},ae=t=>{const{clearable:n,disabled:l}=e,{visiblePanel:o,currentValue:r,currentOption:a}=y;if(!l){const e=hg(t,ng),l=hg(t,tg),i=hg(t,eg),s=hg(t,ig),c=hg(t,sg),u=hg(t,lg),d=hg(t,rg);if(e&&(y.isActivated=!1),o)if(i||e)Q();else if(l)t.preventDefault(),t.stopPropagation(),le(t,r,a);else if(s||c){t.preventDefault();let{firstOption:e,offsetOption:n}=((e,t)=>{const{visibleOptionList:n,visibleGroupList:l}=y,o=P.value,r=$.value,a=N.value;let i,s,c,u;if(o)for(let d=0;d<l.length;d++){const n=l[d],o=n[a],p=n.disabled;if(o)for(let l=0;l<o.length;l++){const n=o[l],a=Ng(n),d=p||n.disabled;if(i||d||(i=n),u&&a&&!d&&(c=n,!t))return{offsetOption:c};if(e===n[r]){if(u=n,t)return{offsetOption:s}}else a&&!d&&(s=n)}}else for(let d=0;d<n.length;d++){const l=n[d],o=l.disabled;if(i||o||(i=l),u&&!o&&(c=l,!t))return{offsetOption:c};if(e===l[r]){if(u=l,t)return{offsetOption:s}}else o||(s=l)}return{firstOption:i}})(r,s);n||B(r)||(n=e),X(n),G(n,c)}else d&&t.preventDefault();else(s||c||l||d)&&y.isActivated&&(t.preventDefault(),J());y.isActivated&&u&&n&&te(t,null)}},ie=()=>{Q()},se=()=>{e.filterable&&d((()=>{const e=S.value;e&&e.focus()}))},ce=t=>{e.disabled||(y.isActivated=!0),M.dispatchEvent("focus",{},t)},ue=e=>{y.isActivated=!1,M.dispatchEvent("blur",{},e)},de=e=>{y.searchValue=e},pe=()=>{y.isActivated=!0},fe=e=>{const{$event:t}=e;hg(t,tg)&&(t.preventDefault(),t.stopPropagation())},me=fp.debounce((function(){const{remote:t,remoteMethod:n}=e,{searchValue:l}=y;t&&n?(y.searchLoading=!0,Promise.resolve(n({searchValue:l})).then((()=>d())).catch((()=>d())).finally((()=>{y.searchLoading=!1,Y()}))):Y()}),350,{trailing:!0}),ge=e=>{const{$event:t}=e;t.preventDefault(),y.visiblePanel?Q():J()},he=(t,l)=>{const{optionKey:o,modelValue:r,multiple:i}=e,{currentValue:s}=y,c=A.value,u=I.value,d=$.value,p=P.value,{useKey:f}=c,m=n.option;return t.map(((e,t)=>{const{slots:n,className:c}=e,g=e[d],h=i?r&&r.indexOf(g)>-1:r===g,v=!p||Ng(e),b=((e,t,n)=>!!t.disabled||!(!n||!n.disabled)||!(!L.value||e))(h,e,l),x=q(e),y=n?n.default:null,w={option:e,group:null,$select:R};return v?a("div",{key:f||o?x:t,class:["vxe-select-option",c?fp.isFunction(c)?c(w):c:"",{"is--disabled":b,"is--selected":h,"is--hover":s===g}],optid:x,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:t=>{b||le(t,g,e)},onMouseenter:()=>{b||X(e)}},m?V(m,w):y?V(y,w):Wp(zp(e[u]))):null}))},ve=()=>{const{visibleGroupList:t,visibleOptionList:l,searchLoading:o}=y,r=P.value;if(o)return[a("div",{class:"vxe-select--search-loading"},[a("i",{class:["vxe-select--search-icon",gp.icon.SELECT_LOADED]}),a("span",{class:"vxe-select--search-text"},gp.i18n("vxe.select.loadingText"))])];if(r){if(t.length)return(()=>{const{optionKey:t}=e,{visibleGroupList:l}=y,o=A.value,r=F.value,i=N.value,{useKey:s}=o,c=n.option;return l.map(((e,n)=>{const{slots:l,className:o}=e,u=q(e),d=e.disabled,p=l?l.default:null,f={option:e,group:e,$select:R};return a("div",{key:s||t?u:n,class:["vxe-optgroup",o?fp.isFunction(o)?o(f):o:"",{"is--disabled":d}],optid:u},[a("div",{class:"vxe-optgroup--title"},c?V(c,f):p?V(p,f):zp(e[r])),a("div",{class:"vxe-optgroup--wrapper"},he(e[i]||[],e))])}))})()}else if(l.length)return he(l);return[a("div",{class:"vxe-select--empty-placeholder"},e.emptyText||gp.i18n("vxe.select.emptyText"))]};return M={dispatchEvent(e,t,n){l(e,Object.assign({$select:R,$event:n},t))},isPanelVisible:()=>y.visiblePanel,togglePanel:()=>(y.visiblePanel?Q():J(),d()),hidePanel:()=>(y.visiblePanel&&Q(),d()),showPanel:()=>(y.visiblePanel||J(),d()),refreshOption:Y,focus(){const e=C.value;return y.isActivated=!0,e.blur(),d()},blur:()=>(C.value.blur(),y.isActivated=!1,d())},Object.assign(R,M),o((()=>y.staticOptions),(e=>{e.some((e=>e.options&&e.options.length))?(y.fullOptionList=[],y.fullGroupList=e):(y.fullGroupList=[],y.fullOptionList=e||[]),U()})),o((()=>e.options),(e=>{y.fullGroupList=[],y.fullOptionList=e||[],U()})),o((()=>e.optionGroups),(e=>{y.fullOptionList=[],y.fullGroupList=e||[],U()})),v((()=>{d((()=>{const{options:t,optionGroups:n}=e;n?y.fullGroupList=n:t&&(y.fullOptionList=t),U()})),bg.on(R,"mousewheel",oe),bg.on(R,"mousedown",re),bg.on(R,"keydown",ae),bg.on(R,"blur",ie)})),b((()=>{bg.off(R,"mousewheel"),bg.off(R,"mousedown"),bg.off(R,"keydown"),bg.off(R,"blur")})),R.renderVN=()=>{const{className:t,popupClassName:l,transfer:o,disabled:r,loading:i,filterable:s}=e,{inited:c,isActivated:u,visiblePanel:d}=y,p=x.value,m=z.value,h=n.default,v=n.header,b=n.footer,T=n.prefix;return a("div",{ref:w,class:["vxe-select",t?fp.isFunction(t)?t({$select:R}):t:"",{[`size--${p}`]:p,"is--visivle":d,"is--disabled":r,"is--filter":s,"is--loading":i,"is--active":u}]},[a("div",{class:"vxe-select-slots",ref:"hideOption"},h?h({}):[]),a($g,{ref:C,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:r,type:"text",prefixIcon:e.prefixIcon,suffixIcon:i?gp.icon.SELECT_LOADED:d?gp.icon.SELECT_OPEN:gp.icon.SELECT_CLOSE,modelValue:m,onClear:ne,onClick:ge,onFocus:ce,onBlur:ue,onSuffixClick:ge},T?{prefix:()=>T({})}:{}),a(g,{to:"body",disabled:!o||!c},[a("div",{ref:O,class:["vxe-table--ignore-clear vxe-select--panel",l?fp.isFunction(l)?l({$select:R}):l:"",{[`size--${p}`]:p,"is--transfer":o,"animat--leave":!i&&y.animatVisible,"animat--enter":!i&&d}],placement:y.panelPlacement,style:y.panelStyle},c?[s?a("div",{class:"vxe-select--panel-search"},[a($g,{ref:S,class:"vxe-select-search--input",modelValue:y.searchValue,clearable:!0,placeholder:gp.i18n("vxe.select.search"),prefixIcon:gp.icon.INPUT_SEARCH,"onUpdate:modelValue":de,onFocus:pe,onKeydown:fe,onChange:me,onSearch:me})]):f(),a("div",{class:"vxe-select--panel-wrapper"},[v?a("div",{class:"vxe-select--panel-header"},v({})):f(),a("div",{class:"vxe-select--panel-body"},[a("div",{ref:E,class:"vxe-select-option--wrapper"},ve())]),b?a("div",{class:"vxe-select--panel-footer"},b({})):f()])]:[])])])},h("$xeselect",R),R},render(){return this.renderVN()}}),Ag=s({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=c("$xetable",{}),{computeExportOpts:n,computePrintOpts:l}=t.getComputeMaps(),o=r({isAll:!1,isIndeterminate:!1,loading:!1}),i=m(),s=m(),p=m(),g=u((()=>{const{storeData:t}=e;return t.columns.every((e=>e.checked))})),h=u((()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1})),v=u((()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)})),b=u((()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1})),x=t=>{const{storeData:n}=e,l=fp.findTree(n.columns,(e=>e===t));if(l&&l.parent){const{parent:e}=l;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),x(e))}},y=()=>{const{storeData:t}=e,n=t.columns;o.isAll=n.every((e=>e.disabled||e.checked)),o.isIndeterminate=!o.isAll&&n.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},w=()=>{const{storeData:t}=e,n=!o.isAll;fp.eachTree(t.columns,(e=>{e.disabled||(e.checked=n,e.halfChecked=!1)})),o.isAll=n,y()},C=()=>{d((()=>{const e=s.value,t=p.value,n=i.value,l=e||t||n;l&&l.focus()})),y()},S=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:l,columns:o}=t,r=g.value,a=v.value,i=fp.searchTree(o,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:i,isMerge:!!(l&&a&&r)&&n.isMerge})},E=()=>{const{storeData:t}=e;t.visible=!1},O=()=>{const{storeData:r}=e;r.isPrint?(()=>{const{storeData:n}=e,o=l.value;n.visible=!1,t.print(Object.assign({},o,S()))})():(()=>{const{storeData:l}=e,r=n.value;o.loading=!0,t.exportData(Object.assign({},r,S())).then((()=>{o.loading=!1,l.visible=!1})).catch((()=>{o.loading=!1}))})()};return()=>{const{defaultOptions:t,storeData:n}=e,{isAll:l,isIndeterminate:r}=o,{hasTree:c,hasMerge:u,isPrint:d,hasColgroup:m}=n,{isHeader:S}=t,T=[],R=g.value,M=h.value,k=v.value,D=b.value;return fp.eachTree(n.columns,(e=>{const t=Wp(e.getTitle(),1),n=e.children&&e.children.length,l=e.checked,o=e.halfChecked;T.push(a("li",{class:["vxe-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":l,"is--indeterminate":o,"is--disabled":e.disabled}],title:t,onClick:()=>{e.disabled||(e=>{const t=!e.checked;fp.eachTree([e],(e=>{e.checked=t,e.halfChecked=!1})),x(e),y()})(e)}},[a("span",{class:["vxe-checkbox--icon",o?gp.icon.TABLE_CHECKBOX_INDETERMINATE:l?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]}),a("span",{class:"vxe-checkbox--label"},t)]))})),a(Rg,{modelValue:n.visible,title:gp.i18n(d?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:o.loading,"onUpdate:modelValue"(e){n.visible=e},onShow:C},{default:()=>a("div",{class:"vxe-export--panel"},[a("table",{cellspacing:0,cellpadding:0,border:0},[a("tbody",[[d?f():a("tr",[a("td",gp.i18n("vxe.export.expName")),a("td",[a($g,{ref:s,modelValue:t.filename,type:"text",clearable:!0,placeholder:gp.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){t.filename=e}})])]),d?f():a("tr",[a("td",gp.i18n("vxe.export.expType")),a("td",[a(Lg,{modelValue:t.type,options:n.typeList.map((e=>({value:e.value,label:gp.i18n(e.label)}))),"onUpdate:modelValue"(e){t.type=e}})])]),d||M?a("tr",[a("td",gp.i18n("vxe.export.expSheetName")),a("td",[a($g,{ref:p,modelValue:t.sheetName,type:"text",clearable:!0,placeholder:gp.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){t.sheetName=e}})])]):f(),a("tr",[a("td",gp.i18n("vxe.export.expMode")),a("td",[a(Lg,{modelValue:t.mode,options:n.modeList.map((e=>({value:e.value,label:gp.i18n(e.label)}))),"onUpdate:modelValue"(e){t.mode=e}})])]),a("tr",[a("td",[gp.i18n("vxe.export.expColumn")]),a("td",[a("div",{class:"vxe-export--panel-column"},[a("ul",{class:"vxe-export--panel-column-header"},[a("li",{class:["vxe-export--panel-column-option",{"is--checked":l,"is--indeterminate":r}],title:gp.i18n("vxe.table.allTitle"),onClick:w},[a("span",{class:["vxe-checkbox--icon",r?gp.icon.TABLE_CHECKBOX_INDETERMINATE:l?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]}),a("span",{class:"vxe-checkbox--label"},gp.i18n("vxe.export.expCurrentColumn"))])]),a("ul",{class:"vxe-export--panel-column-body"},T)])])]),a("tr",[a("td",gp.i18n("vxe.export.expOpts")),a("td",[a("div",{class:"vxe-export--panel-option-row"},[a(Fg,{modelValue:t.isHeader,title:gp.i18n("vxe.export.expHeaderTitle"),content:gp.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){t.isHeader=e}}),a(Fg,{modelValue:t.isFooter,disabled:!n.hasFooter,title:gp.i18n("vxe.export.expFooterTitle"),content:gp.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){t.isFooter=e}}),a(Fg,{modelValue:t.original,title:gp.i18n("vxe.export.expOriginalTitle"),content:gp.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){t.original=e}})]),a("div",{class:"vxe-export--panel-option-row"},[a(Fg,{modelValue:!!(S&&m&&k)&&t.isColgroup,title:gp.i18n("vxe.export.expColgroupTitle"),disabled:!S||!m||!k,content:gp.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){t.isColgroup=e}}),a(Fg,{modelValue:!!(u&&k&&R)&&t.isMerge,title:gp.i18n("vxe.export.expMergeTitle"),disabled:!u||!k||!R,content:gp.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){t.isMerge=e}}),d?f():a(Fg,{modelValue:!!D&&t.useStyle,disabled:!D,title:gp.i18n("vxe.export.expUseStyleTitle"),content:gp.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){t.useStyle=e}}),a(Fg,{modelValue:!!c&&t.isAllExpand,disabled:!c,title:gp.i18n("vxe.export.expAllExpandTitle"),content:gp.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){t.isAllExpand=e}})])])])]])]),a("div",{class:"vxe-export--panel-btns"},[a(Cg,{content:gp.i18n("vxe.export.expCancel"),onClick:E}),a(Cg,{ref:i,status:"primary",content:gp.i18n(d?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:O})])])})}}}),Pg=s({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>gp.radio.strict},size:{type:String,default:()=>gp.radio.size||gp.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,o=c("$xeform",null),r=c("$xeformiteminfo",null),i={xID:fp.uniqueId(),props:e,context:t},s=wg(e),d=c("$xeradiogroup",null);let p={};const f=u((()=>e.disabled||d&&d.props.disabled)),m=u((()=>d?d.name:e.name)),g=u((()=>d?d.props.strict:e.strict)),h=u((()=>{const{modelValue:t,label:n}=e;return d?d.props.modelValue===n:t===n})),v=(e,t)=>{d?d.handleChecked({label:e},t):(l("update:modelValue",e),p.dispatchEvent("change",{label:e},t),o&&r&&o.triggerItemEvent(t,r.itemConfig.field,e))},b=t=>{f.value||v(e.label,t)},x=t=>{const n=f.value,l=g.value;n||l||e.label===(d?d.props.modelValue:e.modelValue)&&v(null,t)};return p={dispatchEvent(e,t,n){l(e,Object.assign({$radio:i,$event:n},t))}},Object.assign(i,p),i.renderVN=()=>{const t=s.value,l=f.value,o=m.value,r=h.value;return a("label",{class:["vxe-radio",{[`size--${t}`]:t,"is--checked":r,"is--disabled":l}],title:e.title},[a("input",{class:"vxe-radio--input",type:"radio",name:o,checked:r,disabled:l,onChange:b,onClick:x}),a("span",{class:["vxe-radio--icon",r?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),a("span",{class:"vxe-radio--label"},n.default?n.default({}):zp(e.content))])},i},render(){return this.renderVN()}}),jg=s({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>gp.radioButton.strict},size:{type:String,default:()=>gp.radioButton.size||gp.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,o=c("$xeform",null),r=c("$xeformiteminfo",null),i=fp.uniqueId(),s=wg(e),d={xID:i,props:e,context:t};let p={};const f=c("$xeradiogroup",null),m=u((()=>e.disabled||f&&f.props.disabled)),g=u((()=>f?f.name:null)),h=u((()=>f?f.props.strict:e.strict)),v=u((()=>{const{modelValue:t,label:n}=e;return f?f.props.modelValue===n:t===n}));p={dispatchEvent(e,t,n){l(e,Object.assign({$radioButton:d,$event:n},t))}},Object.assign(d,p);const b=(e,t)=>{f?f.handleChecked({label:e},t):(l("update:modelValue",e),p.dispatchEvent("change",{label:e},t),o&&r&&o.triggerItemEvent(t,r.itemConfig.field,e))},x=t=>{m.value||b(e.label,t)},y=t=>{const n=m.value,l=h.value;n||l||e.label===(f?f.props.modelValue:e.modelValue)&&b(null,t)},w=()=>{const t=s.value,l=m.value,o=g.value,r=v.value;return a("label",{class:["vxe-radio","vxe-radio-button",{[`size--${t}`]:t,"is--disabled":l}],title:e.title},[a("input",{class:"vxe-radio--input",type:"radio",name:o,checked:r,disabled:l,onChange:x,onClick:y}),a("span",{class:"vxe-radio--label"},n.default?n.default({}):zp(e.content))])};return Object.assign(d,{renderVN:w,dispatchEvent:dispatchEvent}),w}}),Vg=s({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>gp.radioGroup.strict},size:{type:String,default:()=>gp.radioGroup.size||gp.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,o=c("$xeform",null),r=c("$xeformiteminfo",null),i={xID:fp.uniqueId(),props:e,context:t,name:fp.uniqueId("xegroup_")},s=u((()=>e.optionProps||{})),d=u((()=>s.value.label||"label")),p=u((()=>s.value.value||"value")),f=u((()=>s.value.disabled||"disabled"));let m={};wg(e);const g={handleChecked(e,t){l("update:modelValue",e.label),m.dispatchEvent("change",e),o&&r&&o.triggerItemEvent(t,r.itemConfig.field,e.label)}};m={dispatchEvent(e,t,n){l(e,Object.assign({$radioGroup:i,$event:n},t))}};const v=()=>{const{options:t,type:l}=e,o=n.default,r=p.value,i=d.value,s=f.value,c="button"===l?jg:Pg;return a("div",{class:"vxe-radio-group"},o?o({}):t?t.map((e=>a(c,{label:e[r],content:e[i],disabled:e[s]}))):[])};return Object.assign(i,g,{renderVN:v,dispatchEvent:dispatchEvent}),h("$xeradiogroup",i),v}}),Bg=s({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=c("$xetable",{}),{computeImportOpts:n}=t.getComputeMaps(),l=r({loading:!1}),o=m(),i=u((()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`})),s=u((()=>{const{storeData:t}=e;return t.file&&t.type})),p=u((()=>{const{storeData:t}=e,{type:n,typeList:l}=t;if(n){const e=fp.find(l,(e=>n===e.value));return e?gp.i18n(e.label):"*.*"}return`*.${l.map((e=>e.value)).join(", *.")}`})),f=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},g=()=>{const{storeData:n,defaultOptions:l}=e;t.readFile(l).then((e=>{const{file:t}=e;Object.assign(n,function(e){const t=e.name,n=fp.lastIndexOf(t,"."),l=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:l}}(t),{file:t})})).catch((e=>e))},h=()=>{d((()=>{const e=o.value;e&&e.focus()}))},v=()=>{const{storeData:t}=e;t.visible=!1},b=()=>{const{storeData:o,defaultOptions:r}=e,a=n.value;l.loading=!0,t.importByFile(o.file,Object.assign({},a,r)).then((()=>{l.loading=!1,o.visible=!1})).catch((()=>{l.loading=!1}))};return()=>{const{defaultOptions:t,storeData:n}=e,r=i.value,c=s.value,u=p.value;return a(Rg,{modelValue:n.visible,title:gp.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:l.loading,"onUpdate:modelValue"(e){n.visible=e},onShow:h},{default:()=>a("div",{class:"vxe-export--panel"},[a("table",{cellspacing:0,cellpadding:0,border:0},[a("tbody",[a("tr",[a("td",gp.i18n("vxe.import.impFile")),a("td",[c?a("div",{class:"vxe-import-selected--file",title:r},[a("span",r),a("i",{class:gp.icon.INPUT_CLEAR,onClick:f})]):a("button",{ref:o,class:"vxe-import-select--file",onClick:g},gp.i18n("vxe.import.impSelect"))])]),a("tr",[a("td",gp.i18n("vxe.import.impType")),a("td",u)]),a("tr",[a("td",gp.i18n("vxe.import.impOpts")),a("td",[a(Vg,{modelValue:t.mode,"onUpdate:modelValue"(e){t.mode=e}},{default:()=>n.modeList.map((e=>a(Pg,{label:e.value,content:gp.i18n(e.label)})))})])])])]),a("div",{class:"vxe-export--panel-btns"},[a(Cg,{content:gp.i18n("vxe.import.impCancel"),onClick:v}),a(Cg,{status:"primary",disabled:!c,content:gp.i18n("vxe.import.impConfirm"),onClick:b})])])})}}});Km.component(Ag.name,Ag),Km.component(Bg.name,Bg);const Hg=s({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>gp.tooltip.size||gp.size},trigger:{type:String,default:()=>gp.tooltip.trigger||"hover"},theme:{type:String,default:()=>gp.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>gp.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>gp.tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),c=r({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),u=m(),p={refElem:u},f={xID:i,props:e,context:t,reactData:c,getRefMaps:()=>p};let g={};const h=()=>{const{tipTarget:e,tipStore:t}=c;if(e){const{scrollTop:n,scrollLeft:l,visibleWidth:o}=lf(),{top:r,left:a}=pf(e),i=u.value,s=6,c=i.offsetHeight,d=i.offsetWidth;let p=a,f=r-c-s;p=Math.max(s,a+Math.floor((e.offsetWidth-d)/2)),p+d+s>l+o&&(p=l+o-d-s),r-c<n+s&&(t.placement="bottom",f=r+e.offsetHeight+s),t.style.top=`${f}px`,t.style.left=`${p}px`,t.arrowStyle.left=a-p+e.offsetWidth/2+"px"}},b=e=>{e!==c.visible&&(c.visible=e,c.isUpdate=!0,l("update:modelValue",e))},y=()=>{c.visible?g.close():g.open()},w=()=>{g.open()},C=()=>{const{trigger:t,enterable:n,leaveDelay:l}=e;c.tipActive=!1,n&&"hover"===t?setTimeout((()=>{c.tipActive||g.close()}),l):g.close()},S=()=>{c.tipActive=!0},E=()=>{const{trigger:t,enterable:n,leaveDelay:l}=e;c.tipActive=!1,n&&"hover"===t&&setTimeout((()=>{c.tipActive||g.close()}),l)},O=()=>{const{tipStore:t}=c,n=u.value;return n&&(n.parentNode||document.body.appendChild(n)),b(!0),c.tipZindex<Hp()&&(c.tipZindex=Bp()),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||c.tipZindex},t.arrowStyle={left:"50%"},g.updatePlacement()},T=fp.debounce((()=>{c.tipActive&&O()}),e.enterDelay,{leading:!1,trailing:!0});g={dispatchEvent(e,t,n){l(e,Object.assign({$tooltip:f,$event:n},t))},open:(e,t)=>g.toVisible(e||c.target,t),close:()=>(c.tipTarget=null,c.tipActive=!1,Object.assign(c.tipStore,{style:{},placement:"",arrowStyle:null}),b(!1),d()),toVisible(t,n){if(t){const{trigger:l,enterDelay:o}=e;if(c.tipActive=!0,c.tipTarget=t,n&&(c.tipContent=n),!o||"hover"!==l)return O();T()}return d()},updatePlacement:()=>d().then((()=>{const{tipTarget:e}=c,t=u.value;if(e&&t)return h(),d().then(h)})),isActived:()=>c.tipActive,setActived(e){c.tipActive=!!e}},Object.assign(f,g),o((()=>e.content),(()=>{c.tipContent=e.content})),o((()=>e.modelValue),(()=>{c.isUpdate||(e.modelValue?g.open():g.close()),c.isUpdate=!1})),v((()=>{d((()=>{const{trigger:t,content:n,modelValue:l}=e,o=u.value;if(o){const e=o.parentNode;if(e){c.tipContent=n,c.tipZindex=Bp(),fp.arrayEach(o.children,((t,n)=>{n>1&&(e.insertBefore(t,o),c.target||(c.target=t))})),e.removeChild(o);const{target:r}=c;r&&("hover"===t?(r.onmouseenter=w,r.onmouseleave=C):"click"===t&&(r.onclick=y)),l&&g.open()}}}))})),x((()=>{const{trigger:t}=e,{target:n}=c,l=u.value;if(n&&("hover"===t?(n.onmouseenter=null,n.onmouseleave=null):"click"===t&&(n.onclick=null)),l){const e=l.parentNode;e&&e.removeChild(l)}}));const R=()=>{const{useHTML:t}=e,{tipContent:l}=c,o=n.content;return o?a("div",{key:1,class:"vxe-table--tooltip-content"},Pf(o({}))):t?a("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:l}):a("div",{key:3,class:"vxe-table--tooltip-content"},Wp(l))};return f.renderVN=()=>{const{popupClassName:t,theme:l,isArrow:o,enterable:r}=e,{tipActive:i,visible:d,tipStore:p}=c,m=n.default,g=s.value;let h;return r&&(h={onMouseenter:S,onMouseleave:E}),a("div",Object.assign({ref:u,class:["vxe-table--tooltip-wrapper",`theme--${l}`,t?fp.isFunction(t)?t({$tooltip:f}):t:"",{[`size--${g}`]:g,[`placement--${p.placement}`]:p.placement,"is--enterable":r,"is--visible":d,"is--arrow":o,"is--active":i}],style:p.style},h),[R(),a("div",{class:"vxe-table--tooltip-arrow",style:p.arrowStyle}),...m?Pf(m({})):[]])},f},render(){return this.renderVN()}}),_g=s({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=c("$xetable",{}),{reactData:n}=t,{computeCustomOpts:l,computeColumnOpts:o,computeIsMaxFixedColumn:r}=t.getComputeMaps(),i=m(),s=m(),u=m(),d=m();let p;const f=n=>{const{customStore:l}=e;l.activeWrapper=!0,t.customOpenEvent(n)},g=n=>{const{customStore:l}=e;l.activeWrapper=!1,setTimeout((()=>{l.activeBtn||l.activeWrapper||t.customColseEvent(n)}),300)},h=e=>{M(),t.closeCustom(),t.emitCustomEvent("confirm",e)},v=e=>{t.closeCustom(),t.emitCustomEvent("cancel",e)},b=e=>{t.resetColumn(!0),t.closeCustom(),t.emitCustomEvent("reset",e)},x=e=>{zm.modal?zm.modal.confirm({content:gp.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then((t=>{"confirm"===t&&b(e)})):b(e)},w=e=>{const{customColumnList:t}=n,l=fp.findTree(t,(t=>t===e));if(l&&l.parent){const{parent:e}=l;e.children&&e.children.length&&(e.visible=e.children.every((e=>e.visible)),e.halfVisible=!e.visible&&e.children.some((e=>e.visible||e.halfVisible)),w(e))}},C=e=>{const n=!e.visible,o=l.value;fp.eachTree([e],(e=>{e.visible=n,e.halfVisible=!1})),w(e),o.immediate&&t.handleCustom(),t.checkCustomStatus()},S=(e,n)=>{const l=r.value;e.fixed===n?t.clearColumnFixed(e):l&&!e.fixed||t.setColumnFixed(e,n)},E=()=>{const{customStore:o}=e,{customColumnList:r}=n,a=l.value,{checkMethod:i}=a,s=!o.isAll;fp.eachTree(r,(e=>{i&&!i({column:e})||(e.visible=s,e.halfVisible=!1)})),o.isAll=s,t.checkCustomStatus()},O=e=>{const n=e.currentTarget.parentNode.parentNode,l=n.getAttribute("colid"),o=t.getColumnById(l);n.draggable=!0,d.value=o,nf(n,"active--drag-origin")},T=e=>{const t=e.currentTarget.parentNode.parentNode,n=u.value;t.draggable=!1,d.value=null,tf(t,"active--drag-origin"),n&&(n.style.display="")},R=e=>{const t=new Image;e.dataTransfer&&e.dataTransfer.setDragImage(t,0,0)},M=()=>{const{customColumnList:e}=n;e.forEach(((e,t)=>{const n=t+1;e.renderSortNumber=n}))},k=e=>{const{customColumnList:l}=n,o=e.currentTarget,r=u.value;if(p){if(p!==o){const e=p.getAttribute("drag-pos"),n=o.getAttribute("colid"),r=t.getColumnById(n);if(!r)return;const a=fp.findIndexOf(l,(e=>e.id===r.id)),i=p.getAttribute("colid"),s=t.getColumnById(i);if(!s)return;l.splice(a,1);const c=fp.findIndexOf(l,(e=>e.id===s.id));l.splice(c+("bottom"===e?1:0),0,r)}p.draggable=!1,p.removeAttribute("drag-pos"),tf(p,"active--drag-target")}d.value=null,o.draggable=!1,o.removeAttribute("drag-pos"),r&&(r.style.display=""),tf(o,"active--drag-target"),tf(o,"active--drag-origin"),M()},D=e=>{const n=e.currentTarget;p!==n&&tf(p,"active--drag-target");const l=n.getAttribute("colid"),o=t.getColumnById(l);if(o&&1===o.level){e.preventDefault();const t=e.clientY-n.getBoundingClientRect().y<n.clientHeight/2?"top":"bottom";nf(n,"active--drag-target"),n.setAttribute("drag-pos",t),p=n}I(e)},I=e=>{const t=u.value,n=s.value;if(n&&t){const l=n.parentNode,o=l.getBoundingClientRect();t.style.display="block",t.style.top=`${Math.min(l.clientHeight-l.scrollTop-t.clientHeight,e.clientY-o.y)}px`,t.style.left=`${Math.min(l.clientWidth-l.scrollLeft-t.clientWidth-16,e.clientX-o.x)}px`}},$=()=>{const{customStore:i}=e,{customColumnList:c}=n,p=l.value,{checkMethod:f,visibleMethod:m}=p,g=o.value,b=r.value,w=[];return fp.eachTree(c,((e,n,l,o,i)=>{if(!m||m({column:e})){const n=e.visible,l=e.halfVisible,o=Wp(e.getTitle(),1),s=e.children&&e.children.length,c=!!f&&!f({column:e});w.push(a("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":s}],onDragstart:R,onDragend:k,onDragover:D},[a("td",{class:"vxe-table-custom-popup--column-item col--sort"},[1===e.level?a("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:O,onMouseup:T},[a("i",{class:"vxe-icon-sort"})]):null]),a("td",{class:"vxe-table-custom-popup--column-item col--name"},[a("div",{class:"vxe-table-custom-popup--name",title:o},o)]),a("td",{class:"vxe-table-custom-popup--column-item col--visible"},[a("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":n,"is--indeterminate":l,"is--disabled":c}],onClick:()=>{c||C(e)}},[a("span",{class:["vxe-checkbox--icon",l?gp.icon.TABLE_CHECKBOX_INDETERMINATE:n?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})])]),a("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!i&&p.allowFixed?a(Vg,{modelValue:e.fixed||"",type:"button",size:"mini",options:[{label:gp.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:b},{label:gp.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:gp.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:b}],"onUpdate:modelValue"(t){e.fixed=t},onChange(){(e=>{r.value||t.setColumnFixed(e,e.fixed)})(e)}}):null])]))}})),a(Rg,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:i.visible,title:gp.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(e){i.visible=e}},{default:()=>a("div",{ref:s,class:"vxe-table-custom-popup--body"},[a("div",{class:"vxe-table-custom-popup--table-wrapper"},[a("table",{},[a("colgroup",{},[a("col",{style:{width:"80px"}}),a("col",{}),a("col",{style:{width:"80px"}}),a("col",{style:{width:"200px"}})]),a("thead",{},[a("tr",{},[a("th",{},[a("span",{class:"vxe-table-custom-popup--table-sort-help-title"},gp.i18n("vxe.custom.setting.colSort")),a(Hg,{enterable:!0,content:gp.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>a("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),a("th",{},gp.i18n("vxe.custom.setting.colTitle")),a("th",{},gp.i18n("vxe.custom.setting.colVisible")),a("th",{},gp.i18n("vxe.custom.setting.colFixed",[g.maxFixedSize||0]))])]),a(y,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>w})])]),a("div",{ref:u,class:"vxe-table-custom-popup--drag-hint"},gp.i18n("vxe.custom.cstmDragTarget",[d.value?d.value.getTitle():""]))]),footer:()=>a("div",{class:"vxe-table-custom-popup--footer"},[a(Cg,{content:p.resetButtonText||gp.i18n("vxe.custom.cstmRestore"),onClick:x}),a(Cg,{content:p.resetButtonText||gp.i18n("vxe.custom.cstmCancel"),onClick:v}),a(Cg,{status:"primary",content:p.confirmButtonText||gp.i18n("vxe.custom.cstmConfirm"),onClick:h})])})};return()=>"popup"===l.value.mode?$():(()=>{const{customStore:t}=e,{customColumnList:o}=n,s=l.value,{maxHeight:c}=t,{checkMethod:u,visibleMethod:d,trigger:p}=s,m=r.value,v=[],x={};"hover"===p&&(x.onMouseenter=f,x.onMouseleave=g),fp.eachTree(o,((e,t,n,l,o)=>{if(!d||d({column:e})){const t=e.visible,n=e.halfVisible,l=e.children&&e.children.length,r=Wp(e.getTitle(),1),i=!!u&&!u({column:e});v.push(a("li",{key:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--group":l}]},[a("div",{title:r,class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":i}],onClick:()=>{i||C(e)}},[a("span",{class:["vxe-checkbox--icon",n?gp.icon.TABLE_CHECKBOX_INDETERMINATE:t?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]}),a("span",{class:"vxe-checkbox--label"},r)]),!o&&s.allowFixed?a("div",{class:"vxe-table-custom--fixed-option"},[a("span",{class:["vxe-table-custom--fixed-left-option","left"===e.fixed?gp.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:gp.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":"left"===e.fixed,"is--disabled":m&&!e.fixed}],title:gp.i18n("left"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{S(e,"left")}}),a("span",{class:["vxe-table-custom--fixed-right-option","right"===e.fixed?gp.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:gp.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":"right"===e.fixed,"is--disabled":m&&!e.fixed}],title:gp.i18n("right"===e.fixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{S(e,"right")}})]):null]))}}));const y=t.isAll,w=t.isIndeterminate;return a("div",{ref:i,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":t.visible}]},[a("ul",{class:"vxe-table-custom--header"},[a("li",{class:"vxe-table-custom--option"},[a("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":y,"is--indeterminate":w}],title:gp.i18n("vxe.table.allTitle"),onClick:E},[a("span",{class:["vxe-checkbox--icon",w?gp.icon.TABLE_CHECKBOX_INDETERMINATE:y?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]}),a("span",{class:"vxe-checkbox--label"},gp.i18n("vxe.toolbar.customAll"))])])]),a("ul",Object.assign({class:"vxe-table-custom--body",style:c?{maxHeight:`${c}px`}:{}},x),v),s.showFooter?a("div",{class:"vxe-table-custom--footer"},[a("button",{class:"btn--reset",onClick:b},s.resetButtonText||gp.i18n("vxe.toolbar.customRestore")),a("button",{class:"btn--confirm",onClick:h},s.confirmButtonText||gp.i18n("vxe.toolbar.customConfirm"))]):null])})()}});Km.component(_g.name,_g);const zg=s({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const n=e=>{t("click",{$event:e})};return()=>{const{name:t,roll:l,status:o}=e;return a("i",{class:[`vxe-icon-${t}`,l?"roll":"",o?[`theme--${o}`]:""],onClick:n})}}}),Wg=Object.assign(zg,{install(e){e.component(zg.name,zg)}});function qg(e,t){const{$table:n,column:l}=e,{props:o,reactData:r}=n,{computeTooltipOpts:i}=n.getComputeMaps(),{showHeaderOverflow:s}=o,{type:c,showHeaderOverflow:u}=l,d=i.value.showAll,p=fp.isUndefined(u)||fp.isNull(u)?s:u,f="title"===p,m=!0===p||"tooltip"===p,g={};return(f||m||d)&&(g.onMouseenter=t=>{r._isResize||(f?cf(t.currentTarget,l):(m||d)&&n.triggerHeaderTooltipEvent(t,e))}),(m||d)&&(g.onMouseleave=e=>{r._isResize||(m||d)&&n.handleTargetLeaveEvent(e)}),["html"===c&&fp.isString(t)?a("span",Object.assign({class:"vxe-cell--title",innerHTML:t},g)):a("span",Object.assign({class:"vxe-cell--title"},g),Pf(t))]}function Yg(e){const{$table:t,column:n,_columnIndex:l,items:o,row:r}=e,{slots:a,editRender:i,cellRender:s}=n,c=i||s,u=a?a.footer:null;if(u)return t.callSlot(u,e);if(c){const t=zm.renderer.get(c.name);if(t&&t.renderFooter)return Pf(t.renderFooter(c,e))}return fp.isArray(o)?[Wp(o[l],1)]:[Wp(fp.get(r,n.field),1)]}function Ug(e){const{$table:t,row:n,column:l}=e;return Wp(t.getCellLabel(n,l),1)}Km.component(Wg.name,Wg);const Xg={createColumn(e,t){const{type:n,sortable:l,filters:o,editRender:r,treeNode:a}=t,{props:i}=e,{editConfig:s}=i,{computeEditOpts:c,computeCheckboxOpts:u}=e.getComputeMaps(),d=u.value,p=c.value,f={renderHeader:Xg.renderDefaultHeader,renderCell:a?Xg.renderTreeCell:Xg.renderDefaultCell,renderFooter:Xg.renderDefaultFooter};switch(n){case"seq":f.renderHeader=Xg.renderSeqHeader,f.renderCell=a?Xg.renderTreeIndexCell:Xg.renderSeqCell;break;case"radio":f.renderHeader=Xg.renderRadioHeader,f.renderCell=a?Xg.renderTreeRadioCell:Xg.renderRadioCell;break;case"checkbox":f.renderHeader=Xg.renderCheckboxHeader,f.renderCell=d.checkField?a?Xg.renderTreeSelectionCellByProp:Xg.renderCheckboxCellByProp:a?Xg.renderTreeSelectionCell:Xg.renderCheckboxCell;break;case"expand":f.renderCell=Xg.renderExpandCell,f.renderData=Xg.renderExpandData;break;case"html":f.renderCell=a?Xg.renderTreeHTMLCell:Xg.renderHTMLCell,o&&l?f.renderHeader=Xg.renderSortAndFilterHeader:l?f.renderHeader=Xg.renderSortHeader:o&&(f.renderHeader=Xg.renderFilterHeader);break;default:s&&r?(f.renderHeader=Xg.renderEditHeader,f.renderCell="cell"===p.mode?a?Xg.renderTreeCellEdit:Xg.renderCellEdit:a?Xg.renderTreeRowEdit:Xg.renderRowEdit):o&&l?f.renderHeader=Xg.renderSortAndFilterHeader:l?f.renderHeader=Xg.renderSortHeader:o&&(f.renderHeader=Xg.renderFilterHeader)}return Df(e,t,f)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:l,editRender:o,cellRender:r}=n,a=o||r,i=l?l.header:null;if(i)return qg(e,t.callSlot(i,e));if(a){const t=zm.renderer.get(a.name);if(t&&t.renderHeader)return qg(e,Pf(t.renderHeader(a,e)))}return qg(e,Wp(n.getTitle(),1))},renderDefaultHeader:e=>function(e){const{$table:t,column:n}=e,l=n.titlePrefix||n.titleHelp;return l?[a("i",{class:["vxe-cell-title-prefix-icon",l.icon||gp.icon.TABLE_TITLE_PREFIX],onMouseenter(n){t.triggerHeaderTitleEvent(n,l,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e).concat(Xg.renderHeaderTitle(e)).concat(function(e){const{$table:t,column:n}=e,l=n.titleSuffix;return l?[a("i",{class:["vxe-cell-title-suffix-icon",l.icon||gp.icon.TABLE_TITLE_SUFFIX],onMouseenter(n){t.triggerHeaderTitleEvent(n,l,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}})]:[]}(e)),renderDefaultCell(e){const{$table:t,row:n,column:l}=e,{slots:o,editRender:r,cellRender:i}=l,s=r||i,c=o?o.default:null;if(c)return t.callSlot(c,e);if(s){const t=r?"renderCell":"renderDefault",n=zm.renderer.get(s.name),l=n?n[t]:null;if(l)return Pf(l(s,Object.assign({$type:r?"edit":"cell"},e)))}const u=t.getCellLabel(n,l),d=r?r.placeholder:"";return[a("span",{class:"vxe-cell--label"},r&&qp(u)?[a("span",{class:"vxe-cell--placeholder"},Wp(zp(d),1))]:Wp(u,1))]},renderTreeCell:e=>Xg.renderTreeIcon(e,Xg.renderDefaultCell(e)),renderDefaultFooter:e=>[a("span",{class:"vxe-cell--item"},Yg(e))],renderTreeIcon(e,t){const{$table:n,isHidden:l}=e,{reactData:o}=n,{computeTreeOpts:r}=n.getComputeMaps(),{treeExpandedMaps:i,treeExpandLazyLoadedMaps:s}=o,c=r.value,{row:u,column:d,level:p}=e,{slots:f}=d,{indent:m,lazy:g,trigger:h,iconLoaded:v,showIcon:b,iconOpen:x,iconClose:y}=c,w=c.children||c.childrenField,C=c.hasChild||c.hasChildField,S=u[w],E=f?f.icon:null;let O=!1,T=!1,R=!1;const M={};if(E)return n.callSlot(E,e);if(!l){const e=Cf(n,u);T=!!i[e],g&&(R=!!s[e],O=u[C])}return h&&"default"!==h||(M.onClick=t=>{t.stopPropagation(),n.triggerTreeExpandEvent(t,e)}),[a("div",{class:["vxe-cell--tree-node",{"is--active":T}],style:{paddingLeft:p*m+"px"}},[b&&(S&&S.length||O)?[a("div",Object.assign({class:"vxe-tree--btn-wrapper"},M),[a("i",{class:["vxe-tree--node-btn",R?v||gp.icon.TABLE_TREE_LOADED:T?x||gp.icon.TABLE_TREE_OPEN:y||gp.icon.TABLE_TREE_CLOSE]})])]:null,a("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:l}=n,o=l?l.header:null;return qg(e,o?t.callSlot(o,e):Wp(n.getTitle(),1))},renderSeqCell(e){const{$table:t,column:n}=e,{props:l}=t,{treeConfig:o}=l,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=n,s=i?i.default:null;if(s)return t.callSlot(s,e);const{seq:c}=e,u=a.seqMethod;return[Wp(u?u(e):o?c:(a.startIndex||0)+c,1)]},renderTreeIndexCell:e=>Xg.renderTreeIcon(e,Xg.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:n}=e,{slots:l}=n,o=l?l.header:null,r=l?l.title:null;return qg(e,o?t.callSlot(o,e):[a("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):Wp(n.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:n,isHidden:l}=e,{reactData:o}=t,{computeRadioOpts:r}=t.getComputeMaps(),{selectRadioRow:i}=o,s=r.value,{slots:c}=n,{labelField:u,checkMethod:d,visibleMethod:p}=s,{row:f}=e,m=c?c.default:null,g=c?c.radio:null,h=t.eqRow(f,i),v=!p||p({row:f});let b,x=!!d;l||(b={onClick(n){!x&&v&&(n.stopPropagation(),t.triggerRadioRowEvent(n,e))}},d&&(x=!d({row:f})));const y=Object.assign(Object.assign({},e),{checked:h,disabled:x,visible:v});if(g)return t.callSlot(g,y);const w=[];return v&&w.push(a("span",{class:["vxe-radio--icon",h?gp.icon.TABLE_RADIO_CHECKED:gp.icon.TABLE_RADIO_UNCHECKED]})),(m||u)&&w.push(a("span",{class:"vxe-radio--label"},m?t.callSlot(m,y):fp.get(f,u))),[a("span",Object.assign({class:["vxe-cell--radio",{"is--checked":h,"is--disabled":x}]},b),w)]},renderTreeRadioCell:e=>Xg.renderTreeIcon(e,Xg.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:n,isHidden:l}=e,{reactData:o}=t,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:i}=t.getComputeMaps(),{isAllSelected:s,isIndeterminate:c}=o,u=r.value,{slots:d}=n,p=d?d.header:null,f=d?d.title:null,m=i.value,g=n.getTitle();let h;l||(h={onClick(e){u||(e.stopPropagation(),t.triggerCheckAllEvent(e,!s))}});const v=Object.assign(Object.assign({},e),{checked:s,disabled:u,indeterminate:c});return p?qg(v,t.callSlot(p,v)):(m.checkStrictly?m.showHeader:!1!==m.showHeader)?qg(v,[a("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":s,"is--disabled":u,"is--indeterminate":c}],title:gp.i18n("vxe.table.allTitle")},h),[a("span",{class:["vxe-checkbox--icon",c?gp.icon.TABLE_CHECKBOX_INDETERMINATE:s?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(f||g?[a("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,v):g)]:[]))]):qg(v,[a("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,v):g)])},renderCheckboxCell(e){const{$table:t,row:n,column:l,isHidden:o}=e,{props:r,reactData:i}=t,{treeConfig:s}=r,{selectCheckboxMaps:c,treeIndeterminateMaps:u}=i,{computeCheckboxOpts:d}=t.getComputeMaps(),p=d.value,{labelField:f,checkMethod:m,visibleMethod:g}=p,{slots:h}=l,v=h?h.default:null,b=h?h.checkbox:null;let x=!1,y=!1;const w=!g||g({row:n});let C,S=!!m;if(!o){const l=Cf(t,n);y=!!c[l],C={onClick(n){!S&&w&&(n.stopPropagation(),t.triggerCheckRowEvent(n,e,!y))}},m&&(S=!m({row:n})),s&&(x=!!u[l])}const E=Object.assign(Object.assign({},e),{checked:y,disabled:S,visible:w,indeterminate:x});if(b)return t.callSlot(b,E);const O=[];return w&&O.push(a("span",{class:["vxe-checkbox--icon",x?gp.icon.TABLE_CHECKBOX_INDETERMINATE:y?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})),(v||f)&&O.push(a("span",{class:"vxe-checkbox--label"},v?t.callSlot(v,E):fp.get(n,f))),[a("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":S,"is--indeterminate":x,"is--hidden":!w}]},C),O)]},renderTreeSelectionCell:e=>Xg.renderTreeIcon(e,Xg.renderCheckboxCell(e)),renderCheckboxCellByProp(e){const{$table:t,row:n,column:l,isHidden:o}=e,{props:r,reactData:i}=t,{treeConfig:s}=r,{treeIndeterminateMaps:c}=i,{computeCheckboxOpts:u}=t.getComputeMaps(),d=u.value,{labelField:p,checkField:f,checkMethod:m,visibleMethod:g}=d,h=d.indeterminateField||d.halfField,{slots:v}=l,b=v?v.default:null,x=v?v.checkbox:null;let y=!1,w=!1;const C=!g||g({row:n});let S,E=!!m;if(!o){const l=Cf(t,n);w=fp.get(n,f),S={onClick(n){!E&&C&&(n.stopPropagation(),t.triggerCheckRowEvent(n,e,!w))}},m&&(E=!m({row:n})),s&&(y=!!c[l])}const O=Object.assign(Object.assign({},e),{checked:w,disabled:E,visible:C,indeterminate:y});if(x)return t.callSlot(x,O);const T=[];return C&&(T.push(a("span",{class:["vxe-checkbox--icon",y?gp.icon.TABLE_CHECKBOX_INDETERMINATE:w?gp.icon.TABLE_CHECKBOX_CHECKED:gp.icon.TABLE_CHECKBOX_UNCHECKED]})),(b||p)&&T.push(a("span",{class:"vxe-checkbox--label"},b?t.callSlot(b,O):fp.get(n,p)))),[a("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":w,"is--disabled":E,"is--indeterminate":h&&!w?n[h]:y,"is--hidden":!C}]},S),T)]},renderTreeSelectionCellByProp:e=>Xg.renderTreeIcon(e,Xg.renderCheckboxCellByProp(e)),renderExpandCell(e){const{$table:t,isHidden:n,row:l,column:o}=e,{reactData:r}=t,{rowExpandedMaps:i,rowExpandLazyLoadedMaps:s}=r,{computeExpandOpts:c}=t.getComputeMaps(),u=c.value,{lazy:d,labelField:p,iconLoaded:f,showIcon:m,iconOpen:g,iconClose:h,visibleMethod:v}=u,{slots:b}=o,x=b?b.default:null,y=b?b.icon:null;let w=!1,C=!1;if(y)return t.callSlot(y,e);if(!n){const e=Cf(t,l);w=!!i[e],d&&(C=!!s[e])}return[!m||v&&!v(e)?null:a("span",{class:["vxe-table--expanded",{"is--active":w}],onClick(n){n.stopPropagation(),t.triggerRowExpandEvent(n,e)}},[a("i",{class:["vxe-table--expand-btn",C?f||gp.icon.TABLE_EXPAND_LOADED:w?g||gp.icon.TABLE_EXPAND_OPEN:h||gp.icon.TABLE_EXPAND_CLOSE]})]),x||p?a("span",{class:"vxe-table--expand-label"},x?t.callSlot(x,e):fp.get(l,p)):null]},renderExpandData(e){const{$table:t,column:n}=e,{slots:l,contentRender:o}=n,r=l?l.content:null;if(r)return t.callSlot(r,e);if(o){const t=zm.renderer.get(o.name);if(t&&t.renderExpand)return Pf(t.renderExpand(o,e))}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:l}=n,o=l?l.default:null;return o?t.callSlot(o,e):[a("span",{class:"vxe-cell--html",innerHTML:Ug(e)})]},renderTreeHTMLCell:e=>Xg.renderTreeIcon(e,Xg.renderHTMLCell(e)),renderSortAndFilterHeader:e=>Xg.renderDefaultHeader(e).concat(Xg.renderSortIcon(e)).concat(Xg.renderFilterIcon(e)),renderSortHeader:e=>Xg.renderDefaultHeader(e).concat(Xg.renderSortIcon(e)),renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:l}=t.getComputeMaps(),o=l.value,{showIcon:r,iconLayout:i,iconAsc:s,iconDesc:c}=o,{order:u}=n;return r?[a("span",{class:["vxe-cell--sort",`vxe-cell--sort-${i}-layout`]},[a("i",{class:["vxe-sort--asc-btn",s||gp.icon.TABLE_SORT_ASC,{"sort--active":"asc"===u}],title:gp.i18n("vxe.table.sortAsc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}}),a("i",{class:["vxe-sort--desc-btn",c||gp.icon.TABLE_SORT_DESC,{"sort--active":"desc"===u}],title:gp.i18n("vxe.table.sortDesc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}})])]:[]},renderFilterHeader:e=>Xg.renderDefaultHeader(e).concat(Xg.renderFilterIcon(e)),renderFilterIcon(e){const{$table:t,column:n,hasFilter:l}=e,{reactData:o}=t,{filterStore:r}=o,{computeFilterOpts:i}=t.getComputeMaps(),s=i.value,{showIcon:c,iconNone:u,iconMatch:d}=s;return c?[a("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===n}]},[a("i",{class:["vxe-filter--btn",l?d||gp.icon.TABLE_FILTER_MATCH:u||gp.icon.TABLE_FILTER_NONE],title:gp.i18n("vxe.table.filter"),onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:n}=e,{props:l}=t,{computeEditOpts:o}=t.getComputeMaps(),{editConfig:r,editRules:i}=l,s=o.value,{sortable:c,filters:u,editRender:d}=n;let p=!1;if(i){const e=fp.get(i,n.field);e&&(p=e.some((e=>e.required)))}return(jp(r)?[p&&s.showAsterisk?a("i",{class:"vxe-cell--required-icon"}):null,jp(d)&&s.showIcon?a("i",{class:["vxe-cell--edit-icon",s.icon||gp.icon.TABLE_EDIT]}):null]:[]).concat(Xg.renderDefaultHeader(e)).concat(c?Xg.renderSortIcon(e):[]).concat(u?Xg.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:n}=e,{reactData:l}=t,{editStore:o}=l,{actived:r}=o,{editRender:a}=n;return Xg.runRenderer(e,jp(a)&&r&&r.row===e.row)},renderTreeRowEdit:e=>Xg.renderTreeIcon(e,Xg.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:n}=e,{reactData:l}=t,{editStore:o}=l,{actived:r}=o,{editRender:a}=n;return Xg.runRenderer(e,jp(a)&&r&&r.row===e.row&&r.column===e.column)},renderTreeCellEdit:e=>Xg.renderTreeIcon(e,Xg.renderCellEdit(e)),runRenderer(e,t){const{$table:n,column:l}=e,{slots:o,editRender:r,formatter:i}=l,s=o?o.default:null,c=o?o.edit:null,u=zm.renderer.get(r.name);return t?c?n.callSlot(c,e):u&&u.renderEdit?Pf(u.renderEdit(r,Object.assign({$type:"edit"},e))):[]:s?n.callSlot(s,e):i?[a("span",{class:"vxe-cell--label"},Ug(e))]:Xg.renderDefaultCell(e)}},Gg={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Kg=s({name:"VxeColumn",props:Gg,setup(e,{slots:t}){const n=m(),l=c("$xetable",{}),o=c("xecolgroup",null),r=Xg.createColumn(l,e);return r.slots=t,h("$xegrid",null),If(l,e,r),v((()=>{$f(l,n.value,r,o)})),b((()=>{Ff(l,r)})),()=>a("div",{ref:n})}});Object.assign(Kg,{install(e){e.component(Kg.name,Kg),e.component("VxeTableColumn",Kg)}}),Km.component(Kg.name,Kg),Km.component("VxeTableColumn",Kg);const Zg=s({name:"VxeColgroup",props:Gg,setup(e,{slots:t}){const n=m(),l=c("$xetable",{}),o=c("xecolgroup",null),r=Xg.createColumn(l,e),i={};t.header&&(i.header=t.header);const s={column:r};return r.slots=i,r.children=[],h("xecolgroup",s),h("$xegrid",null),If(l,e,r),v((()=>{$f(l,n.value,r,o)})),b((()=>{Ff(l,r)})),()=>a("div",{ref:n},t.default?t.default():[])}});let Jg;Object.assign(Zg,{install(e){e.component(Zg.name,Zg),e.component("VxeTableColgroup",Zg)}}),Km.component(Zg.name,Zg),Km.component("VxeTableColgroup",Zg);const Qg=[],eh=500;function th(){Qg.length&&(Qg.forEach((e=>{e.tarList.forEach((t=>{const{target:n,width:l,heighe:o}=t,r=n.clientWidth,a=n.clientHeight;(r&&l!==r||a&&o!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),nh())}function nh(){clearTimeout(Jg),Jg=setTimeout(th,gp.resizeInterval||eh)}class lh{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Qg.length||nh(),Qg.some((e=>e===this))||Qg.push(this)}}unobserve(e){fp.remove(Qg,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){fp.remove(Qg,(e=>e===this))}}function oh(e){return window.ResizeObserver?new window.ResizeObserver(e):new lh(e)}const rh="body",ah={mini:3,small:2,medium:1},ih=s({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=c("$xetable",{}),n=c("xesize",null),{xID:l,props:o,context:r,reactData:i,internalData:s}=t,{refTableHeader:u,refTableBody:p,refTableFooter:g,refTableLeftBody:h,refTableRightBody:y,refValidTooltip:w}=t.getRefMaps(),{computeEditOpts:C,computeMouseOpts:S,computeSYOpts:E,computeEmptyOpts:O,computeKeyboardOpts:T,computeTooltipOpts:R,computeRadioOpts:M,computeExpandOpts:k,computeTreeOpts:D,computeCheckboxOpts:I,computeValidOpts:$,computeRowOpts:F,computeColumnOpts:N}=t.getComputeMaps(),L=m(),A=m(),P=m(),j=m(),V=m(),B=m(),H=m(),_=()=>{if(n){const e=n.value;if(e)return ah[e]||0}return 0},z=()=>{const{delayHover:e}=o,{lastScrollTime:t,_isResize:n}=i;return!!(n||t&&Date.now()<t+e)},W=(e,n)=>{let l=1;if(!e)return l;const o=D.value,r=e[o.children||o.childrenField];if(r&&t.isTreeExpandByRow(e))for(let t=0;t<r.length;t++)l+=W(r[t]);return l},q=(e,t,n)=>{let l=1;return n&&(l=W(t[n-1])),i.rowHeight*l-(n?1:12-_())},Y=(e,n,l,r,c,u,d,p,f,m,g,h)=>{const{columnKey:v,height:b,showOverflow:x,cellClassName:y,cellStyle:w,align:S,spanMethod:O,mouseConfig:T,editConfig:M,editRules:k,tooltipConfig:L}=o,{tableData:A,overflowX:P,scrollYLoad:j,currentColumn:V,mergeList:B,editStore:H,isAllOverflow:W,validErrorMaps:Y}=i,{afterFullData:U}=s,X=$.value,G=I.value,K=C.value,Z=R.value,J=F.value,Q=E.value,ee=N.value,{type:te,cellRender:ne,editRender:le,align:oe,showOverflow:re,className:ae,treeNode:ie,slots:se}=f,{actived:ce}=H,{rHeight:ue}=Q,{height:de}=J,pe=le||ne,fe=pe?zm.renderer.get(pe.name):null,me=fe?fe.cellClassName:"",ge=fe?fe.cellStyle:"",he=Z.showAll,ve=t.getColumnIndex(f),be=t.getVTColumnIndex(f),xe=jp(le);let ye=l?f.fixed!==l:f.fixed&&P;const we=fp.isUndefined(re)||fp.isNull(re)?x:re;let Ce="ellipsis"===we;const Se="title"===we,Ee=!0===we||"tooltip"===we;let Oe,Te=Se||Ee||Ce;const Re={},Me=oe||S,ke=Y[`${n}:${f.id}`],De=k&&X.showMessage&&("default"===X.message?b||A.length>1:"inline"===X.message),Ie={colid:f.id},$e={$table:t,$grid:t.xegrid,seq:e,rowid:n,row:c,rowIndex:u,$rowIndex:d,_rowIndex:p,column:f,columnIndex:ve,$columnIndex:m,_columnIndex:be,fixed:l,type:rh,isHidden:ye,level:r,visibleData:U,data:A,items:h};if(j&&!Te&&(Ce=Te=!0),(Se||Ee||he||L)&&(Re.onMouseenter=e=>{z()||(Se?cf(e.currentTarget,f):(Ee||he)&&t.triggerBodyTooltipEvent(e,$e),t.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},$e),e))}),(Ee||he||L)&&(Re.onMouseleave=e=>{z()||((Ee||he)&&t.handleTargetLeaveEvent(e),t.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},$e),e))}),(G.range||T)&&(Re.onMousedown=e=>{t.triggerCellMousedownEvent(e,$e)}),Re.onClick=e=>{t.triggerCellClickEvent(e,$e)},Re.onDblclick=e=>{t.triggerCellDblclickEvent(e,$e)},B.length){const e=function(e,t,n){for(let l=0;l<e.length;l++){const{row:o,col:r,rowspan:a,colspan:i}=e[l];if(r>-1&&o>-1&&a&&i){if(o===t&&r===n)return{rowspan:a,colspan:i};if(t>=o&&t<o+a&&n>=r&&n<r+i)return{rowspan:0,colspan:0}}}}(B,p,be);if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(Ie.rowspan=t),n>1&&(Ie.colspan=n)}}else if(O){const{rowspan:e=1,colspan:t=1}=O($e)||{};if(!e||!t)return null;e>1&&(Ie.rowspan=e),t>1&&(Ie.colspan=t)}ye&&B&&(Ie.colspan>1||Ie.rowspan>1)&&(ye=!1),!ye&&M&&(le||ne)&&(K.showStatus||K.showUpdateStatus)&&(Oe=t.isUpdateByRow(c,f.field));const Fe=[];if(ye&&(x?W:x))Fe.push(a("div",{class:["vxe-cell",{"c--title":Se,"c--tooltip":Ee,"c--ellipsis":Ce}],style:{maxHeight:Te&&(ue||de)?`${ue||de}px`:""}}));else if(Fe.push(...(e=>{const{row:n,column:l}=e,{afterFullData:r}=s,{treeConfig:i}=o,c=D.value,{slots:u,treeNode:d}=l,{fullAllDataRowIdData:p}=s,f=p[Cf(t,n)];let m=0,g=0,h=[];if(f&&(m=f.level,g=f._index,h=f.items),u&&u.line)return t.callSlot(u.line,e);const v=t.eqRow(r[0],n);return i&&d&&(c.showLine||c.line)?[a("div",{class:"vxe-tree--line-wrapper"},[a("div",{class:"vxe-tree--line",style:{height:`${v?1:q(0,h,g)}px`,left:m*c.indent+(m?2-_():0)+16+"px"}})])]:[]})($e),a("div",{class:["vxe-cell",{"c--title":Se,"c--tooltip":Ee,"c--ellipsis":Ce}],style:{maxHeight:Te&&(ue||de)?`${ue||de}px`:""},title:Se?t.getCellLabel(c,f):null},f.renderCell($e))),De&&ke){const e=ke.rule,n=se?se.valid:null,l=Object.assign(Object.assign({},$e),ke);Fe.push(a("div",{class:["vxe-cell--valid-error-hint",Gp(X.className,l)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},n?t.callSlot(n,l):[a("span",{class:"vxe-cell--valid-error-msg"},ke.content)]))}return a("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",f.id,{[`col--${Me}`]:Me,[`col--${te}`]:te,"col--last":m===g.length-1,"col--tree-node":ie,"col--edit":xe,"col--ellipsis":Te,"fixed--hidden":ye,"col--dirty":Oe,"col--active":M&&xe&&ce.row===c&&(ce.column===f||"row"===K.mode),"col--valid-error":!!ke,"col--current":V===f},Gp(me,$e),Gp(ae,$e),Gp(y,$e)],key:v||ee.useKey?f.id:m},Ie),{style:Object.assign({height:Te&&(ue||de)?`${ue||de}px`:""},fp.isFunction(ge)?ge($e):ge,fp.isFunction(w)?w($e):w)}),Re),Fe)},U=(e,n,l)=>{const{stripe:r,rowKey:c,highlightHoverRow:u,rowClassName:d,rowStyle:p,showOverflow:f,editConfig:m,treeConfig:g}=o,{hasFixedColumn:h,treeExpandedMaps:v,scrollYLoad:b,rowExpandedMaps:x,expandColumn:y,selectRadioRow:w,pendingRowMaps:S,pendingRowList:E}=i,{fullAllDataRowIdData:O}=s,T=I.value,R=M.value,$=D.value,N=C.value,L=F.value,{transform:A}=$,P=$.children||$.childrenField,j=[];return n.forEach(((o,i)=>{const s={};let C=i;C=t.getRowIndex(o),(L.isHover||u)&&(s.onMouseenter=e=>{z()||t.triggerHoverEvent(e,{row:o,rowIndex:C})},s.onMouseleave=()=>{z()||t.clearHoverRow()});const M=Cf(t,o),D=O[M];let I=0,F=-1,V=0;D&&(I=D.level,F=D.seq,V=D._index);const B={$table:t,seq:F,rowid:M,fixed:e,type:rh,level:I,row:o,rowIndex:C,$rowIndex:i,_rowIndex:V},H=y&&!!x[M];let _=!1,W=[],q=!1;if(m&&(q=t.isInsertByRow(o)),!g||b||A||(W=o[P],_=W&&W.length&&!!v[M]),j.push(a("tr",Object.assign({class:["vxe-body--row",g?`row--level-${I}`:"",{"row--stripe":r&&(t.getVTRowIndex(o)+1)%2==0,"is--new":q,"is--expand-row":H,"is--expand-tree":_,"row--new":q&&(N.showStatus||N.showInsertStatus),"row--radio":R.highlight&&t.eqRow(w,o),"row--checked":T.highlight&&t.isCheckedByCheckboxRow(o),"row--pending":E.length&&!!S[M]},Gp(d,B)],rowid:M,style:p?fp.isFunction(p)?p(B):p:null,key:c||L.useKey||g?M:i},s),l.map(((t,r)=>Y(F,M,e,I,o,C,i,V,t,r,l,n))))),H){const n=k.value,{height:r}=n,c={};r&&(c.height=`${r}px`),g&&(c.paddingLeft=I*$.indent+30+"px");const{showOverflow:u}=y,d=fp.isUndefined(u)||fp.isNull(u)?f:u,m={$table:t,seq:F,column:y,fixed:e,type:rh,level:I,row:o,rowIndex:C,$rowIndex:i,_rowIndex:V};j.push(a("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${M}`,style:p?fp.isFunction(p)?p(m):p:null},s),[a("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":e&&!h,"col--ellipsis":d},colspan:l.length},[a("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":r},style:c},[y.renderData(m)])])]))}_&&j.push(...U(e,W,l))})),j};let X;const G=(e,t,n,l)=>{(n||l)&&(n&&(bf(n),n.scrollTop=t),l&&(bf(l),l.scrollTop=t),clearTimeout(X),X=setTimeout((()=>{xf(n),xf(l),i.lastScrollTime=Date.now()}),300))},K=n=>{const{fixedType:l}=e,{highlightHoverRow:r}=o,{scrollXLoad:a,scrollYLoad:c}=i,{elemStore:d,lastScrollTop:f,lastScrollLeft:m}=s,v=F.value,b=u.value,x=p.value,C=g.value,S=h.value,E=y.value,O=w.value,T=L.value,R=b?b.$el:null,M=C?C.$el:null,k=x.$el,D=S?S.$el:null,I=E?E.$el:null,$=d["main-body-ySpace"],N=$?$.value:null,A=d["main-body-xSpace"],P=A?A.value:null,j=c&&N?N.clientHeight:k.clientHeight,V=a&&P?P.clientWidth:k.clientWidth;let B=T.scrollTop;const H=k.scrollLeft,_=H!==m,z=B!==f;s.lastScrollTop=B,s.lastScrollLeft=H,i.lastScrollTime=Date.now(),(v.isHover||r)&&t.clearHoverRow(),D&&"left"===l?(B=D.scrollTop,G(0,B,k,I)):I&&"right"===l?(B=I.scrollTop,G(0,B,k,D)):(_&&(R&&(R.scrollLeft=k.scrollLeft),M&&(M.scrollLeft=k.scrollLeft)),(D||I)&&(t.checkScrolling(),z&&G(0,B,D,I))),a&&_&&t.triggerScrollXEvent(n),c&&z&&t.triggerScrollYEvent(n),_&&O&&O.reactData.visible&&O.updatePlacement(),t.dispatchEvent("scroll",{type:rh,fixed:l,scrollTop:B,scrollLeft:H,scrollHeight:k.scrollHeight,scrollWidth:k.scrollWidth,bodyHeight:j,bodyWidth:V,isX:_,isY:z},n)};let Z,J=0,Q=0,ee=0,te=!1;const ne=n=>{const{deltaY:l,deltaX:r}=n,{highlightHoverRow:a}=o,{scrollYLoad:c}=i,{lastScrollTop:u,lastScrollLeft:d}=s,f=F.value,m=p.value,g=L.value,v=m.$el,b=l,x=r,w=b<0;if(w?g.scrollTop<=0:g.scrollTop>=g.scrollHeight-g.clientHeight)return;const C=g.scrollTop+b,S=v.scrollLeft+x,E=S!==d,O=C!==u;O&&(n.preventDefault(),s.lastScrollTop=C,s.lastScrollLeft=S,i.lastScrollTime=Date.now(),(f.isHover||a)&&t.clearHoverRow(),((n,l,o,r,a)=>{const{elemStore:c}=s,{scrollXLoad:u,scrollYLoad:d}=i,f=p.value,m=h.value,g=y.value,v=m?m.$el:null,b=g?g.$el:null,x=f.$el,w=c["main-body-ySpace"],C=w?w.value:null,S=c["main-body-xSpace"],E=S?S.value:null,O=d&&C?C.clientHeight:x.clientHeight,T=u&&E?E.clientWidth:x.clientWidth,R=te===l?Math.max(0,J-ee):0;te=l,J=Math.abs(l?o-R:o+R),Q=0,ee=0,clearTimeout(Z);const M=()=>{if(ee<J){const{fixedType:o}=e;Q=Math.max(5,Math.floor(1.5*Q)),ee+=Q,ee>J&&(Q-=ee-J);const{scrollTop:i,clientHeight:s,scrollHeight:c}=x,u=i+Q*(l?-1:1);x.scrollTop=u,v&&(v.scrollTop=u),b&&(b.scrollTop=u),(l?u<c-s:u>=0)&&(Z=setTimeout(M,10)),t.dispatchEvent("scroll",{type:rh,fixed:o,scrollTop:x.scrollTop,scrollLeft:x.scrollLeft,scrollHeight:x.scrollHeight,scrollWidth:x.scrollWidth,bodyHeight:O,bodyWidth:T,isX:r,isY:a},n)}};M()})(n,w,b,E,O),c&&t.triggerScrollYEvent(n))};return v((()=>{d((()=>{const{fixedType:t}=e,{elemStore:n}=s,l=`${t||"main"}-body-`,o=L.value;n[`${l}wrapper`]=L,n[`${l}table`]=A,n[`${l}colgroup`]=P,n[`${l}list`]=j,n[`${l}xSpace`]=V,n[`${l}ySpace`]=B,n[`${l}emptyBlock`]=H,o&&(o.onscroll=K,o._onscroll=K)}))})),x((()=>{const e=L.value;clearTimeout(Z),e&&(e._onscroll=null,e.onscroll=null)})),b((()=>{const{fixedType:t}=e,{elemStore:n}=s,l=`${t||"main"}-body-`;n[`${l}wrapper`]=null,n[`${l}table`]=null,n[`${l}colgroup`]=null,n[`${l}list`]=null,n[`${l}xSpace`]=null,n[`${l}ySpace`]=null,n[`${l}emptyBlock`]=null})),()=>{let{fixedColumn:n,fixedType:c,tableColumn:u}=e;const{keyboardConfig:d,showOverflow:p,spanMethod:m,mouseConfig:g}=o,{tableData:h,mergeList:v,scrollYLoad:b,isAllOverflow:x}=i,{visibleColumn:y}=s,{slots:w}=r,C=E.value,R=O.value,M=T.value,k=S.value;let D;c&&(u=i.expandColumn||!b&&!(p?x:p)||v.length||m||d&&M.isMerge?y:n);const I=w?w.empty:null;if(I)D=t.callSlot(I,{$table:t,$grid:t.xegrid});else{const e=R.name?zm.renderer.get(R.name):null,n=e?e.renderTableEmptyView||e.renderEmpty:null;D=n?Pf(n(R,{$table:t})):o.emptyText||gp.i18n("vxe.table.emptyText")}return a("div",Object.assign({ref:L,class:["vxe-table--body-wrapper",c?`fixed-${c}--wrapper`:"body--wrapper"],xid:l},"wheel"===C.mode?{onWheel:ne}:{}),[c?f():a("div",{ref:V,class:"vxe-body--x-space"}),a("div",{ref:B,class:"vxe-body--y-space"}),a("table",{ref:A,class:"vxe-table--body",xid:l,cellspacing:0,cellpadding:0,border:0},[a("colgroup",{ref:P},u.map(((e,t)=>a("col",{name:e.id,key:t})))),a("tbody",{ref:j},U(c,h,u))]),a("div",{class:"vxe-table--checkbox-range"}),g&&k.area?a("div",{class:"vxe-table--cell-area"},[a("span",{class:"vxe-table--cell-main-area"},k.extension?[a("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){t.triggerCellExtendMousedownEvent(e,{$table:t,fixed:c,type:rh})}})]:[]),a("span",{class:"vxe-table--cell-copy-area"}),a("span",{class:"vxe-table--cell-extend-area"}),a("span",{class:"vxe-table--cell-multi-area"}),a("span",{class:"vxe-table--cell-active-area"})]):null,c?null:a("div",{class:"vxe-table--empty-block",ref:H},[a("div",{class:"vxe-table--empty-content"},D)])])}}}),sh="header",ch=s({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=c("$xetable",{}),{xID:n,props:l,reactData:r,internalData:i}=t,{refElem:s,refTableBody:u,refLeftContainer:p,refRightContainer:g,refCellResizeBar:h}=t.getRefMaps(),{computeColumnOpts:x}=t.getComputeMaps(),y=m([]),w=m(),C=m(),S=m(),E=m(),O=m(),T=m(),R=()=>{const{isGroup:t}=r;y.value=t?(e=>{let t=1;const n=(e,l)=>{if(l&&(e.level=l.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((l=>{l.visible&&(n(l,e),t+=l.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e)}));const l=[];for(let o=0;o<t;o++)l.push([]);return hf(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,l[e.level-1].push(e)})),l})(e.tableGroupColumn):[]},M=(n,l)=>{const{column:o}=l,{fixedType:a}=e,c=u.value,d=p.value,f=g.value,m=h.value,{clientX:v}=n,b=w.value,x=n.target,y=l.cell=x.parentNode;let C=0;const S=c.$el,E=df(x,b),O=x.clientWidth,T=Math.floor(O/2),R=function(e){const{$table:t,column:n,cell:l}=e,{props:o}=t,{computeResizableOpts:r}=t.getComputeMaps(),a=r.value,{minWidth:i}=a;if(i){const t=fp.isFunction(i)?i(e):i;if("auto"!==t)return Math.max(1,fp.toNumber(t))}const{showHeaderOverflow:s}=o,{showHeaderOverflow:c,minWidth:u}=n,d=fp.isUndefined(c)||fp.isNull(c)?s:c,p="title"===d||!0===d||"tooltip"===d||"ellipsis"===d;let f=fp.floor(1.6*(fp.toNumber(getComputedStyle(l).fontSize)||14))+(Ef(l)+Ef(Tf(l,"")));if(p){const e=Ef(Tf(l,"--title>.vxe-cell--checkbox")),t=Of(Tf(l,">.vxe-cell--required-icon")),n=Of(Tf(l,">.vxe-cell--edit-icon")),o=Of(Tf(l,">.vxe-cell-title-prefix-icon")),r=Of(Tf(l,">.vxe-cell-title-suffix-icon")),a=Of(Tf(l,">.vxe-cell--sort"));f+=e+t+n+o+r+Of(Tf(l,">.vxe-cell--filter"))+a}if(u){const{refTableBody:e}=t.getRefMaps(),n=e.value,l=n?n.$el:null;if(l){if(Qp(u)){const e=(l.clientWidth-1)/100;return Math.max(f,Math.floor(fp.toInteger(u)*e))}if(Jp(u))return Math.max(f,fp.toInteger(u))}}return f}(l)-T;let M=E.left-y.clientWidth+O+R,k=E.left+T;const D=document.onmousemove,I=document.onmouseup,$="left"===a,F="right"===a,N=s.value;let L=0;if($||F){const e=$?"nextElementSibling":"previousElementSibling";let t=y[e];for(;t&&!ef(t,"fixed--hidden");)ef(t,"col--group")||(L+=t.offsetWidth),t=t[e];F&&f&&(k=f.offsetLeft+L)}const A=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-v;let n=k+t;const l=a?0:S.scrollLeft;$?n=Math.min(n,(f?f.offsetLeft:S.clientWidth)-L-R):F?(M=(d?d.clientWidth:0)+L+R,n=Math.min(n,k+y.clientWidth-R)):M=Math.max(S.scrollLeft,M),C=Math.max(n,M),m.style.left=C-l+"px"};r._isResize=!0,nf(N,"drag--resize"),m.style.display="block",document.onmousemove=A,document.onmouseup=function(e){document.onmousemove=D,document.onmouseup=I;const n=o.renderWidth+(F?k-C:C-k);o.resizeWidth=n,m.style.display="none",r._isResize=!1,i._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then((()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",Object.assign(Object.assign({},l),{resizeWidth:n}),e)})),tf(N,"drag--resize")},A(n),t.closeMenu&&t.closeMenu()};return o((()=>e.tableColumn),R),v((()=>{d((()=>{const{fixedType:n}=e,{internalData:l}=t,{elemStore:o}=l,r=`${n||"main"}-header-`;o[`${r}wrapper`]=w,o[`${r}table`]=C,o[`${r}colgroup`]=S,o[`${r}list`]=E,o[`${r}xSpace`]=O,o[`${r}repair`]=T,R()}))})),b((()=>{const{fixedType:n}=e,{internalData:l}=t,{elemStore:o}=l,r=`${n||"main"}-header-`;o[`${r}wrapper`]=null,o[`${r}table`]=null,o[`${r}colgroup`]=null,o[`${r}list`]=null,o[`${r}xSpace`]=null,o[`${r}repair`]=null})),()=>{const{fixedType:o,fixedColumn:s,tableColumn:c}=e,{resizable:u,border:d,columnKey:p,headerRowClassName:m,headerCellClassName:g,headerRowStyle:h,headerCellStyle:v,showHeaderOverflow:b,headerAlign:R,align:k,mouseConfig:D}=l,{isGroup:I,currentColumn:$,scrollXLoad:F,overflowX:N,scrollbarWidth:L}=r,{visibleColumn:A}=i,P=x.value;let j=y.value,V=c;return I?V=A:(o&&(F||b)&&(V=s),j=[V]),a("div",{ref:w,class:["vxe-table--header-wrapper",o?`fixed-${o}--wrapper`:"body--wrapper"],xid:n},[o?f():a("div",{ref:O,class:"vxe-body--x-space"}),a("table",{ref:C,class:"vxe-table--header",xid:n,cellspacing:0,cellpadding:0,border:0},[a("colgroup",{ref:S},V.map(((e,t)=>a("col",{name:e.id,key:t}))).concat(L?[a("col",{name:"col_gutter"})]:[])),a("thead",{ref:E},j.map(((e,n)=>a("tr",{class:["vxe-header--row",m?fp.isFunction(m)?m({$table:t,$rowIndex:n,fixed:o,type:sh}):m:""],style:h?fp.isFunction(h)?h({$table:t,$rowIndex:n,fixed:o,type:sh}):h:null},e.map(((l,r)=>{const{type:i,showHeaderOverflow:s,headerAlign:c,align:f,headerClassName:m}=l,h=l.children&&l.children.length,x=o?l.fixed!==o&&!h:!!l.fixed&&N,y=fp.isUndefined(s)||fp.isNull(s)?b:s,w=c||f||R||k;let C="ellipsis"===y;const S="title"===y,E=!0===y||"tooltip"===y;let O=S||E||C;const T=l.filters&&l.filters.some((e=>e.checked)),I=t.getColumnIndex(l),L=t.getVTColumnIndex(l),A={$table:t,$grid:t.xegrid,$rowIndex:n,column:l,columnIndex:I,$columnIndex:r,_columnIndex:L,fixed:o,type:sh,isHidden:x,hasFilter:T},j={onClick:e=>t.triggerHeaderCellClickEvent(e,A),onDblclick:e=>t.triggerHeaderCellDblclickEvent(e,A)};return F&&!O&&(C=O=!0),D&&(j.onMousedown=e=>t.triggerHeaderCellMousedownEvent(e,A)),a("th",Object.assign(Object.assign({class:["vxe-header--column",l.id,{[`col--${w}`]:w,[`col--${i}`]:i,"col--last":r===e.length-1,"col--fixed":l.fixed,"col--group":h,"col--ellipsis":O,"fixed--hidden":x,"is--sortable":l.sortable,"col--filter":!!l.filters,"is--filter-active":T,"col--current":$===l},m?fp.isFunction(m)?m(A):m:"",g?fp.isFunction(g)?g(A):g:""],colid:l.id,colspan:l.colSpan>1?l.colSpan:null,rowspan:l.rowSpan>1?l.rowSpan:null,style:v?fp.isFunction(v)?v(A):v:null},j),{key:p||P.useKey||h?l.id:r}),[a("div",{class:["vxe-cell",{"c--title":S,"c--tooltip":E,"c--ellipsis":C}]},l.renderHeader(A)),x||h||!(fp.isBoolean(l.resizable)?l.resizable:P.resizable||u)?null:a("div",{class:["vxe-resizable",{"is--line":!d||"none"===d}],onMousedown:e=>M(e,A)})])})).concat(L?[a("th",{class:"vxe-header--gutter col--gutter"})]:[])))))]),a("div",{ref:T,class:"vxe-table--header-border-line"})])}}}),uh="footer",dh=s({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=c("$xetable",{}),{xID:n,props:l,reactData:o,internalData:r}=t,{refTableHeader:i,refTableBody:s,refValidTooltip:u}=t.getRefMaps(),{computeTooltipOpts:p,computeColumnOpts:g}=t.getComputeMaps(),h=m(),x=m(),y=m(),w=m(),C=m(),S=n=>{const{fixedType:l}=e,{scrollXLoad:a}=o,{lastScrollLeft:c}=r,d=u.value,p=i.value,f=s.value,m=p?p.$el:null,g=h.value,v=f.$el,b=g.scrollLeft,x=b!==c;r.lastScrollLeft=b,o.lastScrollTime=Date.now(),m&&(m.scrollLeft=b),v&&(v.scrollLeft=b),a&&x&&t.triggerScrollXEvent(n),x&&d&&d.reactData.visible&&d.updatePlacement(),t.dispatchEvent("scroll",{type:uh,fixed:l,scrollTop:v.scrollTop,scrollLeft:b,isX:x,isY:!1},n)};return v((()=>{d((()=>{const{fixedType:t}=e,{elemStore:n}=r,l=`${t||"main"}-footer-`;n[`${l}wrapper`]=h,n[`${l}table`]=x,n[`${l}colgroup`]=y,n[`${l}list`]=w,n[`${l}xSpace`]=C}))})),b((()=>{const{fixedType:t}=e,{elemStore:n}=r,l=`${t||"main"}-footer-`;n[`${l}wrapper`]=null,n[`${l}table`]=null,n[`${l}colgroup`]=null,n[`${l}list`]=null,n[`${l}xSpace`]=null})),()=>{let{fixedType:i,fixedColumn:s,tableColumn:c,footerTableData:u}=e;const{footerRowClassName:d,footerCellClassName:m,footerRowStyle:v,footerCellStyle:b,footerAlign:E,footerSpanMethod:O,align:T,columnKey:R,showFooterOverflow:M}=l,{visibleColumn:k}=r,{scrollXLoad:D,overflowX:I,scrollbarWidth:$,currentColumn:F,mergeFooterList:N}=o,L=p.value,A=g.value;return i&&(c=o.expandColumn||!D&&!M||N.length&&O?k:s),a("div",{ref:h,class:["vxe-table--footer-wrapper",i?`fixed-${i}--wrapper`:"body--wrapper"],xid:n,onScroll:S},[i?f():a("div",{ref:C,class:"vxe-body--x-space"}),a("table",{ref:x,class:"vxe-table--footer",xid:n,cellspacing:0,cellpadding:0,border:0},[a("colgroup",{ref:y},c.map(((e,t)=>a("col",{name:e.id,key:t}))).concat($?[a("col",{name:"col_gutter"})]:[])),a("tfoot",{ref:w},u.map(((e,n)=>{const l=n,o={$table:t,row:e,_rowIndex:n,$rowIndex:l,fixed:i,type:uh};return a("tr",{class:["vxe-footer--row",d?fp.isFunction(d)?d(o):d:""],style:v?fp.isFunction(v)?v(o):v:null},c.map(((o,r)=>{const{type:s,showFooterOverflow:d,footerAlign:p,align:f,footerClassName:g}=o,h=L.showAll,v=o.children&&o.children.length,x=i?o.fixed!==i&&!v:o.fixed&&I,y=fp.isUndefined(d)||fp.isNull(d)?M:d,w=p||f||E||T;let C="ellipsis"===y;const S="title"===y,k=!0===y||"tooltip"===y;let $=S||k||C;const P={colid:o.id},j={},V=t.getColumnIndex(o),B=t.getVTColumnIndex(o),H=B,_={$table:t,$grid:t.xegrid,row:e,rowIndex:n,_rowIndex:n,$rowIndex:l,column:o,columnIndex:V,$columnIndex:r,_columnIndex:B,itemIndex:H,items:e,fixed:i,type:uh,data:u};if(D&&!$&&(C=$=!0),(S||k||h)&&(j.onMouseenter=e=>{S?cf(e.currentTarget,o):(k||h)&&t.triggerFooterTooltipEvent(e,_)}),(k||h)&&(j.onMouseleave=e=>{(k||h)&&t.handleTargetLeaveEvent(e)}),j.onClick=e=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},_),e)},j.onDblclick=e=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},_),e)},N.length){const e=function(e,t,n){for(let l=0;l<e.length;l++){const{row:o,col:r,rowspan:a,colspan:i}=e[l];if(r>-1&&o>-1&&a&&i){if(o===t&&r===n)return{rowspan:a,colspan:i};if(t>=o&&t<o+a&&n>=r&&n<r+i)return{rowspan:0,colspan:0}}}}(N,n,B);if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(P.rowspan=t),n>1&&(P.colspan=n)}}else if(O){const{rowspan:e=1,colspan:t=1}=O(_)||{};if(!e||!t)return null;e>1&&(P.rowspan=e),t>1&&(P.colspan=t)}return a("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",o.id,{[`col--${w}`]:w,[`col--${s}`]:s,"col--last":r===c.length-1,"fixed--hidden":x,"col--ellipsis":$,"col--current":F===o},Gp(g,_),Gp(m,_)]},P),{style:b?fp.isFunction(b)?b(_):b:null}),j),{key:R||A.useKey?o.id:r}),[a("div",{class:["vxe-cell",{"c--title":S,"c--tooltip":k,"c--ellipsis":C}]},o.renderFooter(_))])})).concat($?[a("td",{class:"vxe-footer--gutter col--gutter"})]:[]))})))])])}}}),ph={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>gp.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>gp.table.resizable},stripe:{type:Boolean,default:()=>gp.table.stripe},border:{type:[Boolean,String],default:()=>gp.table.border},round:{type:Boolean,default:()=>gp.table.round},size:{type:String,default:()=>gp.table.size||gp.size},fit:{type:Boolean,default:()=>gp.table.fit},loading:Boolean,align:{type:String,default:()=>gp.table.align},headerAlign:{type:String,default:()=>gp.table.headerAlign},footerAlign:{type:String,default:()=>gp.table.footerAlign},showHeader:{type:Boolean,default:()=>gp.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>gp.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>gp.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>gp.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>gp.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>gp.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>gp.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>gp.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>gp.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>gp.table.emptyText},keepSource:{type:Boolean,default:()=>gp.table.keepSource},autoResize:{type:Boolean,default:()=>gp.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>gp.table.animat},delayHover:{type:Number,default:()=>gp.table.delayHover},params:Object},fh=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],mh=Xp["-webkit"]&&!Xp.edge,gh="VXE_TABLE_CUSTOM_COLUMN_WIDTH",hh="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",vh="VXE_TABLE_CUSTOM_COLUMN_FIXED",bh="VXE_TABLE_CUSTOM_COLUMN_SORT",xh=s({name:"VxeTable",props:ph,emits:fh,setup(e,t){const{slots:n,emit:l}=t,s=zm.tooltip,p=fp.uniqueId(),g=wg(e),y=w(),E=r({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),O={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let T={},R={};const M=m(),k=m(),D=m(),I=m(),$=m(),F=m(),N=m(),L=m(),A=m(),P=m(),j=m(),V=m(),B=m(),H=m(),_=m(),z=m(),W=m(),q=m(),Y=m(),U=m(),X=c("$xegrid",null);let G;const K=u((()=>Object.assign({},gp.table.validConfig,e.validConfig))),Z=u((()=>Object.assign({},gp.table.scrollX,e.scrollX))),J=u((()=>Object.assign({},gp.table.scrollY,e.scrollY))),Q=u((()=>({default:48,medium:44,small:40,mini:36}))),ee=u((()=>Object.assign({},gp.table.columnConfig,e.columnConfig))),te=u((()=>Object.assign({},gp.table.rowConfig,e.rowConfig))),ne=u((()=>Object.assign({},gp.table.resizeConfig,e.resizeConfig))),le=u((()=>Object.assign({},gp.table.resizableConfig,e.resizableConfig))),oe=u((()=>Object.assign({startIndex:0},gp.table.seqConfig,e.seqConfig))),re=u((()=>Object.assign({},gp.table.radioConfig,e.radioConfig))),ae=u((()=>Object.assign({},gp.table.checkboxConfig,e.checkboxConfig)));let ie=m();ie=u((()=>Object.assign({},gp.tooltip,gp.table.tooltipConfig,e.tooltipConfig)));const se=u((()=>{const e=ie.value;return Object.assign({},e)})),ce=u((()=>{const e=ie.value;return Object.assign({isArrow:!1},e)})),ue=u((()=>Object.assign({},gp.table.editConfig,e.editConfig))),de=u((()=>Object.assign({orders:["asc","desc",null]},gp.table.sortConfig,e.sortConfig))),pe=u((()=>Object.assign({},gp.table.filterConfig,e.filterConfig))),fe=u((()=>Object.assign({},gp.table.mouseConfig,e.mouseConfig))),me=u((()=>Object.assign({},gp.table.areaConfig,e.areaConfig))),ge=u((()=>Object.assign({},gp.table.keyboardConfig,e.keyboardConfig))),he=u((()=>Object.assign({},gp.table.clipConfig,e.clipConfig))),ve=u((()=>Object.assign({},gp.table.fnrConfig,e.fnrConfig))),be=u((()=>Object.assign({},gp.table.menuConfig,e.menuConfig))),xe=u((()=>{const e=be.value.header;return e&&e.options?e.options:[]})),ye=u((()=>{const e=be.value.body;return e&&e.options?e.options:[]})),we=u((()=>{const e=be.value.footer;return e&&e.options?e.options:[]})),Ce=u((()=>{const t=be.value,n=xe.value,l=ye.value,o=we.value;return!!(e.menuConfig&&jp(t)&&(n.length||l.length||o.length))})),Se=u((()=>{const{ctxMenuStore:e}=E,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),Ee=u((()=>Object.assign({},gp.table.exportConfig,e.exportConfig))),Oe=u((()=>Object.assign({},gp.table.importConfig,e.importConfig))),Te=u((()=>Object.assign({},gp.table.printConfig,e.printConfig))),Re=u((()=>Object.assign({},gp.table.expandConfig,e.expandConfig))),Me=u((()=>Object.assign({},gp.table.treeConfig,e.treeConfig))),ke=u((()=>Object.assign({},gp.table.emptyRender,e.emptyRender))),De=u((()=>Object.assign({},gp.table.loadingConfig,e.loadingConfig))),Ie=u((()=>e.border?Math.max(2,Math.ceil(E.scrollbarWidth/E.tableColumn.length)):1)),$e=u((()=>Object.assign({},gp.table.customConfig,e.customConfig))),Fe=u((()=>{const{collectColumn:e}=O;let t=0;return e.forEach((e=>{e.fixed&&t++})),t})),Ne=u((()=>{const e=Fe.value,t=ee.value,{maxFixedSize:n}=t;return!!n&&e>=n})),Le=u((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),Ae=u((()=>{const{tableData:e}=E,{tableFullData:t}=O,n=ae.value,{strict:l,checkMethod:o}=n;return!!l&&(!e.length&&!t.length||!!o&&t.every((e=>!o({row:e}))))})),Pe={refElem:M,refTooltip:k,refValidTooltip:I,refTableFilter:F,refTableCustom:N,refTableMenu:$,refTableHeader:L,refTableBody:A,refTableFooter:P,refTableLeftHeader:j,refTableLeftBody:V,refTableLeftFooter:B,refTableRightHeader:H,refTableRightBody:_,refTableRightFooter:z,refLeftContainer:W,refRightContainer:q,refCellResizeBar:Y},je={computeSize:g,computeValidOpts:K,computeSXOpts:Z,computeSYOpts:J,computeColumnOpts:ee,computeRowOpts:te,computeResizeleOpts:ne,computeResizableOpts:le,computeSeqOpts:oe,computeRadioOpts:re,computeCheckboxOpts:ae,computeTooltipOpts:ie,computeEditOpts:ue,computeSortOpts:de,computeFilterOpts:pe,computeMouseOpts:fe,computeAreaOpts:me,computeKeyboardOpts:ge,computeClipOpts:he,computeFNROpts:ve,computeHeaderMenu:xe,computeBodyMenu:ye,computeFooterMenu:we,computeIsMenu:Ce,computeMenuOpts:be,computeExportOpts:Ee,computeImportOpts:Oe,computePrintOpts:Te,computeExpandOpts:Re,computeTreeOpts:Me,computeEmptyOpts:ke,computeLoadingOpts:De,computeCustomOpts:$e,computeFixedColumnSize:Fe,computeIsMaxFixedColumn:Ne,computeIsAllCheckboxDisabled:Ae},Ve={xID:p,props:e,context:t,instance:y,reactData:E,internalData:O,getRefMaps:()=>Pe,getComputeMaps:()=>je,xegrid:X},Be=(e,t,n)=>{const l=fp.get(e,n),o=fp.get(t,n);return!(!qp(l)||!qp(o))||(fp.isString(l)||fp.isNumber(l)?""+l==""+o:fp.isEqual(l,o))},He=e=>{const t=de.value,{orders:n}=t,l=e.order||null,o=n.indexOf(l)+1;return n[o<n.length?o:0]},_e=e=>{const t=gp.version,n=fp.toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},ze=e=>{const{fullAllDataRowIdData:t}=O,n={};return fp.each(e,((e,l)=>{t[l]&&(n[l]=e)})),n},We=e=>{const{fullDataRowIdData:t}=O,n=[];return fp.each(e,((e,l)=>{t[l]&&-1===Ve.findRowIndexOf(n,t[l].row)&&n.push(t[l].row)})),n},qe=()=>{const{visibleColumn:e}=O,t=A.value,n=t?t.$el:null;if(n){const{scrollLeft:t,clientWidth:l}=n,o=t+l;let r=-1,a=0,i=0;for(let n=0,s=e.length;n<s&&(a+=e[n].renderWidth,-1===r&&t<a&&(r=n),!(r>=0&&(i++,a>o)));n++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(8,i)}}return{toVisibleIndex:0,visibleSize:8}},Ye=(e,t,n)=>{for(let l=0,o=e.length;l<o;l++){const o=e[l],{startIndex:r,endIndex:a}=t,i=o[n],s=i+o[n+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(l=-1)}},Ue=(t,n,l)=>{if(t){const{treeConfig:o}=e,{visibleColumn:r}=O;fp.isArray(t)||(t=[t]),o&&t.length&&Np("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:o,rowspan:a,colspan:i}=e;if(l&&fp.isNumber(t)&&(t=l[t]),fp.isNumber(o)&&(o=r[o]),(l?t:fp.isNumber(t))&&o&&(a||i)&&(a=fp.toNumber(a)||1,i=fp.toNumber(i)||1,a>1||i>1)){const e=fp.findIndexOf(n,(e=>!(e._row!==t&&Cf(Ve,e._row)!==Cf(Ve,t)||e._col.id!==o&&e._col.id!==o.id))),r=n[e];if(r)r.rowspan=a,r.colspan=i,r._rowspan=a,r._colspan=i;else{const e=l?Ve.findRowIndexOf(l,t):t,r=T.getVTColumnIndex(o);n.push({row:e,col:r,rowspan:a,colspan:i,_row:t,_col:o,_rowspan:a,_colspan:i})}}}))}},Xe=(t,n,l)=>{const o=[];if(t){const{treeConfig:r}=e,{visibleColumn:a}=O;fp.isArray(t)||(t=[t]),r&&t.length&&Np("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:r}=e;l&&fp.isNumber(t)&&(t=l[t]),fp.isNumber(r)&&(r=a[r]);const i=fp.findIndexOf(n,(e=>!(e._row!==t&&Cf(Ve,e._row)!==Cf(Ve,t)||e._col.id!==r&&e._col.id!==r.id)));if(i>-1){const e=n.splice(i,1);o.push(e[0])}}))}return o},Ge=()=>{const{tableFullColumn:e}=O;e.forEach((e=>{e.order=null}))},Ke=t=>{const{parentHeight:n}=E,l=e[t];let o=0;if(l)if("auto"===l)o=n;else{const e=Ve.getExcludeHeight();o=Qp(l)?Math.floor((fp.toInteger(l)||1)/100*n):fp.toNumber(l),o=Math.max(40,o-e)}return o},Ze=()=>{const{tableFullColumn:t,collectColumn:n}=O,l=O.fullColumnIdData={},o=O.fullColumnFieldData={};fe.value,ee.value,te.value;const r=n.some(_p);let a,i,s=!!e.showOverflow;const c=(e,t,n,r,c)=>{const{id:u,field:d,fixed:p,type:f,treeNode:m}=e,g={column:e,colid:u,index:t,items:n,parent:c};d&&(o[d]=g),m?i||(i=e):"expand"===f&&(a||(a=e)),s&&!1===e.showOverflow&&(s=!1),l[u]&&Np("vxe.error.colRepet",["colId",u]),l[u]=g};r?fp.eachTree(n,((e,t,n,l,o,r)=>{e.level=r.length,c(e,t,n,0,o)})):t.forEach(c),E.isGroup=r,E.treeNodeColumn=i,E.expandColumn=a,E.isAllOverflow=s},Je=()=>{O.customHeight=Ke("height"),O.customMinHeight=Ke("minHeight"),O.customMaxHeight=Ke("maxHeight")},Qe=()=>{const t=L.value,n=A.value,l=P.value,o=n?n.$el:null,r=t?t.$el:null,a=l?l.$el:null;if(!o)return;let i=0;const s=o.clientWidth-1;let c=s,u=c/100;const{fit:p}=e,{columnStore:f}=E,{resizeList:m,pxMinList:g,pxList:h,scaleList:v,scaleMinList:b,autoList:x}=f;if(g.forEach((e=>{const t=fp.toInteger(e.minWidth);i+=t,e.renderWidth=t})),b.forEach((e=>{const t=Math.floor(fp.toInteger(e.minWidth)*u);i+=t,e.renderWidth=t})),v.forEach((e=>{const t=Math.floor(fp.toInteger(e.width)*u);i+=t,e.renderWidth=t})),h.forEach((e=>{const t=fp.toInteger(e.width);i+=t,e.renderWidth=t})),m.forEach((e=>{const t=fp.toInteger(e.resizeWidth);i+=t,e.renderWidth=t})),c-=i,u=c>0?Math.floor(c/(b.length+g.length+x.length)):0,p?c>0&&b.concat(g).forEach((e=>{i+=u,e.renderWidth+=u})):u=40,x.forEach((e=>{const t=Math.max(u,40);e.renderWidth=t,i+=t})),p){const e=v.concat(b).concat(g).concat(x);let t=e.length-1;if(t>0){let n=s-i;if(n>0){for(;n>0&&t>=0;)n--,e[t--].renderWidth++;i=s}}}const y=o.offsetHeight,w=o.scrollHeight>o.clientHeight;let C=0;w&&(C=Math.max(o.offsetWidth-o.clientWidth,0)),E.scrollbarWidth=C,E.overflowY=w,O.tableWidth=i,O.tableHeight=y;let S=0;r&&(S=r.clientHeight,d((()=>{r&&o&&r.scrollLeft!==o.scrollLeft&&(r.scrollLeft=o.scrollLeft)}))),O.headerHeight=S;let T=!1,M=0,k=0;a?(M=a.offsetHeight,T=i>a.clientWidth,T&&(k=Math.max(M-a.clientHeight,0))):(T=i>s,T&&(k=Math.max(y-o.clientHeight,0))),O.footerHeight=M,E.overflowX=T,E.scrollbarHeight=k,Je(),E.parentHeight=Math.max(O.headerHeight+M+20,R.getParentHeight()),T&&R.checkScrolling()},et=e=>{const{sortBy:t,sortType:n}=e;return l=>{let o;return o=t?fp.isFunction(t)?t({row:l,column:e}):fp.get(l,t):R.getCellLabel(l,e),n&&"auto"!==n?"number"===n?fp.toNumber(o):"string"===n?fp.toValueString(o):o:isNaN(o)?o:fp.toNumber(o)}},tt=()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:l,fullAllDataRowIdData:o}=O,{afterTreeFullData:r}=O,a=Me.value,i=a.children||a.childrenField,s={};t?fp.eachTree(r,((e,t,n,r)=>{const a=Cf(Ve,e),i=o[a],c=r.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(i)i.seq=c,i._index=t;else{const n={row:e,rowid:a,seq:c,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};o[a]=n,l[a]=n}s[a]=e}),{children:a.transform?a.mapChildrenField:i}):n.forEach(((e,t)=>{const n=Cf(Ve,e),r=o[n],a=t+1;if(r)r.seq=a,r._index=t;else{const r={row:e,rowid:n,seq:a,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};o[n]=r,l[n]=r}s[n]=e})),O.afterFullRowMaps=s},nt=()=>{const{treeConfig:t}=e,{treeExpandedMaps:n}=E,l=Me.value;if(t&&l.transform){const e=[],t={};return fp.eachTree(O.afterTreeFullData,((l,o,r,a,i)=>{const s=Cf(Ve,l),c=Cf(Ve,i);(!i||t[c]&&n[c])&&(t[s]=1,e.push(l))}),{children:l.mapChildrenField}),O.afterFullData=e,St(e),e}return O.afterFullData},lt=()=>{const{border:t,showFooter:n,showOverflow:l,showHeaderOverflow:o,showFooterOverflow:r,mouseConfig:a,spanMethod:i,footerSpanMethod:s,keyboardConfig:c}=e,{isGroup:u,currentRow:p,tableColumn:f,scrollXLoad:m,scrollYLoad:g,scrollbarWidth:h,scrollbarHeight:v,columnStore:b,editStore:x,mergeList:y,mergeFooterList:w,isAllOverflow:C}=E;let{visibleColumn:S,fullColumnIdData:R,tableHeight:M,tableWidth:k,headerHeight:D,footerHeight:I,elemStore:$,customHeight:F,customMinHeight:N,customMaxHeight:L}=O;const A=U.value,P=Ie.value,j=fe.value,V=ge.value,B=$["main-body-wrapper"],H=B?B.value:null;return A&&(A.style.top=`${D}px`,A.style.height=H?H.offsetHeight-v+"px":""),F>0&&n&&(F+=v),["main","left","right"].forEach(((e,a)=>{const d=a>0?e:"",p="left"===d;let x,O=[];d&&(O=p?b.leftList:b.rightList,x=p?W.value:q.value),["header","body","footer"].forEach((a=>{const b=$[`${e}-${a}-wrapper`],A=b?b.value:null,j=$[`${e}-${a}-table`],B=j?j.value:null;if("header"===a){let n=k,l=f;u?l=S:d&&(m||o)&&(l=O),n=l.reduce(((e,t)=>e+t.renderWidth),0),B&&(B.style.width=n?`${n+h}px`:"");const r=$[`${e}-${a}-repair`],i=r?r.value:null;i&&(i.style.width=`${k}px`);const s=$[`${e}-${a}-list`],c=s?s.value:null;u&&c&&fp.arrayEach(c.querySelectorAll(".col--group"),(e=>{const n=T.getColumnNode(e);if(n){const l=n.item,{showHeaderOverflow:r}=l,a=fp.isBoolean(r)?r:o,i="title"===a||!0===a||"tooltip"===a||"ellipsis"===a;let s=0,c=0;i&&fp.eachTree(l.children,(e=>{e.children&&l.children.length||c++,s+=e.renderWidth}),{children:"children"}),e.style.width=i?s-c-(t?2:0)+"px":""}}))}else if("body"===a){const t=$[`${e}-${a}-emptyBlock`],o=t?t.value:null;if(gf(A)){let e=0;const t=N-D-I;if(L&&(e=L-D-I,d&&(e-=n?0:v),e=Math.max(t,e),A.style.maxHeight=`${e}px`),F){let l=F-D-I;d&&(l-=n?0:v),e&&(l=Math.min(e,l)),A.style.height=`${Math.max(t,l)}px`}else A.style.height="";A.style.minHeight=`${t}px`}x&&(gf(A)&&(A.style.top=`${D}px`),x.style.height=(F>0?F-D-I:M)+D+I-v*(n?2:1)+"px",x.style.width=`${O.reduce(((e,t)=>e+t.renderWidth),p?0:h)}px`);let r=k,s=f;d&&(s=E.expandColumn||!g&&!(l?C:l)||y.length||i||c&&V.isMerge?S:O),r=s.reduce(((e,t)=>e+t.renderWidth),0),B&&(B.style.width=r?`${r}px`:"",B.style.paddingRight=h&&d&&(Xp["-moz"]||Xp.safari)?`${h}px`:""),o&&(o.style.width=r?`${r}px`:"")}else if("footer"===a){let e=k,t=f;d&&(t=E.expandColumn||!m&&!r||w.length&&s?S:O),e=t.reduce(((e,t)=>e+t.renderWidth),0),gf(A)&&(x&&(A.style.top=`${F>0?F-I:M+D}px`),A.style.marginTop=-Math.max(1,v)+"px"),B&&(B.style.width=e?`${e+h}px`:"")}const H=$[`${e}-${a}-colgroup`],_=H?H.value:null;_&&fp.arrayEach(_.children,(t=>{const n=t.getAttribute("name");if("col_gutter"===n&&(t.style.width=`${h}px`),R[n]){const i=R[n].column,{showHeaderOverflow:s,showFooterOverflow:c,showOverflow:u}=i;let d;t.style.width=`${i.renderWidth}px`,d="header"===a?fp.isUndefined(s)||fp.isNull(s)?o:s:"footer"===a?fp.isUndefined(c)||fp.isNull(c)?r:c:fp.isUndefined(u)||fp.isNull(u)?l:u;let p="title"===d||!0===d||"tooltip"===d||"ellipsis"===d;const f=$[`${e}-${a}-list`],m=f?f.value:null;g&&!p&&(p=!0),m&&fp.arrayEach(m.querySelectorAll(`.${i.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),n=e.querySelector(".vxe-cell");let l=i.renderWidth;if(n){if(t>1){const e=T.getColumnIndex(i);for(let n=1;n<t;n++){const t=T.getColumns(e+n);t&&(l+=t.renderWidth)}}n.style.width=p?l-P*t+"px":""}}))}}))}))})),p&&T.setCurrentRow(p),a&&j.selected&&x.selected.row&&x.selected.column&&Ve.addCellSelectedClass(),d()},ot=e=>Ve.triggerValidate?Ve.triggerValidate(e):d(),rt=(e,t)=>{ot("blur").catch((e=>e)).then((()=>{Ve.handleActived(t,e).then((()=>ot("change"))).catch((e=>e))}))},at=(e,t)=>{const{checkboxReserveRowMap:n}=O;if(ae.value.reserve){const l=Cf(Ve,e);t?n[l]=e:n[l]&&delete n[l]}},it=(e,t)=>{const n=re.value,{checkMethod:l}=n;return e&&(t||!l||l({row:e}))&&(E.selectRadioRow=e,(e=>{re.value.reserve&&(O.radioReserveRow=e)})(e)),d()},st=(e,t,n)=>(e&&!fp.isArray(e)&&(e=[e]),e.forEach((e=>R.handleSelectRow({row:e},!!t,n))),d()),ct=(t,n)=>{const{treeConfig:l}=e,{selectCheckboxMaps:o}=E,{afterFullData:r,afterFullRowMaps:a,checkboxReserveRowMap:i}=O,s=Me.value,c=s.children||s.childrenField,u=ae.value,{checkField:p,reserve:f,checkStrictly:m,checkMethod:g}=u,h=u.indeterminateField||u.halfField,v={};if(l||fp.each(o,((e,t)=>{a[t]||(v[t]=e)})),m)E.isAllSelected=t;else{if(p){const e=e=>{(n||!g||g({row:e}))&&(t&&(v[Cf(Ve,e)]=e),fp.set(e,p,t)),l&&h&&fp.set(e,h,!1)};l?fp.eachTree(r,e,{children:c}):r.forEach(e)}else l?t?fp.eachTree(r,(e=>{(n||!g||g({row:e}))&&(v[Cf(Ve,e)]=e)}),{children:c}):!n&&g&&fp.eachTree(r,(e=>{const t=Cf(Ve,e);!g({row:e})&&o[t]&&(v[t]=e)}),{children:c}):t?!n&&g?r.forEach((e=>{const t=Cf(Ve,e);(o[t]||g({row:e}))&&(v[t]=e)})):r.forEach((e=>{v[Cf(Ve,e)]=e})):!n&&g&&r.forEach((e=>{const t=Cf(Ve,e);!g({row:e})&&o[t]&&(v[t]=e)}));f&&(t?fp.each(v,((e,t)=>{i[t]=e})):r.forEach((e=>at(e,!1)))),E.selectCheckboxMaps=p?{}:v}return E.treeIndeterminateMaps={},O.treeIndeterminateRowMaps={},R.checkSelectionStatus(),d()},ut=e=>{const t=Me.value,n=ae.value,{transform:l,loadMethod:o}=t,{checkStrictly:r}=n;return new Promise((t=>{if(o){const{treeExpandLazyLoadedMaps:n}=E,{fullAllDataRowIdData:a}=O,i=Cf(Ve,e),s=a[i];n[i]=e,o({$table:Ve,row:e}).then((t=>{if(s.treeLoaded=!0,n[i]&&delete n[i],fp.isArray(t)||(t=[]),t)return T.loadTreeChildren(e,t).then((t=>{const{treeExpandedMaps:n}=E;return t.length&&!n[i]&&(n[i]=e),!r&&T.isCheckedByCheckboxRow(e)&&st(t,!0),d().then((()=>{if(l)return R.handleTableData()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=E;s.treeLoaded=!1,e[i]&&delete e[i]})).finally((()=>{d().then((()=>T.recalculate())).then((()=>t()))}))}else t()}))},dt=(e,t)=>{const{treeExpandedReserveRowMap:n}=O;if(Me.value.reserve){const l=Cf(Ve,e);t?n[l]=e:n[l]&&delete n[l]}},pt=e=>new Promise((t=>{const n=Re.value,{loadMethod:l}=n;if(l){const{fullAllDataRowIdData:n}=O,{rowExpandLazyLoadedMaps:o}=E,r=Cf(Ve,e),a=n[r];o[r]=e,l({$table:Ve,row:e,rowIndex:T.getRowIndex(e),$rowIndex:T.getVMRowIndex(e)}).then((()=>{const{rowExpandedMaps:t}=E;a.expandLoaded=!0,t[r]=e})).catch((()=>{a.expandLoaded=!1})).finally((()=>{const{rowExpandLazyLoadedMaps:e}=E;e[r]&&delete e[r],d().then((()=>T.recalculate())).then((()=>t()))}))}else t()})),ft=(e,t)=>{const{rowExpandedReserveRowMap:n}=O;if(Re.value.reserve){const l=Cf(Ve,e);t?n[l]=e:n[l]&&delete n[l]}},mt=()=>d().then((()=>{const{scrollXLoad:e,scrollYLoad:t}=E,{scrollXStore:n,scrollYStore:l}=O,o=J.value,r=Z.value;if(e){const{visibleSize:e}=qe(),t=r.oSize?fp.toNumber(r.oSize):Xp.edge?5:0;n.offsetSize=t,n.visibleSize=e,n.endIndex=Math.max(n.startIndex+n.visibleSize+t,n.endIndex),R.updateScrollXData()}else R.updateScrollXSpace();const{rowHeight:a,visibleSize:i}=(()=>{const e=L.value,t=A.value,n=t?t.$el:null,l=g.value,o=Q.value;if(n){const t=e?e.$el:null;let r,a=0;return r=n.querySelector("tr"),!r&&t&&(r=t.querySelector("tr")),r&&(a=r.clientHeight),a||(a=o[l||"default"]),{rowHeight:a,visibleSize:Math.max(8,Math.ceil(n.clientHeight/a)+2)}}return{rowHeight:0,visibleSize:8}})();if(l.rowHeight=a,t){const e=o.oSize?fp.toNumber(o.oSize):Xp.edge?10:0;l.offsetSize=e,l.visibleSize=i,l.endIndex=Math.max(l.startIndex+i+e,l.endIndex),R.updateScrollYData()}else R.updateScrollYSpace();E.rowHeight=a,d(lt)})),gt=t=>{const{keepSource:n,treeConfig:l}=e,{editStore:o,scrollYLoad:a}=E,{scrollYStore:i,scrollXStore:s,lastScrollLeft:c,lastScrollTop:u}=O,p=Me.value,{transform:f}=p,m=p.children||p.childrenField;let g=[],h=r(t?t.slice(0):[]);l&&(f?(g=fp.toArrayTree(h,{key:p.rowField,parentKey:p.parentField,children:m,mapChildren:p.mapChildrenField}),h=g.slice(0)):g=h.slice(0)),i.startIndex=0,i.endIndex=1,s.startIndex=0,s.endIndex=1,E.scrollVMLoading=!1,o.insertMaps={},o.removeMaps={};const v=St(h);return E.scrollYLoad=v,O.tableFullData=h,O.tableFullTreeData=g,R.cacheRowMap(!0),O.tableSynchData=t,n&&R.cacheSourceMap(h),Ve.clearCellAreas&&e.mouseConfig&&(Ve.clearCellAreas(),Ve.clearCopyCellArea()),T.clearMergeCells(),T.clearMergeFooterItems(),R.handleTableData(!0),T.updateFooter(),d().then((()=>{Je(),lt()})).then((()=>{mt()})).then((()=>(v&&(i.endIndex=i.visibleSize),(()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:l,selectCheckboxMaps:o,selectRadioRow:r,rowExpandedMaps:a,treeExpandedMaps:i}=E,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:u}=O,d=Re.value,p=Me.value,f=re.value,m=ae.value;if(r&&!c[Cf(Ve,r)]&&(E.selectRadioRow=null),f.reserve&&u){const e=Cf(Ve,u);s[e]&&it(s[e].row,!0)}E.selectCheckboxMaps=ze(o),m.reserve&&st(We(O.checkboxReserveRowMap),!0,!0),l&&!c[Cf(Ve,l)]&&(E.currentRow=null),E.rowExpandedMaps=n?ze(a):{},n&&d.reserve&&T.setRowExpand(We(O.rowExpandedReserveRowMap),!0),E.treeExpandedMaps=t?ze(i):{},t&&p.reserve&&T.setTreeExpand(We(O.treeExpandedReserveRowMap),!0)})(),R.checkSelectionStatus(),new Promise((e=>{d().then((()=>T.recalculate())).then((()=>{let t=c,n=u;const l=Z.value,o=J.value;l.scrollToLeftOnChange&&(t=0),o.scrollToTopOnChange&&(n=0),a===v?vf(Ve,t,n).then(e):setTimeout((()=>vf(Ve,t,n).then(e)))}))})))))},ht=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=O,t=ae.value,{checkAll:n,checkRowKeys:l}=t;if(n)ct(!0,!0);else if(l){const t=[];l.forEach((n=>{e[n]&&t.push(e[n].row)})),st(t,!0,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=O,t=re.value,{checkRowKey:n,reserve:l}=t;if(n&&(e[n]&&it(e[n].row,!0),l)){const e=wf(Ve);O.radioReserveRow={[e]:n}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=O,t=Re.value,{expandAll:n,expandRowKeys:l}=t;if(n)T.setAllRowExpand(!0);else if(l){const t=[];l.forEach((n=>{e[n]&&t.push(e[n].row)})),T.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=O,t=Me.value,{expandAll:n,expandRowKeys:l}=t,o=t.children||t.childrenField;if(n)T.setAllTreeExpand(!0);else if(l){const t=[],n=wf(Ve);l.forEach((l=>{const r=fp.findTree(e,(e=>l===fp.get(e,n)),{children:o});r&&t.push(r.item)})),T.setTreeExpand(t,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&T.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&T.setMergeFooterItems(t)})(),d((()=>setTimeout((()=>T.recalculate()))))},vt=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=de.value;let{defaultSort:n}=e;n&&(fp.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach(((e,t)=>{const{field:n,order:l}=e;if(n&&l){const e=T.getColumnByField(n);e&&e.sortable&&(e.order=l,e.sortTime=Date.now()+t)}})),e.remote||R.handleTableData(!0).then(lt)))}})()},bt=()=>{const{scrollXLoad:e}=E,{visibleColumn:t,scrollXStore:n,fullColumnIdData:l}=O,o=e?t.slice(n.startIndex,n.endIndex):t.slice(0);o.forEach(((e,t)=>{const n=e.id,o=l[n];o&&(o.$index=t)})),E.tableColumn=o},xt=()=>{const{mergeList:e,mergeFooterList:t}=E,{scrollXStore:n}=O,{startIndex:l,endIndex:o,offsetSize:r}=n,{toVisibleIndex:a,visibleSize:i}=qe(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};Ye(e.concat(t),s,"col");const{startIndex:c,endIndex:u}=s;(a<=l||a>=o-i-1)&&(l===c&&o===u||(n.startIndex=c,n.endIndex=u,R.updateScrollXData())),T.closeTooltip()},yt=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?yt(e.children):[e])})),t},wt=()=>{const e=[],t=[],n=[],{isGroup:l,columnStore:o}=E,r=Z.value,{collectColumn:a,tableFullColumn:i,scrollXStore:s,fullColumnIdData:c}=O;if(l){const l=[],o=[],r=[];fp.eachTree(a,((l,o,r,a,i)=>{const s=_p(l);i&&i.fixed&&(l.fixed=i.fixed),i&&l.fixed!==i.fixed&&Np("vxe.error.groupFixed"),s?l.visible=!!fp.findTree(l.children,(e=>!_p(e)&&e.visible)):l.visible&&("left"===l.fixed?e.push(l):"right"===l.fixed?n.push(l):t.push(l))})),a.forEach((e=>{e.visible&&("left"===e.fixed?l.push(e):"right"===e.fixed?r.push(e):o.push(e))})),E.tableGroupColumn=l.concat(o).concat(r)}else i.forEach((l=>{l.visible&&("left"===l.fixed?e.push(l):"right"===l.fixed?n.push(l):t.push(l))}));const u=e.concat(t).concat(n),d=!!r.enabled&&r.gt>-1&&(0===r.gt||r.gt<i.length);if(E.hasFixedColumn=e.length>0||n.length>0,Object.assign(o,{leftList:e,centerList:t,rightList:n}),d){const{visibleSize:e}=qe();s.startIndex=0,s.endIndex=e,s.visibleSize=e}return u.length===O.visibleColumn.length&&O.visibleColumn.every(((e,t)=>e===u[t]))||(T.clearMergeCells(),T.clearMergeFooterItems()),E.scrollXLoad=d,u.forEach(((e,t)=>{const n=e.id,l=c[n];l&&(l._index=t)})),O.visibleColumn=u,bt(),T.updateFooter().then((()=>T.recalculate())).then((()=>(T.updateCellAreas(),T.recalculate())))},Ct=t=>{O.collectColumn=t;const n=yt(t);return O.tableFullColumn=n,(()=>{const{collectColumn:e}=O;e.forEach(((e,t)=>{const n=t+1;e.sortNumber=n,e.renderSortNumber=n}))})(),(()=>{const{id:t,customConfig:n}=e,l=$e.value,{storage:o}=l,r=!0===o,a=r?{}:Object.assign({},o||{}),i=r||a.resizable,s=r||a.visible,c=r||a.fixed,u=r||a.sort;if(n&&(i||s||c||u)){const e={};if(!t)return void Np("vxe.error.reqProp",["id"]);if(i){const n=_e(gh)[t];n&&fp.each(n,((t,n)=>{e[n]={resizeWidth:t}}))}if(c){const n=_e(vh)[t];n&&n.split(",").forEach((t=>{const[n,l]=t.split("|");e[n]?e[n].fixed=l:e[n]={fixed:l}}))}let n=!1;if(u){const l=_e(bh)[t];l&&fp.each(l,((t,l)=>{e[l]?e[l].renderSortNumber=t:e[l]={renderSortNumber:t},n||(n=!0)}))}if(s){const n=_e(hh)[t];if(n){const t=n.split("|"),l=t[0]?t[0].split(","):[],o=t[1]?t[1].split(","):[];l.forEach((t=>{e[t]?e[t].visible=!1:e[t]={visible:!1}})),o.forEach((t=>{e[t]?e[t].visible=!0:e[t]={visible:!0}}))}}let{collectColumn:l}=O;const o={};fp.eachTree(l,(e=>{const t=e.getKey();t&&(o[t]=e)})),fp.each(e,(({visible:e,resizeWidth:t,fixed:n,renderSortNumber:l},r)=>{const a=o[r];a&&(fp.isNumber(t)&&(a.resizeWidth=t),fp.isBoolean(e)&&(a.visible=e),n&&(a.fixed=n),l&&(a.renderSortNumber=Number(l)))})),n&&(l=fp.orderBy(l,"renderSortNumber"),O.collectColumn=l,O.tableFullColumn=yt(l))}})(),Ze(),wt().then((()=>{E.scrollXLoad&&xt()})),T.clearMergeCells(),T.clearMergeFooterItems(),R.handleTableData(!0),d().then((()=>(G&&G.syncUpdate({collectColumn:t,$table:Ve}),T.recalculate())))},St=t=>{const{treeConfig:n}=e,l=J.value,o=Me.value,{transform:r}=o,a=t||O.tableFullData,i=(r||!n)&&!!l.enabled&&l.gt>-1&&(0===l.gt||l.gt<a.length);return E.scrollYLoad=i,i},Et=(e,t)=>{const{treeExpandedMaps:n,treeExpandLazyLoadedMaps:l,treeNodeColumn:o}=E,r=Object.assign({},n),{fullAllDataRowIdData:a,tableFullData:i}=O,s=Me.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,f=s.children||s.childrenField,m=s.hasChild||s.hasChildField,g=[],h=T.getColumnIndex(o),v=T.getVMColumnIndex(o);let b=p?e.filter((e=>p({$table:Ve,expanded:t,column:o,columnIndex:h,$columnIndex:v,row:e}))):e;if(d){b=b.length?[b[b.length-1]]:[];const e=fp.findTree(i,(e=>e===b[0]),{children:f});e&&e.items.forEach((e=>{const t=Cf(Ve,e);r[t]&&delete r[t]}))}return t?b.forEach((e=>{const t=Cf(Ve,e);if(!r[t]){const n=a[t];u&&e[m]&&!n.treeLoaded&&!l[t]?g.push(ut(e)):e[f]&&e[f].length&&(r[t]=e)}})):b.forEach((e=>{const t=Cf(Ve,e);r[t]&&delete r[t]})),c&&b.forEach((e=>dt(e,t))),E.treeExpandedMaps=r,Promise.all(g).then((()=>T.recalculate()))},Ot=e=>{const{mergeList:t}=E,{scrollYStore:n}=O,{startIndex:l,endIndex:o,visibleSize:r,offsetSize:a,rowHeight:i}=n,s=(e.currentTarget||e.target).scrollTop,c=Math.floor(s/i),u={startIndex:Math.max(0,c-1-a),endIndex:c+r+a};Ye(t,u,"row");const{startIndex:d,endIndex:p}=u;(c<=l||c>=o-r-1)&&(l===d&&o===p||(n.startIndex=d,n.endIndex=p,R.updateScrollYData()))},Tt=e=>function(t){const{fullAllDataRowIdData:n}=O;if(t){const l=n[Cf(Ve,t)];if(l)return l[e]}return-1},Rt=e=>function(t){const{fullColumnIdData:n}=O;if(t){const l=n[t.id];if(l)return l[e]}return-1},Mt=fp.debounce((function(e){Ot(e)}),20,{leading:!1,trailing:!0});let kt;T={dispatchEvent(e,t,n){l(e,Object.assign({$table:Ve,$grid:X,$event:n},t))},clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(Ve),syncData:()=>(Fp("vxe.error.delFunc",["syncData","getData"]),d().then((()=>(E.tableData=[],l("update:data",O.tableFullData),d())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=E;return R.handleTableData(!0).then((()=>{if(T.updateFooter(),e||t)return e&&R.updateScrollXSpace(),t&&R.updateScrollYSpace(),T.refreshScroll()})).then((()=>(T.updateCellAreas(),T.recalculate(!0)))).then((()=>{setTimeout((()=>Ve.recalculate()),50)}))},loadData(e){const{inited:t,initStatus:n}=O;return gt(e).then((()=>(O.inited=!0,O.initStatus=!0,n||ht(),t||vt(),T.recalculate())))},reloadData(e){const{inited:t}=O;return T.clearAll().then((()=>(O.inited=!0,O.initStatus=!0,gt(e)))).then((()=>(ht(),t||vt(),T.recalculate())))},reloadRow(t,n,l){const{keepSource:o}=e,{tableData:r}=E,{tableSourceData:a}=O;if(o){const e=a[T.getRowIndex(t)];if(e&&t)if(l){const o=fp.get(n||t,l);fp.set(t,l,o),fp.set(e,l,o)}else{const l=fp.clone(Object.assign({},n),!0);fp.destructuring(e,Object.assign(t,l))}E.tableData=r.slice(0)}return d()},loadTreeChildren(t,n){const{keepSource:l}=e,{tableSourceData:o,fullDataRowIdData:r,fullAllDataRowIdData:a,sourceDataRowIdData:i}=O,s=Me.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=a[Cf(Ve,t)],f=p?p.level:0;return T.createData(n).then((e=>{if(l){const n=Cf(Ve,t),l=fp.findTree(o,(e=>n===Cf(Ve,e)),{children:d});l&&(l.item[d]=fp.clone(e,!0)),e.forEach((e=>{const t=Cf(Ve,e);i[t]=fp.clone(e,!0)}))}return fp.eachTree(e,((e,t,n,l,o,i)=>{const s=Cf(Ve,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:n,parent:o||p.row,level:f+i.length};r[s]=c,a[s]=c}),{children:d}),t[d]=e,c&&(t[u]=e),tt(),e}))},loadColumn(e){const t=fp.mapTree(e,(e=>r(Xg.createColumn(Ve,e))));return Ct(t)},reloadColumn:e=>T.clearAll().then((()=>T.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=O,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=O,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Tt("seq"),getRowIndex:Tt("index"),getVTRowIndex:Tt("_index"),getVMRowIndex:Tt("$index"),getColumnIndex:Rt("index"),getVTColumnIndex:Rt("_index"),getVMColumnIndex:Rt("$index"),createData:e=>d().then((()=>r(R.defineField(e)))),createRow(e){const t=fp.isArray(e);return t||(e=[e||{}]),T.createData(e).then((e=>t?e:e[0]))},revertData(t,n){const{keepSource:l}=e,{tableSourceData:o,sourceDataRowIdData:r}=O;if(!l)return d();let a=t;return t?fp.isArray(t)||(a=[t]):a=fp.toArray(Ve.getUpdateRecords()),a.length&&a.forEach((e=>{if(!T.isInsertByRow(e)){const t=Cf(Ve,e),l=r[t];l&&e&&(n?fp.set(e,n,fp.clone(fp.get(l,n),!0)):fp.destructuring(e,fp.clone(l,!0)))}})),t?d():T.reloadData(o)},clearData(e,t){const{tableFullData:n,visibleColumn:l}=O;return arguments.length?e&&!fp.isArray(e)&&(e=[e]):e=n,t?e.forEach((e=>fp.set(e,t,null))):e.forEach((e=>{l.forEach((t=>{t.field&&kf(e,t,null)}))})),d()},isInsertByRow(e){const{editStore:t}=E,n=Cf(Ve,e);return t.insertMaps[n]},removeInsertRow(){const{editStore:e}=E;return e.insertMaps={},Ve.remove(Ve.getInsertRecords())},isUpdateByRow(t,n){const{keepSource:l}=e,{tableFullColumn:o,fullDataRowIdData:r,sourceDataRowIdData:a}=O;if(l){const e=Cf(Ve,t);if(!r[e])return!1;const l=a[e];if(l){if(arguments.length>1)return!Be(l,t,n);for(let e=0,n=o.length;e<n;e++){const n=o[e].field;if(n&&!Be(l,t,n))return!0}}}return!1},getColumns(e){const t=O.visibleColumn;return fp.isUndefined(e)?t.slice(0):t[e]},getColumnById(e){const t=O.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=O.fullColumnFieldData;return e&&t[e]?t[e].column:null},getTableColumn:()=>({collectColumn:O.collectColumn.slice(0),fullColumn:O.tableFullColumn.slice(0),visibleColumn:O.visibleColumn.slice(0),tableColumn:E.tableColumn.slice(0)}),getData(t){const n=e.data||O.tableSynchData;return fp.isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{tableFullData:l,afterFullData:o,afterTreeFullData:r,tableFullTreeData:a,fullDataRowIdData:i,afterFullRowMaps:s}=O,c=Me.value,u=ae.value,{transform:d,mapChildrenField:p}=c,{checkField:f}=u,m=c.children||c.childrenField;let g=[];const h=t?d?a:l:d?r:o;if(f)g=n?fp.filterTree(h,(e=>fp.get(e,f)),{children:d?p:m}):h.filter((e=>fp.get(e,f)));else{const{selectCheckboxMaps:e}=E;fp.each(e,((e,n)=>{(t?i[n]:s[n])&&g.push(e)}))}return g},getParentRow(t){const{treeConfig:n}=e,{fullDataRowIdData:l}=O;if(t&&n){let e;if(e=fp.isString(t)?t:Cf(Ve,t),e){const t=l[e];return t?t.parent:null}}return null},getRowById(e){const{fullDataRowIdData:t}=O,n=fp.eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid:e=>Cf(Ve,e),getTableData(){const{tableData:t,footerTableData:n}=E,{tableFullData:l,afterFullData:o,tableFullTreeData:r}=O;return{fullData:e.treeConfig?r.slice(0):l.slice(0),visibleData:o.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},setColumnFixed(e,t){const n=Sf(Ve,e),l=Nf(Ve,n),o=Ne.value,r=ee.value,{maxFixedSize:a}=r;return l&&l.fixed!==t?!l.fixed&&o?(zm.modal&&zm.modal.message({status:"error",content:gp.i18n("vxe.table.maxFixedCol",[a])}),d()):(fp.eachTree([l],(e=>{e.fixed=t})),R.saveCustomFixed(),T.refreshColumn()):d()},clearColumnFixed(e){const t=Sf(Ve,e),n=Nf(Ve,t);return n&&n.fixed?(fp.eachTree([n],(e=>{e.fixed=null})),R.saveCustomFixed(),T.refreshColumn()):d()},hideColumn(e){const t=Sf(Ve,e);return t&&t.visible?(t.visible=!1,R.handleCustom()):d()},showColumn(e){const t=Sf(Ve,e);return t&&!t.visible?(t.visible=!0,R.handleCustom()):d()},setColumnWidth(e,t){const n=Sf(Ve,e);if(n){const e=fp.toInteger(t);let l=e;if(Qp(t)){const t=A.value,n=t?t.$el:null,o=n?n.clientWidth-1:0;l=Math.floor(e*o)}n.renderWidth=l}return d()},getColumnWidth(e){const t=Sf(Ve,e);return t?t.renderWidth:0},resetColumn(e){const{collectColumn:t}=O,n=$e.value,{checkMethod:l}=n,o=Object.assign({visible:!0,resizable:!0===e,fixed:!0===e,sort:!0===e},e);return fp.eachTree(t,(e=>{o.resizable&&(e.resizeWidth=0),o.fixed&&(e.fixed=e.defaultFixed),o.sort&&(e.renderSortNumber=e.sortNumber),l&&!l({column:e})||(e.visible=e.defaultVisible)})),o.resizable&&R.saveCustomResizable(!0),o.sort&&R.saveCustomSort(!0),o.fixed&&R.saveCustomFixed(),R.handleCustom()},refreshColumn(e){if(e){const e=fp.orderBy(O.collectColumn,"renderSortNumber");O.collectColumn=e;const t=yt(e);O.tableFullColumn=t,Ze()}return wt().then((()=>T.refreshScroll())).then((()=>T.recalculate()))},refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=O,n=A.value,l=P.value,o=V.value,r=_.value,a=n?n.$el:null,i=o?o.$el:null,s=r?r.$el:null,c=l?l.$el:null;return new Promise((n=>{if(e||t)return vf(Ve,e,t).then().then((()=>{setTimeout(n,30)}));af(a,t),af(i,t),af(s,t),sf(c,e),setTimeout(n,30)}))},recalculate:e=>(Qe(),!0===e?mt().then((()=>(Qe(),mt()))):mt()),openTooltip(e,t){const n=D.value;return n?n.open(e,t):d()},closeTooltip(){const{tooltipStore:e}=E,t=k.value,n=D.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1}),t&&t.close()),n&&n.close(),d()},isAllCheckboxChecked:()=>E.isAllSelected,isAllCheckboxIndeterminate:()=>!E.isAllSelected&&E.isIndeterminate,getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:l}=O,{treeIndeterminateMaps:o}=E;if(n){const e=[],n=[];return fp.each(o,((t,o)=>{t&&(e.push(t),l[o]&&n.push(t))})),t?e:n}return[]},setCheckboxRow:(e,t)=>st(e,t,!0),isCheckedByCheckboxRow(e){const{selectCheckboxMaps:t}=E,n=ae.value,{checkField:l}=n;return l?fp.get(e,l):!!t[Cf(Ve,e)]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateMaps:t}=E;return!!t[Cf(Ve,e)]&&!T.isCheckedByCheckboxRow(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:t}=E,n=ae.value,{checkField:l}=n,o=l?!fp.get(e,l):!t[Cf(Ve,e)];return R.handleSelectRow({row:e},o,!0),d()},setAllCheckboxRow:e=>ct(e,!0),getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:l,radioReserveRow:o,afterFullData:r}=O,a=re.value,i=Me.value,s=i.children||i.childrenField;if(a.reserve&&o){const e=Cf(Ve,o);if(t){if(!l[e])return o}else{const t=wf(Ve);if(n){if(fp.findTree(r,(n=>e===fp.get(n,t)),{children:s}))return o}else if(!r.some((n=>e===fp.get(n,t))))return o}}return null},clearRadioReserve:()=>(O.radioReserveRow=null,d()),getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:l,fullDataRowIdData:o,checkboxReserveRowMap:r}=O,a=ae.value,i=Me.value,s=i.children||i.childrenField,c=[];if(a.reserve){const e={};n?fp.eachTree(l,(t=>{e[Cf(Ve,t)]=1}),{children:s}):l.forEach((t=>{e[Cf(Ve,t)]=1})),fp.each(r,((n,l)=>{n&&(t?o[l]||c.push(n):e[l]||c.push(n))}))}return c},clearCheckboxReserve:()=>(O.checkboxReserveRowMap={},d()),toggleAllCheckboxRow:()=>(R.triggerCheckAllEvent(null,!E.isAllSelected),d()),clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:n}=O,l=Me.value,o=l.children||l.childrenField,r=ae.value,{checkField:a,reserve:i}=r,s=r.indeterminateField||r.halfField;if(a){const e=e=>{t&&s&&fp.set(e,s,!1),fp.set(e,a,!1)};t?fp.eachTree(n,e,{children:o}):n.forEach(e)}return i&&n.forEach((e=>at(e,!1))),E.isAllSelected=!1,E.isIndeterminate=!1,E.selectCheckboxMaps={},E.treeIndeterminateMaps={},d()},setCurrentRow(t){const n=te.value,l=M.value;return T.clearCurrentRow(),E.currentRow=t,(n.isCurrent||e.highlightCurrentRow)&&l&&fp.arrayEach(l.querySelectorAll(`[rowid="${Cf(Ve,t)}"]`),(e=>nf(e,"row--current"))),d()},isCheckedByRadioRow:e=>Ve.eqRow(E.selectRadioRow,e),setRadioRow:e=>it(e,!0),clearCurrentRow(){const e=M.value;return E.currentRow=null,O.hoverRow=null,e&&fp.arrayEach(e.querySelectorAll(".row--current"),(e=>tf(e,"row--current"))),d()},clearRadioRow:()=>(E.selectRadioRow=null,d()),getCurrentRecord:()=>te.value.isCurrent||e.highlightCurrentRow?E.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=O,{selectRadioRow:l}=E;if(l){const o=Cf(Ve,l);if(e){if(t[o])return l}else if(n[o])return l}return null},getCurrentColumn:()=>ee.value.isCurrent||e.highlightCurrentColumn?E.currentColumn:null,setCurrentColumn(e){const t=Sf(Ve,e);return t&&(T.clearCurrentColumn(),E.currentColumn=t),d()},clearCurrentColumn:()=>(E.currentColumn=null,d()),setPendingRow(e,t){const n=Object.assign({},E.pendingRowMaps),l=[...E.pendingRowList];return e&&!fp.isArray(e)&&(e=[e]),t?e.forEach((e=>{const t=Cf(Ve,e);t&&!n[t]&&(l.push(e),n[t]=e)})):e.forEach((e=>{const t=Cf(Ve,e);if(t&&n[t]){const o=Ve.findRowIndexOf(l,e);o>-1&&l.splice(o,1),delete n[t]}})),E.pendingRowMaps=n,E.pendingRowList=l,d()},togglePendingRow(e){const t=Object.assign({},E.pendingRowMaps),n=[...E.pendingRowList];return e&&!fp.isArray(e)&&(e=[e]),e.forEach((e=>{const l=Cf(Ve,e);if(l)if(t[l]){const o=Ve.findRowIndexOf(n,e);o>-1&&n.splice(o,1),delete t[l]}else n.push(e),t[l]=e})),E.pendingRowMaps=t,E.pendingRowList=n,d()},hasPendingByRow(e){const{pendingRowMaps:t}=E;return!!t[Cf(Ve,e)]},getPendingRecords(){const{pendingRowList:e}=E;return e.slice(0)},clearPendingRow:()=>(E.pendingRowMaps={},E.pendingRowList=[],d()),sort(e,t){const n=de.value,{multiple:l,remote:o,orders:r}=n;return e&&fp.isString(e)&&(e=[{field:e,order:t}]),fp.isArray(e)||(e=[e]),e.length?(l||Ge(),(l?e:[e[0]]).forEach(((e,t)=>{let{field:n,order:l}=e,o=n;fp.isString(n)&&(o=T.getColumnByField(n)),o&&o.sortable&&(-1===r.indexOf(l)&&(l=He(o)),o.order!==l&&(o.order=l),o.sortTime=Date.now()+t)})),o||R.handleTableData(!0),d().then((()=>(T.updateCellAreas(),lt())))):d()},clearSort(e){const t=de.value;if(e){const t=Sf(Ve,e);t&&(t.order=null)}else Ge();return t.remote||R.handleTableData(!0),d().then(lt)},isSort(e){if(e){const t=Sf(Ve,e);return!!t&&t.sortable&&!!t.order}return T.getSortColumns().length>0},getSortColumns(){const e=de.value,{multiple:t,chronological:n}=e,l=[],{tableFullColumn:o}=O;return o.forEach((e=>{const{field:t,order:n}=e;e.sortable&&n&&l.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})})),t&&n&&l.length>1?fp.orderBy(l,"sortTime"):l},closeFilter(){const{filterStore:e}=E,{column:t,visible:n}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),n&&Ve.dispatchEvent("filter-visible",{column:t,property:t.field,field:t.field,filterList:Ve.getCheckedFilters(),visible:!1},null),d()},isActiveFilterByColumn(e){const t=Sf(Ve,e);return t?t.filters&&t.filters.some((e=>e.checked)):Ve.getCheckedFilters().length>0},isFilter:e=>T.isActiveFilterByColumn(e),isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=O,n=t[Cf(Ve,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const{rowExpandLazyLoadedMaps:t}=E,{fullAllDataRowIdData:n}=O,l=Re.value,{lazy:o}=l,r=Cf(Ve,e),a=n[r];return o&&a&&(a.expandLoaded=!1,delete t[r]),d()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=E,n=Re.value,{lazy:l}=n,o=Cf(Ve,e);return l&&!t[o]&&T.clearRowExpandLoaded(e).then((()=>pt(e))),d()},reloadExpandContent:e=>T.reloadRowExpand(e),toggleRowExpand:e=>T.setRowExpand(e,!T.isRowExpandByRow(e)),setAllRowExpand(t){const n=Me.value,{tableFullData:l,tableFullTreeData:o}=O,r=n.children||n.childrenField;let a=[];return e.treeConfig?fp.eachTree(o,(e=>{a.push(e)}),{children:r}):a=l,T.setRowExpand(a,t)},setRowExpand(e,t){const{rowExpandedMaps:n,rowExpandLazyLoadedMaps:l,expandColumn:o}=E,{fullAllDataRowIdData:r}=O;let a=Object.assign({},n);const i=Re.value,{reserve:s,lazy:c,accordion:u,toggleMethod:d}=i,p=[],f=T.getColumnIndex(o),m=T.getVMColumnIndex(o);if(e){fp.isArray(e)||(e=[e]),u&&(a={},e=e.slice(e.length-1,e.length));const n=d?e.filter((e=>d({$table:Ve,expanded:t,column:o,columnIndex:f,$columnIndex:m,row:e,rowIndex:T.getRowIndex(e),$rowIndex:T.getVMRowIndex(e)}))):e;t?n.forEach((e=>{const t=Cf(Ve,e);if(!a[t]){const n=r[t];!c||n.expandLoaded||l[t]?a[t]=e:p.push(pt(e))}})):n.forEach((e=>{const t=Cf(Ve,e);a[t]&&delete a[t]})),s&&n.forEach((e=>ft(e,t)))}return E.rowExpandedMaps=a,Promise.all(p).then((()=>T.recalculate()))},isRowExpandByRow(e){const{rowExpandedMaps:t}=E;return!!t[Cf(Ve,e)]},isExpandByRow:e=>T.isRowExpandByRow(e),clearRowExpand(){const{tableFullData:e}=O,t=Re.value,{reserve:n}=t,l=T.getRowExpandRecords();return E.rowExpandedMaps={},n&&e.forEach((e=>ft(e,!1))),d().then((()=>{l.length&&T.recalculate()}))},clearRowExpandReserve:()=>(O.rowExpandedReserveRowMap={},d()),getRowExpandRecords(){const e=[];return fp.each(E.rowExpandedMaps,(t=>{t&&e.push(t)})),e},getTreeExpandRecords(){const e=[];return fp.each(E.treeExpandedMaps,(t=>{t&&e.push(t)})),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=O,n=t[Cf(Ve,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandedMaps:t}=E,{fullAllDataRowIdData:n}=O,l=Me.value,{transform:o,lazy:r}=l,a=Cf(Ve,e),i=n[a];return r&&i&&(i.treeLoaded=!1,t[a]&&delete t[a]),o?(nt(),R.handleTableData()):d()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=E,n=Me.value,l=n.hasChild||n.hasChildField,{transform:o,lazy:r}=n,a=Cf(Ve,e);return r&&e[l]&&!t[a]&&T.clearTreeExpandLoaded(e).then((()=>ut(e))).then((()=>{if(o)return nt(),R.handleTableData()})).then((()=>T.recalculate())),d()},reloadTreeChilds:e=>T.reloadTreeExpand(e),toggleTreeExpand:e=>T.setTreeExpand(e,!T.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=O,n=Me.value,{transform:l,lazy:o}=n,r=n.children||n.childrenField,a=[];return fp.eachTree(t,(e=>{const t=e[r];(o||t&&t.length)&&a.push(e)}),{children:r}),T.setTreeExpand(a,e).then((()=>{if(l)return nt(),T.recalculate()}))},setTreeExpand(e,t){const n=Me.value,{transform:l}=n;return e&&(fp.isArray(e)||(e=[e]),e.length)?l?((e,t)=>Et(e,t).then((()=>(nt(),R.handleTableData()))).then((()=>T.recalculate())))(e,t):Et(e,t):d()},isTreeExpandByRow(e){const{treeExpandedMaps:t}=E;return!!t[Cf(Ve,e)]},clearTreeExpand(){const{tableFullTreeData:e}=O,t=Me.value,n=t.children||t.childrenField,{transform:l,reserve:o}=t,r=T.getTreeExpandRecords();return E.treeExpandedMaps={},o&&fp.eachTree(e,(e=>dt(e,!1)),{children:n}),R.handleTableData().then((()=>{if(l)return nt(),R.handleTableData()})).then((()=>{if(r.length)return T.recalculate()}))},clearTreeExpandReserve:()=>(O.treeExpandedReserveRowMap={},d()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=E,n=A.value.$el;return{virtualX:e,virtualY:t,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}},scrollTo(e,t){const n=A.value,l=P.value,o=_.value,r=n?n.$el:null,a=o?o.$el:null,i=l?l.$el:null;return fp.isNumber(e)&&sf(i||r,e),fp.isNumber(t)&&af(a||r,t),E.scrollXLoad||E.scrollYLoad?new Promise((e=>{setTimeout((()=>{d((()=>{e()}))}),50)})):d()},scrollToRow(t,n){const l=[];return t&&(e.treeConfig?l.push(R.scrollToTreeRow(t)):l.push(Lf(Ve,t))),n&&l.push(T.scrollToColumn(n)),Promise.all(l)},scrollToColumn(e){const{fullColumnIdData:t}=O,n=Sf(Ve,e);return n&&t[n.id]?function(e,t){const{reactData:n,internalData:l}=e,{refTableBody:o}=e.getRefMaps(),{scrollXLoad:r}=n,{visibleColumn:a}=l,i=o.value,s=i?i.$el:null;if(s){const n=s.querySelector(`.${t.id}`);if(n){const t=s.clientWidth,l=s.scrollLeft,o=n.offsetParent,r=n.offsetLeft+(o?o.offsetLeft:0),a=n.clientWidth;if(r<l||r>l+t)return e.scrollTo(r);if(r+a>=t+l)return e.scrollTo(l+a)}else if(r){let n=0;for(let e=0;e<a.length&&a[e]!==t;e++)n+=a[e].renderWidth;return e.scrollTo(n)}}return Promise.resolve()}(Ve,n):d()},clearScroll(){const{scrollXStore:e,scrollYStore:t}=O,n=A.value,l=P.value,o=_.value,r=n?n.$el:null,a=o?o.$el:null,i=l?l.$el:null;return a&&(xf(a),a.scrollTop=0),i&&(i.scrollLeft=0),r&&(xf(r),r.scrollTop=0,r.scrollLeft=0),e.startIndex=0,t.startIndex=0,d()},updateFooter(){const{showFooter:t,footerData:n,footerMethod:l}=e,{visibleColumn:o,afterFullData:r}=O;let a=[];return t&&n&&n.length?a=n.slice(0):t&&l&&(a=o.length?l({columns:o,data:r,$table:Ve,$grid:X}):[]),E.footerTableData=a,d()},updateStatus(t,n){const l=!fp.isUndefined(n);return d().then((()=>{const{editRules:o}=e,{validStore:r}=E,a=A.value;if(t&&a&&o){const{row:e,column:o}=t,a="change";if(Ve.hasCellRules&&Ve.hasCellRules(a,e,o)){const t=R.getCell(e,o);if(t)return Ve.validCellRules(a,e,o,n).then((()=>{l&&r.visible&&kf(e,o,n),Ve.clearValidate(e,o)})).catch((({rule:r})=>{l&&kf(e,o,n),Ve.showValidTooltip({rule:r,row:e,column:o,cell:t})}))}}}))},setMergeCells:t=>(e.spanMethod&&Np("vxe.error.errConflicts",["merge-cells","span-method"]),Ue(t,E.mergeList,O.afterFullData),d().then((()=>(T.updateCellAreas(),lt())))),removeMergeCells(t){e.spanMethod&&Np("vxe.error.errConflicts",["merge-cells","span-method"]);const n=Xe(t,E.mergeList,O.afterFullData);return d().then((()=>(T.updateCellAreas(),lt(),n)))},getMergeCells:()=>E.mergeList.slice(0),clearMergeCells:()=>(E.mergeList=[],d().then((()=>lt()))),setMergeFooterItems:t=>(e.footerSpanMethod&&Np("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Ue(t,E.mergeFooterList),d().then((()=>(T.updateCellAreas(),lt())))),removeMergeFooterItems(t){e.footerSpanMethod&&Np("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const n=Xe(t,E.mergeFooterList);return d().then((()=>(T.updateCellAreas(),lt(),n)))},getMergeFooterItems:()=>E.mergeFooterList.slice(0),clearMergeFooterItems:()=>(E.mergeFooterList=[],d().then((()=>lt()))),updateCellAreas(){const{mouseConfig:t}=e,n=fe.value;return t&&n.area&&Ve.handleUpdateCellAreas?Ve.handleUpdateCellAreas():d()},focus:()=>(O.isActivated=!0,d()),blur:()=>(O.isActivated=!1,d()),connect:e=>(e?(G=e,G.syncUpdate({collectColumn:O.collectColumn,$table:Ve})):Np("vxe.error.barUnableLink"),d())};const Dt=t=>{const{editStore:n,ctxMenuStore:l,filterStore:o,customStore:r}=E,{mouseConfig:a,editRules:i}=e,s=M.value,c=ue.value,u=K.value,d=me.value,{actived:p}=n,f=I.value,m=F.value,g=N.value,h=$.value;if(m&&(uf(t,s,"vxe-cell--filter").flag||uf(t,m.$el).flag||uf(t,document.body,"vxe-table--ignore-clear").flag||R.preventEvent(t,"event.clearFilter",o.args,T.closeFilter)),g&&(r.btnEl===t.target||uf(t,document.body,"vxe-toolbar-custom-target").flag||uf(t,g.$el).flag||uf(t,document.body,"vxe-table--ignore-clear").flag||R.preventEvent(t,"event.clearCustom",{},(()=>{Ve.closeCustom&&Ve.closeCustom()}))),p.row){if(!1!==c.autoClear){const n=p.args.cell;n&&uf(t,n).flag||f&&uf(t,f.$el).flag||(!O._lastCallTime||O._lastCallTime+50<Date.now())&&(uf(t,document.body,"vxe-table--ignore-clear").flag||R.preventEvent(t,"event.clearEdit",p.args,(()=>{let n;if("row"===c.mode){const e=uf(t,s,"vxe-body--row"),l=e.flag?T.getRowNode(e.targetElem):null;n=!!l&&!Ve.eqRow(l.item,p.args.row)}else n=!uf(t,s,"col--edit").flag;if(n||(n=uf(t,s,"vxe-header--row").flag),n||(n=uf(t,s,"vxe-footer--row").flag),!n&&e.height&&!E.overflowY){const e=t.target;ef(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&uf(t,s).flag||setTimeout((()=>Ve.clearEdit(t)))})))}}else a&&(uf(t,s).flag||X&&uf(t,X.getRefMaps().refElem.value).flag||h&&uf(t,h.getRefMaps().refElem.value).flag||G&&uf(t,G.getRefMaps().refElem.value).flag||(Ve.clearSelected&&Ve.clearSelected(),d.autoClear&&Ve.clearCellAreas&&(uf(t,document.body,"vxe-table--ignore-areas-clear").flag||R.preventEvent(t,"event.clearAreas",{},(()=>{Ve.clearCellAreas(),Ve.clearCopyCellArea()})))));Ve.closeMenu&&l.visible&&h&&!uf(t,h.getRefMaps().refElem.value).flag&&Ve.closeMenu();const v=uf(t,X?X.getRefMaps().refElem.value:s).flag;!v&&i&&u.autoClear&&(E.validErrorMaps={}),O.isActivated=v},It=()=>{T.closeFilter(),Ve.closeMenu&&Ve.closeMenu()},$t=()=>{T.closeTooltip(),Ve.closeMenu&&Ve.closeMenu()},Ft=t=>{const{mouseConfig:n,keyboardConfig:l}=e,{filterStore:o,ctxMenuStore:r,editStore:a}=E,i=fe.value,s=ge.value,{actived:c}=a;hg(t,eg)&&R.preventEvent(t,"event.keydown",null,(()=>{if(T.dispatchEvent("keydown-start",{},t),l&&n&&i.area&&Ve.handleKeyboardEvent)Ve.handleKeyboardEvent(t);else if((c.row||o.visible||r.visible)&&(t.stopPropagation(),Ve.closeMenu&&Ve.closeMenu(),T.closeFilter(),l&&s.isEsc&&c.row)){const e=c.args;Ve.clearEdit(t),i.selected&&d((()=>Ve.handleSelected(e,t)))}T.dispatchEvent("keydown",{},t),T.dispatchEvent("keydown-end",{},t)}))},Nt=t=>{O.isActivated&&R.preventEvent(t,"event.keydown",null,(()=>{const{mouseConfig:n,keyboardConfig:l,treeConfig:o,editConfig:r,highlightCurrentRow:a}=e,{ctxMenuStore:i,editStore:s,currentRow:c}=E,u=Ce.value,p=ye.value,f=ge.value,m=fe.value,g=ue.value,h=Me.value,v=Se.value,b=te.value,{selected:x,actived:y}=s,w=h.children||h.childrenField,C=t.keyCode,S=hg(t,eg),M=hg(t,og),k=hg(t,ng),D=hg(t,tg),I=hg(t,rg),$=hg(t,cg),F=hg(t,ig),N=hg(t,ug),L=hg(t,sg),A=hg(t,lg),P=hg(t,Qm),j=hg(t,ag),V=t.metaKey,B=t.ctrlKey,H=t.shiftKey,_=t.altKey,z=$||F||N||L,W=u&&i.visible&&(D||I||z),q=jp(r)&&y.column&&y.row;let Y;if(W)t.preventDefault(),i.showChild&&_p(i.selected)?Ve.moveCtxMenu(t,i,"selectChild",$,!1,i.selected.children):Ve.moveCtxMenu(t,i,"selected",N,!0,v);else if(l&&n&&m.area&&Ve.handleKeyboardEvent)Ve.handleKeyboardEvent(t);else if(S){if(Ve.closeMenu&&Ve.closeMenu(),T.closeFilter(),l&&f.isEsc&&y.row){const e=y.args;Ve.clearEdit(t),m.selected&&d((()=>Ve.handleSelected(e,t)))}}else if(I&&l&&f.isChecked&&x.row&&x.column&&("checkbox"===x.column.type||"radio"===x.column.type))t.preventDefault(),"checkbox"===x.column.type?R.handleToggleCheckRowEvent(t,x.args):R.triggerRadioRowEvent(t,x.args);else if(P&&jp(r))q||x.row&&x.column&&(t.preventDefault(),Ve.handleActived(x.args,t));else if(j)O._keyCtx=x.row&&x.column&&p.length,clearTimeout(kt),kt=setTimeout((()=>{O._keyCtx=!1}),1e3);else if(D&&!_&&l&&f.isEnter&&(x.row||y.row||o&&(b.isCurrent||a)&&c)){if(B)y.row&&(Y=y.args,Ve.clearEdit(t),m.selected&&d((()=>Ve.handleSelected(Y,t))));else if(x.row||y.row){const e=x.row?x.args:y.args;H?f.enterToTab?Ve.moveTabSelected(e,H,t):Ve.moveSelected(e,$,!0,N,!1,t):f.enterToTab?Ve.moveTabSelected(e,H,t):Ve.moveSelected(e,$,!1,N,!0,t)}else if(o&&(b.isCurrent||a)&&c){const e=c[w];if(e&&e.length){t.preventDefault();const n=e[0];Y={$table:Ve,row:n,rowIndex:T.getRowIndex(n),$rowIndex:T.getVMRowIndex(n)},T.setTreeExpand(c,!0).then((()=>T.scrollToRow(n))).then((()=>R.triggerCurrentRowEvent(t,Y)))}}}else if(z&&l&&f.isArrow)q||(x.row&&x.column?Ve.moveSelected(x.args,$,F,N,L,t):(F||L)&&(b.isCurrent||a)&&Ve.moveCurrentRow(F,L,t));else if(k&&l&&f.isTab)x.row||x.column?Ve.moveTabSelected(x.args,H,t):(y.row||y.column)&&Ve.moveTabSelected(y.args,H,t);else if(l&&jp(r)&&(A||(o&&(b.isCurrent||a)&&c?M&&f.isArrow:M))){if(!q){const{delMethod:e,backMethod:n}=f;if(f.isDel&&(x.row||x.column)){const l={row:x.row,rowIndex:T.getRowIndex(x.row),column:x.column,columnIndex:T.getColumnIndex(x.column),$table:Ve};e?e(l):kf(x.row,x.column,null),M?n?n({row:x.row,rowIndex:T.getRowIndex(x.row),column:x.column,columnIndex:T.getColumnIndex(x.column),$table:Ve}):Ve.handleActived(x.args,t):A&&T.updateFooter(),Ve.dispatchEvent("cell-delete-value",l,t)}else if(M&&f.isArrow&&o&&(b.isCurrent||a)&&c){const{parent:e}=fp.findTree(O.afterFullData,(e=>e===c),{children:w});e&&(t.preventDefault(),Y={$table:Ve,row:e,rowIndex:T.getRowIndex(e),$rowIndex:T.getVMRowIndex(e)},T.setTreeExpand(e,!1).then((()=>T.scrollToRow(e))).then((()=>R.triggerCurrentRowEvent(t,Y))))}}}else if(l&&jp(r)&&f.isEdit&&!B&&!V&&(I||C>=48&&C<=57||C>=65&&C<=90||C>=96&&C<=111||C>=186&&C<=192||C>=219&&C<=222)){const{editMethod:e}=f;if(x.column&&x.row&&jp(x.column.editRender)){const n=g.beforeEditMethod||g.activeMethod;if(!n||n(Object.assign(Object.assign({},x.args),{$table:Ve,$grid:X}))){e?e({row:x.row,rowIndex:T.getRowIndex(x.row),column:x.column,columnIndex:T.getColumnIndex(x.column),$table:Ve,$grid:X}):(kf(x.row,x.column,null),Ve.handleActived(x.args,t));const n=g.afterEditMethod;n&&d((()=>{n({row:x.row,rowIndex:T.getRowIndex(x.row),column:x.column,columnIndex:T.getColumnIndex(x.column),$table:Ve,$grid:X})}))}}}T.dispatchEvent("keydown",{},t)}))},Lt=t=>{const{keyboardConfig:n,mouseConfig:l}=e,{editStore:o,filterStore:r}=E,{isActivated:a}=O,i=fe.value,s=ge.value,{actived:c}=o;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&l&&i.area&&Ve.handlePasteCellAreaEvent&&Ve.handlePasteCellAreaEvent(t),T.dispatchEvent("paste",{},t))},At=t=>{const{keyboardConfig:n,mouseConfig:l}=e,{editStore:o,filterStore:r}=E,{isActivated:a}=O,i=fe.value,s=ge.value,{actived:c}=o;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&l&&i.area&&Ve.handleCopyCellAreaEvent&&Ve.handleCopyCellAreaEvent(t),T.dispatchEvent("copy",{},t))},Pt=t=>{const{keyboardConfig:n,mouseConfig:l}=e,{editStore:o,filterStore:r}=E,{isActivated:a}=O,i=fe.value,s=ge.value,{actived:c}=o;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&l&&i.area&&Ve.handleCutCellAreaEvent&&Ve.handleCutCellAreaEvent(t),T.dispatchEvent("cut",{},t))},jt=()=>{Ve.closeMenu&&Ve.closeMenu(),T.updateCellAreas(),T.recalculate(!0)},Vt=e=>{const t=k.value;clearTimeout(O.tooltipTimeout),e?T.closeTooltip():t&&t.setActived(!0)},Bt=(e,t,n,l,o)=>{o.cell=t;const{tooltipStore:r}=E,a=ie.value,{column:i,row:s}=o,{showAll:c,contentMethod:u}=a,p=u?u(o):null,f=u&&!fp.eqNull(p),m=f?p:fp.toString("html"===i.type?n.innerText:n.textContent).trim(),g=n.scrollWidth>n.clientWidth;return m&&(c||f||g)&&(Object.assign(r,{row:s,column:i,visible:!0}),d((()=>{const e=k.value;e&&e.open(g?n:l||n,Wp(m))}))),d()};R={getSetupOptions:()=>gp,updateAfterDataIndex:tt,callSlot(e,t){if(e){if(X)return X.callSlot(e,t);if(fp.isFunction(e))return Pf(e(t))}return[]},getParentElem(){const e=M.value;if(X){const e=X.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=M.value;if(n){const e=n.parentNode,l="auto"===t?rf(e):0;return Math.floor(X?X.getParentHeight():fp.toNumber(getComputedStyle(e).height)-l)}return 0},getExcludeHeight:()=>X?X.getExcludeHeight():0,defineField(t){const{treeConfig:n}=e,l=Re.value,o=Me.value,r=re.value,a=ae.value,i=o.children||o.childrenField,s=wf(Ve);return fp.isArray(t)||(t=[t]),t.map((e=>(O.tableFullColumn.forEach((t=>{const{field:n,editRender:l}=t;if(n&&!fp.has(e,n)&&!e[n]){let o=null;if(l){const{defaultValue:e}=l;fp.isFunction(e)?o=e({column:t}):fp.isUndefined(e)||(o=e)}fp.set(e,n,o)}})),[r.labelField,a.checkField,a.labelField,l.labelField].forEach((t=>{t&&qp(fp.get(e,t))&&fp.set(e,t,null)})),n&&o.lazy&&fp.isUndefined(e[i])&&(e[i]=null),qp(fp.get(e,s))&&fp.set(e,s,yf()),e)))},handleTableData(t){const{scrollYLoad:n}=E,{scrollYStore:l,fullDataRowIdData:o}=O;let r=O.afterFullData;t&&((()=>{const{treeConfig:t}=e,{tableFullColumn:n,tableFullData:l,tableFullTreeData:o}=O,r=pe.value,a=de.value,i=Me.value,{transform:s}=i,{remote:c,filterMethod:u}=r,{remote:d,sortMethod:p,multiple:f,chronological:m}=a;let g=[],h=[];if(c&&d)t&&s?(h=fp.searchTree(o,(()=>!0),Object.assign(Object.assign({},i),{original:!0})),g=h):(g=t?o.slice(0):l.slice(0),h=g);else{const e=[];let r=[];if(n.forEach((t=>{const{field:n,sortable:l,order:o,filters:a}=t;if(!c&&a&&a.length){const n=[],l=[];a.forEach((e=>{e.checked&&(l.push(e),n.push(e.value))})),l.length&&e.push({column:t,valueList:n,itemList:l})}!d&&l&&o&&r.push({column:t,field:n,property:n,order:o,sortTime:t.sortTime})})),f&&m&&r.length>1&&(r=fp.orderBy(r,"sortTime")),!c&&e.length){const n=t=>e.every((({column:e,valueList:n,itemList:l})=>{const{filterMethod:o,filterRender:r}=e,a=r?zm.renderer.get(r.name):null,i=a?a.filterMethod:null,s=a?a.defaultFilterMethod:null,c=Mf(t,e);return o?l.some((n=>o({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Ve}))):i?l.some((n=>i({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Ve}))):u?u({options:l,values:n,cellValue:c,row:t,column:e}):s?l.some((n=>s({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Ve}))):n.indexOf(fp.get(t,e.field))>-1}));t&&s?(h=fp.searchTree(o,n,Object.assign(Object.assign({},i),{original:!0})),g=h):(g=t?o.filter(n):l.filter(n),h=g)}else t&&s?(h=fp.searchTree(o,(()=>!0),Object.assign(Object.assign({},i),{original:!0})),g=h):(g=t?o.slice(0):l.slice(0),h=g);if(!d&&r.length)if(t&&s){if(p){const e=p({data:h,sortList:r,$table:Ve});h=fp.isArray(e)?e:h}else h=fp.orderBy(h,r.map((({column:e,order:t})=>[et(e),t])));g=h}else{if(p){const e=p({data:g,sortList:r,$table:Ve});g=fp.isArray(e)?e:g}else g=fp.orderBy(g,r.map((({column:e,order:t})=>[et(e),t])));h=g}}O.afterFullData=g,O.afterTreeFullData=h,tt()})(),r=nt());const a=n?r.slice(l.startIndex,l.endIndex):r.slice(0);return a.forEach(((e,t)=>{const n=Cf(Ve,e),l=o[n];l&&(l.$index=t)})),E.tableData=a,d()},cacheRowMap(t){const{treeConfig:n}=e,l=Me.value;let{fullDataRowIdData:o,fullAllDataRowIdData:r,tableFullData:a,tableFullTreeData:i}=O;const s=l.children||l.childrenField,c=l.hasChild||l.hasChildField,u=wf(Ve),d=n&&l.lazy,p=(e,l,a,i,p,f)=>{let m=Cf(Ve,e);const g=n&&i?function(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")}(i):l+1,h=f?f.length-1:0;qp(m)&&(m=yf(),fp.set(e,u,m)),d&&e[c]&&fp.isUndefined(e[s])&&(e[s]=null);const v={row:e,rowid:m,seq:g,index:n&&p?-1:l,_index:-1,$index:-1,items:a,parent:p,level:h};t&&(o[m]=v),r[m]=v};t&&(o=O.fullDataRowIdData={}),r=O.fullAllDataRowIdData={},n?fp.eachTree(i,p,{children:s}):a.forEach(p)},cacheSourceMap(t){const{treeConfig:n}=e,l=Me.value;let{sourceDataRowIdData:o}=O;const r=fp.clone(t,!0),a=wf(Ve);o=O.sourceDataRowIdData={};const i=e=>{let t=Cf(Ve,e);qp(t)&&(t=yf(),fp.set(e,a,t)),o[t]=e};if(n){const e=l.children||l.childrenField;fp.eachTree(r,i,{children:l.transform?l.mapChildrenField:e})}else r.forEach(i);O.tableSourceData=r},analyColumnWidth(){const{tableFullColumn:e}=O,t=ee.value,{width:n,minWidth:l}=t,o=[],r=[],a=[],i=[],s=[],c=[];e.forEach((e=>{n&&!e.width&&(e.width=n),l&&!e.minWidth&&(e.minWidth=l),e.visible&&(e.resizeWidth?o.push(e):Jp(e.width)?r.push(e):Qp(e.width)?i.push(e):Jp(e.minWidth)?a.push(e):Qp(e.minWidth)?s.push(e):c.push(e))})),Object.assign(E.columnStore,{resizeList:o,pxList:r,pxMinList:a,scaleList:i,scaleMinList:s,autoList:c})},saveCustomResizable(t){const{id:n,customConfig:l}=e,o=$e.value,{collectColumn:r}=O,{storage:a}=o,i=!0===a,s=i?{}:Object.assign({},a||{}),c=i||s.resizable;if(l&&c){const e=_e(gh);let l;if(!n)return void Np("vxe.error.reqProp",["id"]);t||(l=fp.isPlainObject(e[n])?e[n]:{},fp.eachTree(r,(e=>{if(e.resizeWidth){const t=e.getKey();t&&(l[t]=e.renderWidth)}}))),e[n]=fp.isEmpty(l)?void 0:l,localStorage.setItem(gh,fp.toJSONString(e))}},saveCustomSort(t){const{id:n,customConfig:l}=e,o=$e.value,{collectColumn:r}=O,{storage:a}=o,i=!0===a,s=i?{}:Object.assign({},a||{}),c=i||s.sort;if(l&&c){const e=_e(bh);let l;if(!n)return void Np("vxe.error.reqProp",["id"]);t||(l=fp.isPlainObject(e[n])?e[n]:{},r.forEach((e=>{if(e.sortNumber!==e.renderSortNumber){const t=e.getKey();t&&(l[t]=e.renderSortNumber)}}))),e[n]=fp.isEmpty(l)?void 0:l,localStorage.setItem(bh,fp.toJSONString(e))}},saveCustomFixed(){const{id:t,customConfig:n}=e,{collectColumn:l}=O,o=$e.value,{storage:r}=o,a=!0===r,i=a?{}:Object.assign({},r||{}),s=a||i.fixed;if(n&&s){const e=_e(vh),n=[];if(!t)return void Np("vxe.error.reqProp",["id"]);fp.eachTree(l,(e=>{if(e.fixed&&e.fixed!==e.defaultFixed){const t=e.getKey();t&&n.push(`${t}|${e.fixed}`)}})),e[t]=n.join(",")||void 0,localStorage.setItem(vh,fp.toJSONString(e))}},saveCustomVisible(){const{id:t,customConfig:n}=e,{collectColumn:l}=O,o=$e.value,{checkMethod:r,storage:a}=o,i=!0===a,s=i?{}:Object.assign({},a||{}),c=i||s.visible;if(n&&c){const e=_e(hh),n=[],o=[];if(!t)return void Np("vxe.error.reqProp",["id"]);fp.eachTree(l,(e=>{if(!r||r({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&n.push(t)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&o.push(t)}})),e[t]=[n.join(",")].concat(o.length?[o.join(",")]:[]).join("|")||void 0,localStorage.setItem(hh,fp.toJSONString(e))}},handleCustom(){const{mouseConfig:t}=e;return t&&(Ve.clearSelected&&Ve.clearSelected(),Ve.clearCellAreas&&(Ve.clearCellAreas(),Ve.clearCopyCellArea())),R.saveCustomVisible(),R.saveCustomSort(),R.analyColumnWidth(),T.refreshColumn(!0)},handleUpdateDataQueue(){E.upDataFlag++},handleRefreshColumnQueue(){E.reColumnFlag++},preventEvent(e,t,n,l,o){let r,a=zm.interceptor.get(t);return a.length||"event.clearEdit"!==t||(a=zm.interceptor.get("event.clearActived")),a.some((t=>!1===t(Object.assign({$grid:X,$table:Ve,$event:e},n))))||l&&(r=l()),o&&o(),r},checkSelectionStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:n,treeIndeterminateMaps:l}=E,{afterFullData:o}=O,r=ae.value,{checkField:a,checkStrictly:i,checkMethod:s}=r,c=r.indeterminateField||r.halfField;if(!i){const e=[];let r=!1,i=!1,u=!1;a?(r=o.every(s?t=>s({row:t})?!!fp.get(t,a):(e.push(t),!0):e=>fp.get(e,a)),i=r&&o.length!==e.length,u=t?c?!i&&o.some((e=>fp.get(e,a)||fp.get(e,c)||!!l[Cf(Ve,e)])):!i&&o.some((e=>fp.get(e,a)||!!l[Cf(Ve,e)])):c?!i&&o.some((e=>fp.get(e,a)||fp.get(e,c))):!i&&o.some((e=>fp.get(e,a)))):(r=o.every(s?t=>s({row:t})?!!n[Cf(Ve,t)]:(e.push(t),!0):e=>n[Cf(Ve,e)]),i=r&&o.length!==e.length,u=t?!i&&o.some((e=>{const t=Cf(Ve,e);return l[t]||n[t]})):!i&&o.some((e=>n[Cf(Ve,e)]))),E.isAllSelected=i,E.isIndeterminate=u}},handleSelectRow({row:t},n,l){const{treeConfig:o}=e,{selectCheckboxMaps:r,treeIndeterminateMaps:a}=E,i=Object.assign({},r),{afterFullData:s}=O,c=Me.value,u=c.children||c.childrenField,d=ae.value,{checkField:p,checkStrictly:f,checkMethod:m}=d,g=d.indeterminateField||d.halfField,h=Cf(Ve,t);if(p)if(o&&!f){-1===n?(a[h]||(g&&fp.set(t,g,!0),a[h]=t),fp.set(t,p,!1)):fp.eachTree([t],(e=>{(Ve.eqRow(e,t)||l||!m||m({row:e}))&&(fp.set(e,p,n),g&&fp.set(t,g,!1),delete a[Cf(Ve,e)],at(t,n))}),{children:u});const e=fp.findTree(s,(e=>Ve.eqRow(e,t)),{children:u});if(e&&e.parent){let t;const o=[],r={};if(!l&&m?e.items.forEach((e=>{if(m({row:e})){const t=Cf(Ve,e);r[t]=e,o.push(e)}})):e.items.forEach((e=>{const t=Cf(Ve,e);r[t]=e,o.push(e)})),fp.find(e.items,(e=>!!a[Cf(Ve,e)])))t=-1;else{const l=[];e.items.forEach((e=>{fp.get(e,p)&&l.push(e)})),t=l.filter((e=>r[Cf(Ve,e)])).length===o.length||!(!l.length&&-1!==n)&&-1}return E.selectCheckboxMaps=i,R.handleSelectRow({row:e.parent},t,l)}}else(l||!m||m({row:t}))&&(fp.set(t,p,n),at(t,n));else if(o&&!f){-1===n?(a[h]||(g&&fp.set(t,g,!0),a[h]=t),i[h]&&delete i[h]):fp.eachTree([t],(e=>{const o=Cf(Ve,e);(Ve.eqRow(e,t)||l||!m||m({row:e}))&&(n?i[o]=e:i[o]&&delete i[o],g&&fp.set(t,g,!1),delete a[Cf(Ve,e)],at(t,n))}),{children:u});const e=fp.findTree(s,(e=>Ve.eqRow(e,t)),{children:u});if(e&&e.parent){let t;const o=[],r={};if(!l&&m?e.items.forEach((e=>{if(m({row:e})){const t=Cf(Ve,e);r[t]=e,o.push(e)}})):e.items.forEach((e=>{const t=Cf(Ve,e);r[t]=e,o.push(e)})),fp.find(e.items,(e=>!!a[Cf(Ve,e)])))t=-1;else{const l=[];e.items.forEach((e=>{const t=Cf(Ve,e);i[t]&&l.push(e)})),t=l.filter((e=>r[Cf(Ve,e)])).length===o.length||!(!l.length&&-1!==n)&&-1}return E.selectCheckboxMaps=i,R.handleSelectRow({row:e.parent},t,l)}}else(l||!m||m({row:t}))&&(n?i[h]||(i[h]=t):i[h]&&delete i[h],at(t,n));E.selectCheckboxMaps=i,R.checkSelectionStatus()},triggerHeaderTitleEvent(e,t,n){const l=t.content||t.message;if(l){const{tooltipStore:t}=E,{column:o}=n,r=zp(l);Vt(!0),t.row=null,t.column=o,t.visible=!0,d((()=>{const t=k.value;t&&t.open(e.currentTarget,r)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=E,{column:l}=t,o=e.currentTarget;Vt(!0),n.column===l&&n.visible||Bt(0,o,o,null,t)},triggerBodyTooltipEvent(t,n){const{editConfig:l}=e,{editStore:o}=E,{tooltipStore:r}=E,a=ue.value,{actived:i}=o,{row:s,column:c}=n,u=t.currentTarget;if(Vt(r.column!==c||r.row!==s),c.editRender&&jp(l)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){let e,t;c.treeNode?(e=u.querySelector(".vxe-tree-cell"),"html"===c.type&&(t=u.querySelector(".vxe-cell--html"))):t=u.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),Bt(0,u,e||u.children[0],t,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:l}=E,o=e.currentTarget;Vt(l.column!==n||!!l.row),l.column===n&&l.visible||Bt(0,o,o.querySelector(".vxe-cell--item")||o.children[0],null,t)},handleTargetLeaveEvent(){const e=ie.value;let t=k.value;t&&t.setActived(!1),e.enterable?O.tooltipTimeout=setTimeout((()=>{t=k.value,t&&!t.isActived()&&T.closeTooltip()}),e.leaveDelay):T.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:l}=O,o=de.value,r=ee.value,{column:a}=n,i=t.currentTarget,s=l&&l>Date.now()-300,c=uf(t,i,"vxe-cell--sort").flag,u=uf(t,i,"vxe-cell--filter").flag;"cell"!==o.trigger||s||c||u||R.triggerSortEvent(t,a,He(a)),T.dispatchEvent("header-cell-click",Object.assign({triggerResizable:s,triggerSort:c,triggerFilter:u,cell:i},n),t),(r.isCurrent||e.highlightCurrentColumn)&&T.setCurrentColumn(a)},triggerHeaderCellDblclickEvent(e,t){T.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{highlightCurrentRow:l,editConfig:o}=e,{editStore:r}=E,a=Re.value,i=ue.value,s=Me.value,c=re.value,u=ae.value,d=ge.value,p=te.value,{actived:f,focused:m}=r,{row:g,column:h}=n,{type:v,treeNode:b}=h,x="radio"===v,y="checkbox"===v,w="expand"===v,C=t.currentTarget,S=x&&uf(t,C,"vxe-cell--radio").flag,O=y&&uf(t,C,"vxe-cell--checkbox").flag,M=b&&uf(t,C,"vxe-tree--btn-wrapper").flag,k=w&&uf(t,C,"vxe-table--expanded").flag;n=Object.assign({cell:C,triggerRadio:S,triggerCheckbox:O,triggerTreeNode:M,triggerExpandNode:k},n),O||S||(!k&&("row"===a.trigger||w&&"cell"===a.trigger)&&R.triggerRowExpandEvent(t,n),("row"===s.trigger||b&&"cell"===s.trigger)&&R.triggerTreeExpandEvent(t,n)),M||(k||((p.isCurrent||l)&&(O||S||R.triggerCurrentRowEvent(t,n)),!S&&("row"===c.trigger||x&&"cell"===c.trigger)&&R.triggerRadioRowEvent(t,n),!O&&("row"===u.trigger||y&&"cell"===u.trigger)&&R.handleToggleCheckRowEvent(t,n)),jp(o)&&(d.arrowCursorLock&&t&&"cell"===i.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(m.column=h,m.row=g),"manual"===i.trigger?f.args&&f.row===g&&h!==f.column&&rt(t,n):f.args&&g===f.row&&h===f.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&f.row===g)&&rt(t,n))),T.dispatchEvent("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:l}=e,{editStore:o}=E,r=ue.value,{actived:a}=o,i=t.currentTarget;n=Object.assign({cell:i},n),jp(l)&&"dblclick"===r.trigger&&(a.args&&t.currentTarget===a.args.cell||("row"===r.mode?ot("blur").catch((e=>e)).then((()=>{Ve.handleActived(n,t).then((()=>ot("change"))).catch((e=>e))})):"cell"===r.mode&&Ve.handleActived(n,t).then((()=>ot("change"))).catch((e=>e)))),T.dispatchEvent("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=E,l=ae.value,{checkField:o}=l,{row:r}=t;let a=!1;a=o?!fp.get(r,o):!n[Cf(Ve,r)],e?R.triggerCheckRowEvent(e,t,a):R.handleSelectRow(t,a)},triggerCheckRowEvent(t,n,l){const o=ae.value,{row:r}=n,{afterFullData:a}=O,{checkMethod:i}=o;if(o.isShiftKey&&t.shiftKey&&!e.treeConfig){const e=T.getCheckboxRecords();if(e.length){const l=e[0],o=T.getVTRowIndex(r),i=T.getVTRowIndex(l);if(o!==i){T.setAllCheckboxRow(!1);const e=o<i?a.slice(o,i+1):a.slice(i,o+1);return st(e,!0,!1),void T.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:e},n),t)}}}i&&!i({row:r})||(R.handleSelectRow(n,l),T.dispatchEvent("checkbox-change",Object.assign({records:T.getCheckboxRecords(),reserves:T.getCheckboxReserveRecords(),indeterminates:T.getCheckboxIndeterminateRecords(),checked:l},n),t))},triggerCheckAllEvent(e,t){ct(t),e&&T.dispatchEvent("checkbox-all",{records:T.getCheckboxRecords(),reserves:T.getCheckboxReserveRecords(),indeterminates:T.getCheckboxIndeterminateRecords(),checked:t},e)},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=E,{row:l}=t,o=re.value;let r=l,a=n!==r;a?it(r):o.strict||(a=n===r,a&&(r=null,T.clearRadioRow())),a&&T.dispatchEvent("radio-change",Object.assign({oldValue:n,newValue:r},t),e)},triggerCurrentRowEvent(e,t){const{currentRow:n}=E,{row:l}=t,o=n!==l;T.setCurrentRow(l),o&&T.dispatchEvent("current-change",Object.assign({oldValue:n,newValue:l},t),e)},triggerRowExpandEvent(e,t){const{rowExpandLazyLoadedMaps:n,expandColumn:l}=E,o=Re.value,{row:r}=t,{lazy:a}=o,i=Cf(Ve,r);if(!a||!n[i]){const t=!T.isRowExpandByRow(r),n=T.getColumnIndex(l),o=T.getVMColumnIndex(l);T.setRowExpand(r,t),T.dispatchEvent("toggle-row-expand",{expanded:t,column:l,columnIndex:n,$columnIndex:o,row:r,rowIndex:T.getRowIndex(r),$rowIndex:T.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n}=E,l=Me.value,{row:o,column:r}=t,{lazy:a}=l,i=Cf(Ve,o);if(!a||!n[i]){const t=!T.isTreeExpandByRow(o),n=T.getColumnIndex(r),l=T.getVMColumnIndex(r);T.setTreeExpand(o,t),T.dispatchEvent("toggle-tree-expand",{expanded:t,column:r,columnIndex:n,$columnIndex:l,row:o},e)}},triggerSortEvent(t,n,l){const{mouseConfig:o}=e,r=de.value,a=fe.value,{field:i,sortable:s}=n;if(s){l&&n.order!==l?T.sort({field:i,order:l}):T.clearSort(r.multiple?n:null);const e={$table:Ve,$event:t,column:n,field:i,property:i,order:n.order,sortList:T.getSortColumns(),sortTime:n.sortTime};o&&a.area&&Ve.handleSortEvent&&Ve.handleSortEvent(t,e),T.dispatchEvent("sort-change",e,t)}},triggerScrollXEvent(){xt()},triggerScrollYEvent(e){const{scrollYStore:t}=O,{adaptive:n,offsetSize:l,visibleSize:o}=t;mh&&n&&2*l+o<=40?Ot(e):Mt(e)},scrollToTreeRow(t){const{treeConfig:n}=e,{tableFullData:l}=O,o=[];if(n){const e=Me.value,n=e.children||e.childrenField,r=fp.findTree(l,(e=>Ve.eqRow(e,t)),{children:n});if(r){const e=r.nodes;e.forEach(((t,n)=>{n<e.length-1&&!T.isTreeExpandByRow(t)&&o.push(T.setTreeExpand(t,!0))}))}}return Promise.all(o).then((()=>Lf(Ve,t)))},updateScrollYStatus:St,updateScrollXSpace(){const{isGroup:e,scrollXLoad:t,scrollbarWidth:n}=E,{visibleColumn:l,scrollXStore:o,elemStore:r,tableWidth:a}=O,i=L.value,s=A.value,c=P.value,u=s?s.$el:null;if(u){const s=i?i.$el:null,p=c?c.$el:null,f=s?s.querySelector(".vxe-table--header"):null,m=u.querySelector(".vxe-table--body"),g=p?p.querySelector(".vxe-table--footer"):null,h=l.slice(0,o.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";t&&(v=`${h}px`),f&&(f.style.marginLeft=e?"":v),m.style.marginLeft=v,g&&(g.style.marginLeft=v),["main"].forEach((e=>{["header","body","footer"].forEach((l=>{const o=r[`${e}-${l}-xSpace`],i=o?o.value:null;i&&(i.style.width=t?`${a+("header"===l?n:0)}px`:"")}))})),d(lt)}},updateScrollYSpace(){const{scrollYLoad:e}=E,{scrollYStore:t,elemStore:n,afterFullData:l}=O,{startIndex:o,rowHeight:r}=t,a=l.length*r,i=Math.max(0,o*r);let s="",c="";e&&(s=`${i}px`,c=`${a}px`),["main","left","right"].forEach((e=>{const t=n[`${e}-body-table`],l=t?t.value:null;l&&(l.style.marginTop=s),["header","body","footer"].forEach((t=>{const l=n[`${e}-${t}-ySpace`],o=l?l.value:null;o&&(o.style.height=c)}))})),d(lt)},updateScrollXData(){d((()=>{bt(),R.updateScrollXSpace()}))},updateScrollYData(){d((()=>{R.handleTableData(),R.updateScrollYSpace()}))},checkScrolling(){const e=W.value,t=q.value,n=A.value,l=n?n.$el:null;l&&(e&&(l.scrollLeft>0?nf(e,"scrolling--middle"):tf(e,"scrolling--middle")),t&&(l.clientWidth<l.scrollWidth-Math.ceil(l.scrollLeft)?nf(t,"scrolling--middle"):tf(t,"scrolling--middle")))},updateZindex(){e.zIndex?O.tZindex=e.zIndex:O.tZindex<Hp()&&(O.tZindex=Bp())},handleCheckedCheckboxRow:st,triggerHoverEvent(e,{row:t}){R.setHoverRow(t)},setHoverRow(e){const t=Cf(Ve,e),n=M.value;R.clearHoverRow(),n&&fp.arrayEach(n.querySelectorAll(`[rowid="${t}"]`),(e=>nf(e,"row--hover"))),O.hoverRow=e},clearHoverRow(){const e=M.value;e&&fp.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>tf(e,"row--hover"))),O.hoverRow=null},getCell(e,t){const n=Cf(Ve,e),l=A.value,o=V.value,r=_.value;let a;return t&&(t.fixed&&("left"===t.fixed?o&&(a=o.$el):r&&(a=r.$el)),a||(a=l.$el),a)?a.querySelector(`.vxe-body--row[rowid="${n}"] .${t.id}`):null},getCellLabel(e,t){const n=t.formatter,l=Mf(e,t);let o=l;if(n){let r;const{fullAllDataRowIdData:a}=O,i=Cf(Ve,e),s=t.id,c=a[i];if(c&&(r=c.formatData,r||(r=a[i].formatData={}),c&&r[s]&&r[s].value===l))return r[s].label;const u={cellValue:l,row:e,rowIndex:T.getRowIndex(e),column:t,columnIndex:T.getColumnIndex(t)};if(fp.isString(n)){const e=zm.formats.get(n);o=e&&e.cellFormatMethod?e.cellFormatMethod(u):""}else if(fp.isArray(n)){const e=zm.formats.get(n[0]);o=e&&e.cellFormatMethod?e.cellFormatMethod(u,...n.slice(1)):""}else o=n(u);r&&(r[s]={value:l,label:o})}return o},findRowIndexOf:(e,t)=>t?fp.findIndexOf(e,(e=>Ve.eqRow(e,t))):-1,eqRow:(e,t)=>!(!e||!t||e!==t&&Cf(Ve,e)!==Cf(Ve,t))},Object.assign(Ve,T,R);const Ht=t=>{const{showHeader:n,showFooter:l}=e,{tableData:o,tableColumn:r,tableGroupColumn:i,columnStore:s,footerTableData:c}=E,u="left"===t,d=u?s.leftList:s.rightList;return a("div",{ref:u?W:q,class:`vxe-table--fixed-${t}-wrapper`},[n?a(ch,{ref:u?j:H,fixedType:t,tableData:o,tableColumn:r,tableGroupColumn:i,fixedColumn:d}):f(),a(ih,{ref:u?V:_,fixedType:t,tableData:o,tableColumn:r,fixedColumn:d}),l?a(dh,{ref:u?B:z,footerTableData:c,tableColumn:r,fixedColumn:d,fixedType:t}):f()])},_t=()=>{const t=ke.value,l={$table:Ve};if(n.empty)return n.empty(l);{const e=t.name?zm.renderer.get(t.name):null,n=e?e.renderTableEmptyView||e.renderEmpty:null;if(n)return Pf(n(t,l))}return zp(e.emptyText)||gp.i18n("vxe.table.emptyText")};function zt(){const e=M.value;e&&e.clientWidth&&e.clientHeight&&T.recalculate()}const Wt=m(0);o((()=>e.data?e.data.length:-1),(()=>{Wt.value++})),o((()=>e.data),(()=>{Wt.value++})),o(Wt,(()=>{const{inited:t,initStatus:n}=O;gt(e.data||[]).then((()=>{O.inited=!0,O.initStatus=!0,n||ht(),t||vt(),T.recalculate()}))}));const qt=m(0);o((()=>E.staticColumns.length),(()=>{qt.value++})),o((()=>E.staticColumns),(()=>{qt.value++})),o(qt,(()=>{Ct(E.staticColumns)}));const Yt=m(0);o((()=>E.tableColumn.length),(()=>{Yt.value++})),o((()=>E.tableColumn),(()=>{Yt.value++})),o(Yt,(()=>{R.analyColumnWidth()})),o((()=>E.upDataFlag),(()=>{d((()=>{T.updateData()}))})),o((()=>E.reColumnFlag),(()=>{d((()=>{T.refreshColumn()}))})),o((()=>e.showHeader),(()=>{d((()=>{T.recalculate(!0).then((()=>T.refreshScroll()))}))})),o((()=>e.showFooter),(()=>{d((()=>{T.recalculate(!0).then((()=>T.refreshScroll()))}))}));const Ut=m(0);o((()=>e.footerData?e.footerData.length:-1),(()=>{Ut.value++})),o((()=>e.footerData),(()=>{Ut.value++})),o(Ut,(()=>{T.updateFooter()})),o((()=>e.height),(()=>{d((()=>T.recalculate(!0)))})),o((()=>e.maxHeight),(()=>{d((()=>T.recalculate(!0)))})),o((()=>e.syncResize),(e=>{e&&(zt(),d((()=>{zt(),setTimeout((()=>zt()))})))}));const Xt=m(0);o((()=>e.mergeCells?e.mergeCells.length:-1),(()=>{Xt.value++})),o((()=>e.mergeCells),(()=>{Xt.value++})),o(Xt,(()=>{T.clearMergeCells(),d((()=>{e.mergeCells&&T.setMergeCells(e.mergeCells)}))}));const Gt=m(0);let Kt;return o((()=>e.mergeFooterItems?e.mergeFooterItems.length:-1),(()=>{Gt.value++})),o((()=>e.mergeFooterItems),(()=>{Gt.value++})),o(Gt,(()=>{T.clearMergeFooterItems(),d((()=>{e.mergeFooterItems&&T.setMergeFooterItems(e.mergeFooterItems)}))})),zm.hooks.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(Ve);e&&fp.isObject(e)&&Object.assign(Ve,e)}})),R.preventEvent(null,"created",{$table:Ve}),C((()=>{T.recalculate().then((()=>T.refreshScroll())),R.preventEvent(null,"activated",{$table:Ve})})),S((()=>{O.isActivated=!1,R.preventEvent(null,"deactivated",{$table:Ve})})),v((()=>{d((()=>{const{data:t,treeConfig:n,showOverflow:l}=e,{scrollXStore:o,scrollYStore:r}=O,a=J.value;if(ue.value,Me.value,re.value,ae.value,Re.value,te.value,Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==a.adaptive}),Object.assign(o,{startIndex:0,endIndex:0,visibleSize:0}),gt(t||[]).then((()=>{t&&t.length&&(O.inited=!0,O.initStatus=!0,ht(),vt()),lt()})),e.autoResize){const t=ne.value,{refreshDelay:n}=t,l=M.value,o=R.getParentElem(),r=n?fp.throttle((()=>T.recalculate(!0)),n,{leading:!0,trailing:!0}):null;Kt=oh(r?()=>{e.autoResize&&requestAnimationFrame(r)}:()=>{e.autoResize&&T.recalculate(!0)}),l&&Kt.observe(l),o&&Kt.observe(o)}})),bg.on(Ve,"paste",Lt),bg.on(Ve,"copy",At),bg.on(Ve,"cut",Pt),bg.on(Ve,"mousedown",Dt),bg.on(Ve,"blur",It),bg.on(Ve,"mousewheel",$t),bg.on(Ve,"keydown",Nt),bg.on(Ve,"resize",jt),Ve.handleGlobalContextmenuEvent&&bg.on(Ve,"contextmenu",Ve.handleGlobalContextmenuEvent),R.preventEvent(null,"mounted",{$table:Ve})})),x((()=>{Kt&&Kt.disconnect(),T.closeFilter(),Ve.closeMenu&&Ve.closeMenu(),R.preventEvent(null,"beforeUnmount",{$table:Ve})})),b((()=>{bg.off(Ve,"paste"),bg.off(Ve,"copy"),bg.off(Ve,"cut"),bg.off(Ve,"mousedown"),bg.off(Ve,"blur"),bg.off(Ve,"mousewheel"),bg.off(Ve,"keydown"),bg.off(Ve,"resize"),bg.off(Ve,"contextmenu"),R.preventEvent(null,"unmounted",{$table:Ve})})),Ve.renderVN=()=>{const{loading:t,stripe:l,showHeader:o,height:r,treeConfig:c,mouseConfig:u,showFooter:d,highlightCell:m,highlightHoverRow:h,highlightHoverColumn:v,editConfig:b,editRules:x}=e,{isGroup:y,overflowX:w,overflowY:C,scrollXLoad:S,scrollYLoad:O,scrollbarHeight:T,tableData:R,tableColumn:j,tableGroupColumn:V,footerTableData:B,initStore:H,columnStore:_,filterStore:z,customStore:W}=E,{leftList:q,rightList:G}=_,Z=n.loading,J=se.value,Q=K.value,ne=Me.value,le=te.value,oe=ee.value,re=g.value,ae=Le.value,ie=fe.value,ue=ce.value,de=De.value,pe=Ce.value;return a("div",{ref:M,class:["vxe-table","vxe-table--render-default",`tid_${p}`,`border--${ae}`,{[`size--${re}`]:re,[`valid-msg--${Q.msgMode}`]:!!x,"vxe-editable":!!b,"old-cell-valid":x&&"obsolete"===gp.cellVaildMode,"cell--highlight":m,"cell--selected":u&&ie.selected,"cell--area":u&&ie.area,"row--highlight":le.isHover||h,"column--highlight":oe.isHover||v,"is--header":o,"is--footer":d,"is--group":y,"is--tree-line":c&&(ne.showLine||ne.line),"is--fixed-left":q.length,"is--fixed-right":G.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!c&&l,"is--loading":t,"is--empty":!t&&!R.length,"is--scroll-y":C,"is--scroll-x":w,"is--virtual-x":S,"is--virtual-y":O}],onKeydown:Ft},[a("div",{class:"vxe-table-slots"},n.default?n.default({}):[]),a("div",{class:"vxe-table--render-wrapper"},[a("div",{class:"vxe-table--main-wrapper"},[o?a(ch,{ref:L,tableData:R,tableColumn:j,tableGroupColumn:V}):f(),a(ih,{ref:A,tableData:R,tableColumn:j}),d?a(dh,{ref:P,footerTableData:B,tableColumn:j}):f()]),a("div",{class:"vxe-table--fixed-wrapper"},[q&&q.length&&w?Ht("left"):f(),G&&G.length&&w?Ht("right"):f()])]),a("div",{ref:U,class:"vxe-table--empty-placeholder"},[a("div",{class:"vxe-table--empty-content"},_t())]),a("div",{class:"vxe-table--border-line"}),a("div",{ref:Y,class:"vxe-table--resizable-bar",style:w?{"padding-bottom":`${T}px`}:null}),a(Eg,{class:"vxe-table--loading",modelValue:t,icon:de.icon,text:de.text},Z?{default:()=>Z({$table:Ve,$grid:X})}:{}),H.custom?a(i("vxe-table-custom-panel"),{ref:N,customStore:W}):f(),H.filter?a(i("vxe-table-filter-panel"),{ref:F,filterStore:z}):f(),H.import&&e.importConfig?a(i("vxe-table-import-panel"),{defaultOptions:E.importParams,storeData:E.importStore}):f(),H.export&&(e.exportConfig||e.printConfig)?a(i("vxe-table-export-panel"),{defaultOptions:E.exportParams,storeData:E.exportStore}):f(),pe?a(i("vxe-table-menu-panel"),{ref:$}):f(),s?a(i("vxe-tooltip"),{ref:D,isArrow:!1,enterable:!1}):f(),s?a(i("vxe-tooltip"),Object.assign({ref:k},J)):f(),s&&e.editRules&&Q.showMessage&&("default"===Q.message?!r:"tooltip"===Q.message)?a(i("vxe-tooltip"),Object.assign({ref:I,class:[{"old-cell-valid":x&&"obsolete"===gp.cellVaildMode},"vxe-table--valid-error"]},"tooltip"===Q.message||1===R.length?ue:{})):f()])},h("xecolgroup",null),h("$xetable",Ve),Ve},render(){return this.renderVN()}}),yh=e("e",Object.assign(xh,{install:function(e){e.component(xh.name,xh)}}));Km.component(xh.name,xh);const wh=e("h",Object.assign(Lg,{install:function(e){e.component(Lg.name,Lg)}}));Km.component(Lg.name,Lg);const Ch=s({name:"VxePager",props:{size:{type:String,default:()=>gp.pager.size||gp.size},layouts:{type:Array,default:()=>gp.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>gp.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>gp.pager.pagerCount||7},pageSizes:{type:Array,default:()=>gp.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>gp.pager.align},border:{type:Boolean,default:()=>gp.pager.border},background:{type:Boolean,default:()=>gp.pager.background},perfect:{type:Boolean,default:()=>gp.pager.perfect},autoHidden:{type:Boolean,default:()=>gp.pager.autoHidden},transfer:{type:Boolean,default:()=>gp.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),p=c("$xegrid",null),f=r({inpCurrPage:e.currentPage}),g=m(),h={refElem:g},v={xID:i,props:e,context:t,getRefMaps:()=>h};let b={},x={};const y=(e,t)=>Math.max(Math.ceil(e/t),1),w=u((()=>y(e.total,e.pageSize))),C=(t,n)=>{l("update:currentPage",n),t&&n!==e.currentPage&&b.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},S=(t,n)=>{l("update:currentPage",t),n&&t!==e.currentPage&&b.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},E=e=>{const t=e.target,n=fp.toInteger(t.value),l=w.value,o=n<=0?1:n>=l?l:n,r=fp.toValueString(o);t.value=r,f.inpCurrPage=r,S(o,e)},O=u((()=>{const{pagerCount:t}=e,n=w.value>t?t-2:t,l=[];for(let e=0;e<n;e++)l.push(e);return l})),T=u((()=>Math.floor((e.pagerCount-2)/2))),R=u((()=>e.pageSizes.map((e=>fp.isNumber(e)?{value:e,label:`${gp.i18n("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))))),M=t=>{const{currentPage:n}=e;n>1&&S(1,t)},k=t=>{const{currentPage:n}=e,l=w.value;n<l&&S(l,t)},D=t=>{const{currentPage:n}=e,l=w.value;n>1&&S(Math.min(l,Math.max(n-1,1)),t)},I=t=>{const{currentPage:n}=e,l=w.value;n<l&&S(Math.min(l,n+1),t)},$=t=>{const n=O.value;S(Math.max(e.currentPage-n.length,1),t)},F=t=>{const n=w.value,l=O.value;S(Math.min(e.currentPage+l.length,n),t)},N=t=>{const{value:n}=t,o=fp.toNumber(n),r=y(e.total,o);let a=e.currentPage;a>r&&(a=r,l("update:currentPage",r)),l("update:pageSize",o),b.dispatchEvent("page-change",{type:"size",pageSize:o,currentPage:a})},L=e=>{const t=e.target;f.inpCurrPage=t.value},A=e=>{hg(e,tg)?E(e):hg(e,ig)?(e.preventDefault(),I(e)):hg(e,sg)&&(e.preventDefault(),D(e))},P=()=>a("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:gp.i18n("vxe.pager.homePageTitle"),onClick:M},[a("i",{class:["vxe-pager--btn-icon",e.iconHomePage||gp.icon.PAGER_HOME]})]),j=()=>a("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:gp.i18n("vxe.pager.prevPageTitle"),onClick:D},[a("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||gp.icon.PAGER_PREV_PAGE]})]),V=t=>a(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":e.currentPage<=1}],type:"button",title:gp.i18n("vxe.pager.prevJumpTitle"),onClick:$},[t?a("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||gp.icon.PAGER_JUMP_MORE]}):null,a("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||gp.icon.PAGER_JUMP_PREV]})]),B=t=>{const n=w.value;return a(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":e.currentPage>=n}],type:"button",title:gp.i18n("vxe.pager.nextJumpTitle"),onClick:F},[t?a("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||gp.icon.PAGER_JUMP_MORE]}):null,a("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||gp.icon.PAGER_JUMP_NEXT]})])},H=()=>{const t=w.value;return a("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=t}],type:"button",title:gp.i18n("vxe.pager.nextPageTitle"),onClick:I},[a("i",{class:["vxe-pager--btn-icon",e.iconNextPage||gp.icon.PAGER_NEXT_PAGE]})])},_=()=>{const t=w.value;return a("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage>=t}],type:"button",title:gp.i18n("vxe.pager.endPageTitle"),onClick:k},[a("i",{class:["vxe-pager--btn-icon",e.iconEndPage||gp.icon.PAGER_END]})])},z=t=>{const{currentPage:n,pagerCount:l}=e,o=[],r=w.value,i=O.value,s=T.value,c=r>l,u=c&&n>s+1,d=c&&n<r-s;let p=1;return c&&(p=n>=r-s?Math.max(r-i.length+1,1):Math.max(n-s,1)),t&&u&&o.push(a("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,1)},1),V("span")),i.forEach(((e,t)=>{const l=p+t;l<=r&&o.push(a("button",{key:l,class:["vxe-pager--num-btn",{"is--active":n===l}],type:"button",onClick:e=>C(e,l)},l))})),t&&d&&o.push(B("button"),a("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,r)},r)),a("span",{class:"vxe-pager--btn-wrapper"},o)},W=()=>z(!0),q=()=>{const t=R.value;return a(wh,{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:t,onChange:N})},Y=e=>a("span",{class:"vxe-pager--jump"},[e?a("span",{class:"vxe-pager--goto-text"},gp.i18n("vxe.pager.goto")):null,a("input",{class:"vxe-pager--goto",value:f.inpCurrPage,type:"text",autocomplete:"off",onInput:L,onKeydown:A,onBlur:E}),e?a("span",{class:"vxe-pager--classifier-text"},gp.i18n("vxe.pager.pageClassifier")):null]),U=()=>Y(!0),X=()=>{const e=w.value;return a("span",{class:"vxe-pager--count"},[a("span",{class:"vxe-pager--separator"}),a("span",e)])},G=()=>a("span",{class:"vxe-pager--total"},gp.i18n("vxe.pager.total",[e.total]));return b={dispatchEvent(e,t,n){l(e,Object.assign({$pager:v,$event:n},t))},homePage:()=>(M(),d()),endPage:()=>(k(),d()),prevPage:()=>(D(),d()),nextPage:()=>(I(),d()),prevJump:()=>($(),d()),nextJump:()=>(F(),d())},x={handlePrevPage:D,handleNextPage:I,handlePrevJump:$,handleNextJump:F},Object.assign(v,b,x),o((()=>e.currentPage),(e=>{f.inpCurrPage=e})),v.renderVN=()=>{const{align:t,layouts:l,className:o}=e,r=[],i=s.value,c=w.value;return n.left&&r.push(a("span",{class:"vxe-pager--left-wrapper"},n.left({$grid:p}))),l.forEach((e=>{let t;switch(e){case"Home":t=P;break;case"PrevJump":t=V;break;case"PrevPage":t=j;break;case"Number":t=z;break;case"JumpNumber":t=W;break;case"NextPage":t=H;break;case"NextJump":t=B;break;case"End":t=_;break;case"Sizes":t=q;break;case"FullJump":t=U;break;case"Jump":t=Y;break;case"PageCount":t=X;break;case"Total":t=G}t&&r.push(t())})),n.right&&r.push(a("span",{class:"vxe-pager--right-wrapper"},n.right({$grid:p}))),a("div",{ref:g,class:["vxe-pager",o?fp.isFunction(o)?o({$pager:v}):o:"",{[`size--${i}`]:i,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===c,"is--loading":e.loading}]},[a("div",{class:"vxe-pager--wrapper"},r)])},v},render(){return this.renderVN()}}),Sh=e("f",Object.assign(Ch,{install:function(e){e.component(Ch.name,Ch)}}));Km.component(Ch.name,Ch);const Eh=e("g",Object.assign(Cg,{install(e){e.component(Cg.name,Cg)}}));Km.component(Cg.name,Cg);const Oh=s({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>gp.toolbar.buttons},tools:{type:Array,default:()=>gp.toolbar.tools},perfect:{type:Boolean,default:()=>gp.toolbar.perfect},size:{type:String,default:()=>gp.toolbar.size||gp.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:n,emit:l}=t,o=fp.uniqueId(),i=wg(e),s=r({isRefresh:!1,columns:[]}),p=m(),g={refElem:p},h={xID:o,props:e,context:t,reactData:s,getRefMaps:()=>g};let v={};const b=c("$xegrid",null);let x;const y=m(0),w=u((()=>Object.assign({},gp.toolbar.refresh,e.refresh))),C=u((()=>Object.assign({},gp.toolbar.import,e.import))),S=u((()=>Object.assign({},gp.toolbar.export,e.export))),E=u((()=>Object.assign({},gp.toolbar.print,e.print))),O=u((()=>Object.assign({},gp.toolbar.zoom,e.zoom))),T=u((()=>Object.assign({},gp.toolbar.custom,e.custom))),R=u((()=>{if((y.value||x)&&x){const{computeCustomOpts:e}=x.getComputeMaps();return e.value}return{}})),M=u((()=>R.value.trigger)),k=()=>{if(x)return!0;Np("vxe.error.barUnableLink")},D=({$event:e})=>{x&&(x.triggerCustomEvent?x.triggerCustomEvent(e):Np("vxe.error.reqModule",["VxeTableCustomModule"]))},I=({$event:e})=>{x?x.customOpenEvent(e):Np("vxe.error.reqModule",["VxeTableCustomModule"])},$=({$event:e})=>{const{customStore:t}=x.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||x.customColseEvent(e)}),350)},F=e=>{const{isRefresh:t}=s,n=w.value;if(!t){const t=n.queryMethod||n.query;if(t){s.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{s.isRefresh=!1}))}catch(l){s.isRefresh=!1}}else b&&(s.isRefresh=!0,b.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch((e=>e)).then((()=>{s.isRefresh=!1})))}},N=e=>{b&&b.triggerZoomEvent(e)},L=(e,t)=>{const{code:n}=t;if(n)if(b)b.triggerToolbarBtnEvent(t,e);else{const l=zm.commands.get(n),o={code:n,button:t,$table:x,$grid:b,$event:e};l&&l.commandMethod&&l.commandMethod(o),h.dispatchEvent("button-click",o,e)}},A=(e,t)=>{const{code:n}=t;if(n)if(b)b.triggerToolbarTolEvent(t,e);else{const l=zm.commands.get(n),o={code:n,tool:t,$table:x,$grid:b,$event:e};l&&l.commandMethod&&l.commandMethod(o),h.dispatchEvent("tool-click",o,e)}},P=()=>{k()&&x.openImport()},j=()=>{k()&&x.openExport()},V=()=>{k()&&x.openPrint()},B=(e,t)=>{const{dropdowns:n}=e;return n?n.map(((e,n)=>!1===e.visible?f():a(Eh,{key:n,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,onClick:n=>t?L(n,e):A(n,e)}))):[]},H=()=>{const{buttons:t}=e,l=n.buttons;if(l)return Pf(l({$grid:b,$table:x}));const o=[];return t&&t.forEach((e=>{const{dropdowns:t,buttonRender:n}=e;if(!1!==e.visible){const l=n?zm.renderer.get(n.name):null;if(n&&l&&l.renderToolbarButton){const t=l.toolbarButtonClassName,r={$grid:b,$table:x,button:e};o.push(a("span",{class:["vxe-button--item",t?fp.isFunction(t)?t(r):t:""]},Pf(l.renderToolbarButton(n,r))))}else o.push(a(Eh,{disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>L(t,e)},t&&t.length?{dropdowns:()=>B(e,!0)}:{}))}})),o},_=()=>{const{tools:t}=e,l=n.tools;if(l)return Pf(l({$grid:b,$table:x}));const o=[];return t&&t.forEach(((e,t)=>{const{dropdowns:n,toolRender:l}=e;if(!1!==e.visible){const r=l?l.name:null,i=l?zm.renderer.get(r):null;if(l&&i&&i.renderToolbarTool){const t=i.toolbarToolClassName,n={$grid:b,$table:x,tool:e};o.push(a("span",{key:r,class:["vxe-tool--item",t?fp.isFunction(t)?t(n):t:""]},Pf(i.renderToolbarTool(l,n))))}else o.push(a(Eh,{key:t,disabled:e.disabled,loading:e.loading,type:e.type,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>A(t,e)},n&&n.length?{dropdowns:()=>B(e,!1)}:{}))}})),o},z=()=>{const e=C.value;return a(Eh,{key:"import",circle:!0,icon:e.icon||gp.icon.TOOLBAR_TOOLS_IMPORT,title:gp.i18n("vxe.toolbar.import"),onClick:P})},W=()=>{const e=S.value;return a(Eh,{key:"export",circle:!0,icon:e.icon||gp.icon.TOOLBAR_TOOLS_EXPORT,title:gp.i18n("vxe.toolbar.export"),onClick:j})},q=()=>{const e=E.value;return a(Eh,{key:"print",circle:!0,icon:e.icon||gp.icon.TOOLBAR_TOOLS_PRINT,title:gp.i18n("vxe.toolbar.print"),onClick:V})},Y=()=>{const e=w.value;return a(Eh,{key:"refresh",circle:!0,icon:s.isRefresh?e.iconLoading||gp.icon.TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||gp.icon.TOOLBAR_TOOLS_REFRESH,title:gp.i18n("vxe.toolbar.refresh"),onClick:F})},U=()=>{const e=O.value;return b?a(Eh,{key:"zoom",circle:!0,icon:b.isMaximized()?e.iconOut||gp.icon.TOOLBAR_TOOLS_MINIMIZE:e.iconIn||gp.icon.TOOLBAR_TOOLS_FULLSCREEN,title:gp.i18n("vxe.toolbar.zoom"+(b.isMaximized()?"Out":"In")),onClick:N}):f()},X=()=>{const e=T.value,t=M.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=I,n.onMouseleave=$):n.onClick=D),a(Eh,Object.assign({key:"custom",circle:!0,icon:e.icon||gp.icon.TOOLBAR_TOOLS_CUSTOM,title:gp.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n))};return v={dispatchEvent(e,t,n){l(e,Object.assign({$toolbar:h,$event:n},t))},syncUpdate(e){const{collectColumn:t}=e;x=e.$table,s.columns=t,y.value++}},Object.assign(h,v),d((()=>{const{refresh:t}=e,n=w.value,l=n.queryMethod||n.query;!t||b||l||Fp("vxe.error.notFunc",["queryMethod"]),T.value})),h.renderVN=()=>{const{perfect:t,loading:n,refresh:l,zoom:o,custom:r,className:s}=e,c=i.value;return a("div",{ref:p,class:["vxe-toolbar",s?fp.isFunction(s)?s({$toolbar:h}):s:"",{[`size--${c}`]:c,"is--perfect":t,"is--loading":n}]},[a("div",{class:"vxe-buttons--wrapper"},H()),a("div",{class:"vxe-tools--wrapper"},_()),a("div",{class:"vxe-tools--operate"},[e.import?z():f(),e.export?W():f(),e.print?q():f(),l?Y():f(),o&&b?U():f(),r?X():f()])])},h},render(){return this.renderVN()}}),Th=e("c",Object.assign(Oh,{install:function(e){e.component(Oh.name,Oh)}}));Km.component(Oh.name,Oh);class Rh{constructor(e,t){Object.assign(this,{id:fp.uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:t.itemRender,rules:t.rules,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Mh(e,t){return t instanceof Rh?t:new Rh(e,t)}function kh(e,t){return t?fp.isString(t)?e.getItemByField(t):t:null}function Dh(e,t){let{visibleMethod:n,itemRender:l,visible:o,field:r}=t;if(!1===o)return o;const a=jp(l)?zm.renderer.get(l.name):null;if(!n&&a&&a.itemVisibleMethod&&(n=a.itemVisibleMethod),!n)return!0;const{data:i}=e.props;return n({data:i,field:r,property:r,item:t,$form:e,$grid:e.xegrid})}function Ih(e,t){Object.keys(e).forEach((n=>{o((()=>e[n]),(e=>{t.update(n,e)}))}))}function $h(e,t,n,l){const{reactData:o}=e,{staticItems:r}=o,a=t.parentNode,i=l?l.formItem:null,s=i?i.children:r;a&&(s.splice(fp.arrayIndexOf(a.children,t),0,n),o.staticItems=r.slice(0))}function Fh(e,t){const{reactData:n}=e,{staticItems:l}=n,o=fp.findIndexOf(l,(e=>e.id===t.id));o>-1&&l.splice(o,1),n.staticItems=l.slice(0)}const Nh=Object.assign(Hg,{install:function(e){zm.tooltip=!0,e.component(Hg.name,Hg)}});function Lh(e){return a("span",{class:"vxe-form--item-title-prefix"},[a("i",{class:e.icon||gp.icon.FORM_PREFIX})])}function Ah(e){return a("span",{class:"vxe-form--item-title-suffix"},[a("i",{class:e.icon||gp.icon.FORM_SUFFIX})])}function Ph(e,t){const{data:n}=e.props,{computeTooltipOpts:l}=e.getComputeMaps(),{slots:o,field:r,itemRender:i,titlePrefix:s,titleSuffix:c}=t,u=l.value,d=jp(i)?zm.renderer.get(i.name):null,p={data:n,field:r,property:r,item:t,$form:e,$grid:e.xegrid},f=o?o.title:null,m=[],g=[];s&&g.push(s.content||s.message?a(Nh,Object.assign(Object.assign(Object.assign({},u),s),{content:zp(s.content||s.message)}),{default:()=>Lh(s)}):Lh(s)),g.push(a("span",{class:"vxe-form--item-title-label"},d&&d.renderItemTitle?Pf(d.renderItemTitle(i,p)):f?e.callSlot(f,p):zp(t.title))),m.push(a("div",{class:"vxe-form--item-title-content"},g));const h=[];return c&&h.push(c.content||c.message?a(Nh,Object.assign(Object.assign(Object.assign({},u),c),{content:zp(c.content||c.message)}),{default:()=>Ah(c)}):Ah(c)),m.push(a("div",{class:"vxe-form--item-title-postfix"},h)),m}Km.component(Hg.name,Hg);const jh=s({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=c("$xeform",{}),n={itemConfig:e.itemConfig};h("$xeformiteminfo",n),h("$xeformgather",null);const l={renderVN:()=>{const{reactData:n}=t,{data:l,rules:o,span:r,align:i,titleAlign:s,titleWidth:c,titleColon:u,titleAsterisk:d,titleOverflow:p,vertical:m}=t.props,{computeValidOpts:g}=t.getComputeMaps(),h=e.itemConfig,{collapseAll:v}=n,b=g.value,{slots:x,title:y,visible:w,folding:C,field:S,collapseNode:E,itemRender:O,showError:T,errRule:R,className:M,titleOverflow:k,vertical:D,children:I,showTitle:$,contentClassName:F,contentStyle:N,titleClassName:L,titleStyle:A}=h,P=jp(O)?zm.renderer.get(O.name):null,j=P?P.itemClassName:"",V=P?P.itemStyle:null,B=P?P.itemContentClassName:"",H=P?P.itemContentStyle:null,_=P?P.itemTitleClassName:"",z=P?P.itemTitleStyle:null,W=x?x.default:null,q=x?x.title:null,Y=h.span||r,U=h.align||i,X=fp.eqNull(h.titleAlign)?s:h.titleAlign,G=fp.eqNull(h.titleWidth)?c:h.titleWidth,K=fp.eqNull(h.titleColon)?u:h.titleColon,Z=fp.eqNull(h.titleAsterisk)?d:h.titleAsterisk,J=fp.isUndefined(k)||fp.isNull(k)?p:k,Q=fp.isUndefined(D)||fp.isNull(D)?m:D,ee="title"===J,te=!0===J||"tooltip"===J,ne=ee||te||"ellipsis"===J,le={data:l,field:S,property:S,item:h,$form:t,$grid:t.xegrid};if(!1===w)return f();let oe=!1;if(o){const e=o[S];e&&(oe=e.some((e=>e.required)))}if(I&&I.length>0){const e=I.map(((e,t)=>a(jh,{key:t,itemConfig:e})));return e.length?a("div",{class:["vxe-form--gather vxe-form--item-row",h.id,Y?`vxe-form--item-col_${Y} is--span`:"",M?fp.isFunction(M)?M(le):M:""]},e):f()}let re=[];W?re=t.callSlot(W,le):P&&P.renderItemContent?re=Pf(P.renderItemContent(O,le)):S&&(re=[fp.toValueString(fp.get(l,S))]),E&&re.push(a("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[a("span",{class:"vxe-form--item-trigger-text"},v?gp.i18n("vxe.form.unfolding"):gp.i18n("vxe.form.folding")),a("i",{class:["vxe-form--item-trigger-icon",v?gp.icon.FORM_FOLDING:gp.icon.FORM_UNFOLDING]})])),R&&b.showMessage&&re.push(a("div",{class:"vxe-form--item-valid",style:R.maxWidth?{width:`${R.maxWidth}px`}:null},R.content));const ae=te?{onMouseenter(e){t.triggerTitleTipEvent(e,le)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return a("div",{class:["vxe-form--item",h.id,Y?`vxe-form--item-col_${Y} is--span`:"",M?fp.isFunction(M)?M(le):M:"",j?fp.isFunction(j)?j(le):j:"",{"is--title":y,"is--colon":K,"is--vertical":Q,"is--asterisk":Z,"is--required":oe,"is--hidden":C&&v,"is--active":Dh(t,h),"is--error":T}],style:fp.isFunction(V)?V(le):V},[a("div",{class:"vxe-form--item-inner"},[!1!==$&&(y||q)?a("div",Object.assign({class:["vxe-form--item-title",X?`align--${X}`:"",ne?"is--ellipsis":"",_?fp.isFunction(_)?_(le):_:"",L?fp.isFunction(L)?L(le):L:""],style:Object.assign({},fp.isFunction(z)?z(le):z,fp.isFunction(A)?A(le):A,G?{width:isNaN(G)?G:`${G}px`}:null),title:ee?zp(y):null},ae),Ph(t,h)):null,a("div",{class:["vxe-form--item-content",U?`align--${U}`:"",B?fp.isFunction(B)?B(le):B:"",F?fp.isFunction(F)?F(le):F:""],style:Object.assign({},fp.isFunction(H)?H(le):H,fp.isFunction(N)?N(le):N)},re)])])}};return l},render(){return this.renderVN()}});class Vh{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return zp(this.$options.content||this.$options.message)}get message(){return this.content}}const Bh=(e,t)=>{const{type:n,min:l,max:o,pattern:r}=e,a="number"===n,i=a?fp.toNumber(t):fp.getSize(t);return!(!a||!isNaN(t))||!fp.eqNull(l)&&i<fp.toNumber(l)||!fp.eqNull(o)&&i>fp.toNumber(o)||!(!r||(fp.isRegExp(r)?r:new RegExp(r)).test(t))},Hh=s({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>gp.form.size||gp.size},span:{type:[String,Number],default:()=>gp.form.span},align:{type:String,default:()=>gp.form.align},titleAlign:{type:String,default:()=>gp.form.titleAlign},titleWidth:{type:[String,Number],default:()=>gp.form.titleWidth},titleColon:{type:Boolean,default:()=>gp.form.titleColon},titleAsterisk:{type:Boolean,default:()=>gp.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>gp.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>gp.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const n=zm.tooltip,{slots:l,emit:i}=t,s=fp.uniqueId(),p=wg(e),g=r({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),v=r({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),b=c("$xegrid",null),x=m(),y=m();let w={};const C=u((()=>Object.assign({},gp.form.validConfig,e.validConfig))),S=u((()=>Object.assign({},gp.tooltip,gp.form.tooltipConfig,e.tooltipConfig))),E={refElem:x},O={computeSize:p,computeValidOpts:C,computeTooltipOpts:S},T={xID:s,props:e,context:t,reactData:g,xegrid:b,getRefMaps:()=>E,getComputeMaps:()=>O},R=e=>(e.length,g.staticItems=fp.mapTree(e,(e=>Mh(T,e)),{children:"children"}),d()),M=()=>{const e=[];return fp.eachTree(g.formItems,(t=>{e.push(t)}),{children:"children"}),e},k=e=>{const t=fp.findTree(g.formItems,(t=>t.field===e),{children:"children"});return t?t.item:null},D=()=>g.collapseAll,I=()=>{const e=!D();return g.collapseAll=e,i("update:collapseStatus",e),d()},$=e=>{if(e){let t=e;fp.isArray(e)||(t=[e]),t.forEach((e=>{if(e){const t=kh(T,e);t&&(t.showError=!1)}}))}else M().forEach((e=>{e.showError=!1}));return d()},F=()=>{const{data:t}=e,n=M();return t&&n.forEach((e=>{const{field:n,resetValue:l,itemRender:o}=e;if(jp(o)){const r=zm.renderer.get(o.name);r&&r.itemResetMethod?r.itemResetMethod({data:t,field:n,property:n,item:e,$form:T,$grid:T.xegrid}):n&&fp.set(t,n,null===l?function(e,t){return fp.isArray(e)&&(t=[]),t}(fp.get(t,n),void 0):fp.clone(l,!0))}})),$()},N=t=>{t.preventDefault(),F(),w.dispatchEvent("reset",{data:e.data},t)},L=(t,n,l)=>{const{data:o,rules:r}=e,a={};return fp.isArray(n)||(n=[n]),Promise.all(n.map((e=>{const n=[],i=[];if(e&&r){const a=fp.get(r,e);if(a){const r=fp.isUndefined(l)?fp.get(o,e):l;a.forEach((l=>{const{type:s,trigger:c,required:u,validator:d}=l;if("all"===t||!c||t===c)if(d){const t={itemValue:r,rule:l,rules:a,data:o,field:e,property:e,$form:T};let s;if(fp.isString(d)){const e=zm.validators.get(d);e&&e.itemValidatorMethod&&(s=e.itemValidatorMethod(t))}else s=d(t);s&&(fp.isError(s)?n.push(new Vh({type:"custom",trigger:c,content:s.message,rule:new Vh(l)})):s.catch&&i.push(s.catch((e=>{n.push(new Vh({type:"custom",trigger:c,content:e?e.message:l.content||l.message,rule:new Vh(l)}))}))))}else{const e="array"===s,t=fp.isArray(r);let o=!0;o=e||t?!t||!r.length:fp.isString(r)?qp(r.trim()):qp(r),(u?o||Bh(l,r):!o&&Bh(l,r))&&n.push(new Vh(l))}}))}}return Promise.all(i).then((()=>{n.length&&(a[e]=n.map((t=>({$form:T,rule:t,data:o,field:e,property:e}))))}))}))).then((()=>{if(!fp.isEmpty(a))return Promise.reject(a)}))};let A;const P=(t,n,l)=>{const{data:o,rules:r}=e,a=C.value,i={},s=[],c=[];return clearTimeout(A),o&&r?(t.forEach((e=>{const{field:t}=e;t&&!function(e,t){const{reactData:n}=e,{collapseAll:l}=n,{folding:o,visible:r}=t;return!1===r||o&&l}(T,e)&&Dh(T,e)&&c.push(L(n||"all",t).then((()=>{e.errRule=null})).catch((n=>{const l=n[t];return i[t]||(i[t]=[]),i[t].push(l),s.push(t),e.errRule=l[0].rule,Promise.reject(l)})))})),Promise.all(c).then((()=>{l&&l()})).catch((()=>new Promise((e=>{A=window.setTimeout((()=>{t.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==a.autoPos&&d((()=>{(e=>{const t=x.value;for(let l=0;l<e.length;l++){const o=e[l],r=k(o);if(r&&jp(r.itemRender)){const{itemRender:e}=r,o=zm.renderer.get(e.name);let a=null;if(l||(n=t.querySelector(`.${r.id}`))&&(n[ff]?n[ff]():n[mf]&&n[mf]()),e.autofocus&&(a=t.querySelector(`.${r.id} ${e.autofocus}`)),!a&&o&&o.autofocus&&(a=t.querySelector(`.${r.id} ${o.autofocus}`)),a){a.focus();break}}}var n})(s)})),l?(l(i),e()):e(i)}))))):(l&&l(),Promise.resolve())},j=t=>{t.preventDefault(),e.preventSubmit||($(),P(M()).then((n=>{n?w.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):w.dispatchEvent("submit",{data:e.data},t)})))},V=()=>{const{tooltipStore:e}=v,t=y.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),d()},B=(e,t,n)=>t?L(e?["blur"].includes(e.type)?"blur":"change":"all",t,n).then((()=>{$(t)})).catch((e=>{const n=e[t],l=k(t);n&&l&&(l.showError=!0,l.errRule=n[0].rule)})):d();w={dispatchEvent(e,t,n){i(e,Object.assign({$form:T,$grid:b,$event:n},t))},reset:F,validate:e=>($(),P(M(),"",e)),validateField:(e,t)=>{let n=[];return n=fp.isArray(e)?e:[e],P(n.map((e=>kh(T,e))),"",t)},clearValidate:$,updateStatus:(e,t)=>{const{field:n}=e;return B(new Event("change"),n,t)},toggleCollapse:I,getItems:M,getItemByField:k,closeTooltip:V};const H={callSlot:(e,t)=>e&&(fp.isString(e)&&(e=l[e]||null),fp.isFunction(e))?Pf(e(t)):[],triggerItemEvent:B,toggleCollapseEvent:t=>{I();const n=D();w.dispatchEvent("toggle-collapse",{status:n,collapse:n,data:e.data},t),w.dispatchEvent("collapse",{status:n,collapse:n,data:e.data},t)},triggerTitleTipEvent:(e,t)=>{const{item:n}=t,{tooltipStore:l}=v,o=y.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(v.tooltipTimeout),l.item!==n&&V(),a&&i&&(Object.assign(l,{item:n,visible:!0}),o&&o.open(r,a))},handleTitleTipLeaveEvent:()=>{const e=S.value;let t=y.value;t&&t.setActived(!1),e.enterable?v.tooltipTimeout=setTimeout((()=>{t=y.value,t&&!t.isActived()&&V()}),e.leaveDelay):V()}};Object.assign(T,w,H);const _=m(0);o((()=>g.staticItems.length),(()=>{_.value++})),o((()=>g.staticItems),(()=>{_.value++})),o(_,(()=>{g.formItems=g.staticItems}));const z=m(0);return o((()=>e.items?e.items.length:-1),(()=>{z.value++})),o((()=>e.items),(()=>{z.value++})),o(z,(()=>{R(e.items||[])})),o((()=>e.collapseStatus),(e=>{g.collapseAll=!!e})),T.renderVN=()=>{const{loading:t,className:o,data:r,customLayout:i}=e,{formItems:s}=g,c=p.value,u=S.value,d=l.default;return a("form",{ref:x,class:["vxe-form",o?fp.isFunction(o)?o({items:s,data:r,$form:T}):o:"",{[`size--${c}`]:c,"is--loading":t}],onSubmit:j,onReset:N},[a("div",{class:"vxe-form--wrapper vxe-form--item-row"},i?d?d({}):[]:s.map(((e,t)=>a(jh,{key:t,itemConfig:e})))),a("div",{class:"vxe-form-slots",ref:"hideItem"},i?[]:d?d({}):[]),a(Eg,{class:"vxe-form--loading",modelValue:t}),n?a(Nh,Object.assign({ref:y},u)):f()])},e.items&&R(e.items),h("$xeform",T),h("$xeformgather",null),h("$xeformitem",null),h("$xeformiteminfo",null),T},render(){return this.renderVN()}}),_h=e("d",Object.assign(Hh,{install(e){e.component(Hh.name,Hh)}}));Km.component(Hh.name,Hh);const zh=Object.keys(ph),Wh=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],qh=[...fh,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Yh=s({name:"VxeGrid",props:Object.assign(Object.assign({},ph),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>gp.grid.size||gp.size}}),emits:qh,setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=w(),c=wg(e),p=r({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:gp.pager.pageSize||10,currentPage:1}}),f=m(),g=m(),x=m(),y=m(),C=m(),S=m(),E=m(),O=m(),T=m(),R=m(),M=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const n=g.value;if(n&&n[e])return n[e](...t)}})),t},k=M(Wh);Wh.forEach((e=>{k[e]=(...t)=>{const n=g.value;if(n&&n[e])return n&&n[e](...t)}}));const D=u((()=>Object.assign({},gp.grid.proxyConfig,e.proxyConfig))),I=u((()=>!1!==D.value.message)),$=u((()=>Object.assign({},gp.grid.pagerConfig,e.pagerConfig))),F=u((()=>Object.assign({},gp.grid.formConfig,e.formConfig))),N=u((()=>Object.assign({},gp.grid.toolbarConfig,e.toolbarConfig))),L=u((()=>Object.assign({},gp.grid.zoomConfig,e.zoomConfig))),A=u((()=>p.isZMax?{zIndex:p.tZindex}:null)),P=u((()=>{const t={},n=e;return zh.forEach((e=>{t[e]=n[e]})),t})),j={refElem:f,refTable:g,refForm:x,refToolbar:y,refPager:C},V={computeProxyOpts:D,computePagerOpts:$,computeFormOpts:F,computeToolbarOpts:N,computeZoomOpts:L},B={xID:i,props:e,context:t,instance:s,reactData:p,getRefMaps:()=>j,getComputeMaps:()=>V};let H={};const _=u((()=>{const{seqConfig:t,pagerConfig:n,loading:l,editConfig:o,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:s,tableData:c}=p,u=P.value,d=D.value,f=$.value,m=Object.assign({},u);return a&&(u.maxHeight?m.maxHeight="auto":m.height="auto"),r&&jp(d)&&(m.loading=l||i,m.data=c,n&&d.seq&&jp(f)&&(m.seqConfig=Object.assign({},t,{startIndex:(s.currentPage-1)*s.pageSize}))),o&&(m.editConfig=Object.assign({},o)),m})),z=()=>{const t=N.value;e.toolbarConfig&&jp(t)&&d((()=>{const e=g.value,t=y.value;e&&t&&e.connect(t)}))},W=()=>{const{tablePage:t}=p,{pagerConfig:n}=e,l=$.value,{currentPage:o,pageSize:r}=l;n&&jp(l)&&(o&&(t.currentPage=o),r&&(t.pageSize=r))},q=(e,t)=>{const n=D.value,l=(n.response||n.props||{}).message;let o;return e&&l&&(o=fp.isFunction(l)?l({data:e,$grid:B}):fp.get(e,l)),o||gp.i18n(t)},Y=(e,t,n)=>{const l=I.value,o=k.getCheckboxRecords();if(l){if(o.length)return zm.modal.confirm({id:`cfm_${e}`,content:gp.i18n(t),escClosable:!0}).then((e=>{if("confirm"===e)return n()}));zm.modal.message({id:`msg_${e}`,content:gp.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else o.length&&n();return Promise.resolve()},U=t=>{const{proxyConfig:n}=e,{tablePage:l}=p,{currentPage:o,pageSize:r}=t,a=D.value;l.currentPage=o,l.pageSize=r,H.dispatchEvent("page-change",t),n&&jp(a)&&H.commitProxy("query").then((e=>{H.dispatchEvent("proxy-query",e,t.$event)}))},X=t=>{const n=g.value,{proxyConfig:l}=e,{computeSortOpts:o}=n.getComputeMaps(),r=D.value;o.value.remote&&(p.sortData=t.sortList,l&&jp(r)&&(p.tablePage.currentPage=1,H.commitProxy("query").then((e=>{H.dispatchEvent("proxy-query",e,t.$event)})))),H.dispatchEvent("sort-change",t)},G=t=>{const n=g.value,{proxyConfig:l}=e,{computeFilterOpts:o}=n.getComputeMaps(),r=D.value;o.value.remote&&(p.filterData=t.filterList,l&&jp(r)&&(p.tablePage.currentPage=1,H.commitProxy("query").then((e=>{H.dispatchEvent("proxy-query",e,t.$event)})))),H.dispatchEvent("filter-change",t)},K=t=>{const{proxyConfig:n}=e,l=D.value;n&&jp(l)&&H.commitProxy("reload").then((e=>{H.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)})),H.dispatchEvent("form-submit",t)},Z=t=>{const{proxyConfig:n}=e,l=D.value;n&&jp(l)&&H.commitProxy("reload").then((e=>{H.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)})),H.dispatchEvent("form-reset",t)},J=e=>{H.dispatchEvent("form-submit-invalid",e)},Q=e=>{d((()=>k.recalculate(!0))),H.dispatchEvent("form-toggle-collapse",e),H.dispatchEvent("form-collapse",e)},ee=e=>{const{isZMax:t}=p;return(e?!t:t)&&(p.isZMax=!t,p.tZindex<Hp()&&(p.tZindex=Bp())),d().then((()=>k.recalculate(!0))).then((()=>p.isZMax))},te=(e,t)=>{const l=e[t];if(l){if(!fp.isString(l))return l;if(n[l])return n[l]}return null},ne=["Form","Toolbar","Top","Table","Bottom","Pager"],le=()=>{const{layouts:t}=e,l=[];return(t&&t.length?t:gp.grid.layouts||ne).forEach((t=>{switch(t){case"Form":l.push((()=>{const{formConfig:t,proxyConfig:l}=e,{formData:o}=p,r=D.value,i=F.value,s=[];if(t&&jp(i)||n.form){let e=[];if(n.form)e=n.form({$grid:B});else if(i.items){const t={};if(!i.inited){i.inited=!0;const e=r.beforeItem;r&&e&&i.items.forEach((t=>{e({$grid:B,item:t})}))}i.items.forEach((e=>{fp.each(e.slots,(e=>{fp.isFunction(e)||n[e]&&(t[e]=n[e])}))})),e.push(a(_h,Object.assign(Object.assign({ref:x},Object.assign({},i,{data:l&&jp(r)&&r.form?o:i.data})),{onSubmit:K,onReset:Z,onSubmitInvalid:J,onCollapse:Q}),t))}s.push(a("div",{ref:S,key:"form",class:"vxe-grid--form-wrapper"},e))}return s})());break;case"Toolbar":l.push((()=>{const{toolbarConfig:t}=e,l=N.value,o=[];if(t&&jp(l)||n.toolbar){let e=[];if(n.toolbar)e=n.toolbar({$grid:B});else{const t=l.slots;let n,o;const r={};t&&(n=te(t,"buttons"),o=te(t,"tools"),n&&(r.buttons=n),o&&(r.tools=o)),e.push(a(Th,Object.assign({ref:y},l),r))}o.push(a("div",{ref:E,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e))}return o})());break;case"Top":l.push(n.top?[a("div",{ref:O,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:B}))]:[]);break;case"Table":l.push(re());break;case"Bottom":l.push(ae());break;case"Pager":l.push(ie())}})),l},oe={};fh.forEach((e=>{const t=fp.camelCase(`on-${e}`);oe[t]=(...t)=>l(e,...t)}));const re=()=>{const{proxyConfig:t}=e,l=_.value,o=D.value,r=Object.assign({},oe),i=n.empty,s=n.loading;t&&jp(o)&&(o.sort&&(r.onSortChange=X),o.filter&&(r.onFilterChange=G));const c={};return i&&(c.empty=()=>i({})),s&&(c.loading=()=>s({})),[a(yh,Object.assign(Object.assign({ref:g,key:"table"},l),r),c)]},ae=()=>n.bottom?[a("div",{ref:T,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:B}))]:[],ie=()=>{const{proxyConfig:t,pagerConfig:l}=e,o=D.value,r=$.value,i=[];if(l&&jp(r)||n.pager){let e=[];if(n.pager)e=n.pager({$grid:B});else{const n=r.slots,l={};let i,s;n&&(i=te(n,"left"),s=te(n,"right"),i&&(l.left=i),s&&(l.right=s)),e.push(a(Sh,Object.assign(Object.assign(Object.assign({ref:C},r),t&&jp(o)?p.tablePage:{}),{onPageChange:U}),l))}i.push(a("div",{ref:R,key:"pager",class:"vxe-grid--pager-wrapper"},e))}return i},se=()=>{const{proxyConfig:t,formConfig:n}=e,{proxyInited:l}=p,o=D.value,r=F.value;if(t&&jp(o)){if(n&&jp(r)&&o.form&&r.items){const e={};r.items.forEach((t=>{const{field:n,itemRender:l}=t;if(n){let o=null;if(l){const{defaultValue:e}=l;fp.isFunction(e)?o=e({item:t}):fp.isUndefined(e)||(o=e)}e[n]=o}})),p.formData=e}l||(p.proxyInited=!0,!1!==o.autoLoad&&d().then((()=>H.commitProxy("_init"))).then((e=>{H.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))})))}};H={dispatchEvent(e,t,n){l(e,Object.assign({$grid:B,$event:n},t))},commitProxy(t,...n){const{toolbarConfig:l,pagerConfig:o,editRules:r,validConfig:a}=e,{tablePage:i,formData:s}=p,c=I.value,u=D.value,f=$.value,m=N.value,{beforeQuery:h,afterQuery:v,beforeDelete:b,afterDelete:x,beforeSave:y,afterSave:w,ajax:C={}}=u,S=u.response||u.props||{},E=g.value;let O=null,T=null;if(fp.isString(t)){const{buttons:e}=m,n=l&&jp(m)&&e?fp.findTree(e,(e=>e.code===t),{children:"dropdowns"}):null;O=n?n.item:null,T=t}else O=t,T=O.code;const R=O?O.params:null;switch(T){case"insert":return E.insert({});case"insert_edit":case"insert_actived":return E.insert({}).then((({row:e})=>E.setEditRow(e)));case"mark_cancel":(e=>{const t=I.value,n=g.value,l=n.getCheckboxRecords();l.length?(n.togglePendingRow(l),k.clearCheckboxRow()):t&&zm.modal.message({id:e,content:gp.i18n("vxe.grid.selectOneRecord"),status:"warning"})})(T);break;case"remove":return Y(T,"vxe.grid.removeSelectRecord",(()=>E.removeCheckboxRow()));case"import":E.importData(R);break;case"open_import":E.openImport(R);break;case"export":E.exportData(R);break;case"open_export":E.openExport(R);break;case"reset_custom":return E.resetColumn(!0);case"_init":case"reload":case"query":{const e=C.query;if(e){const t="_init"===T,l="reload"===T;let r=[],a=[],c={};if(o&&((t||l)&&(i.currentPage=1),jp(f)&&(c=Object.assign({},i))),t){const{computeSortOpts:e}=E.getComputeMaps();let t=e.value.defaultSort;t&&(fp.isArray(t)||(t=[t]),r=t.map((e=>({field:e.field,property:e.field,order:e.order})))),a=E.getCheckedFilters()}else l?E.clearAll():(r=E.getSortColumns(),a=E.getCheckedFilters());const u={code:T,button:O,isInited:t,isReload:l,$grid:B,page:c,sort:r.length?r[0]:{},sorts:r,filters:a,form:s,options:e};p.sortData=r,p.filterData=a,p.tableLoading=!0;const d=[u].concat(n);return Promise.resolve((h||e)(...d)).then((e=>{if(p.tableLoading=!1,e)if(o&&jp(f)){const t=S.total,n=(fp.isFunction(t)?t({data:e,$grid:B}):fp.get(e,t||"page.total"))||0;i.total=fp.toNumber(n);const l=S.result;p.tableData=(fp.isFunction(l)?l({data:e,$grid:B}):fp.get(e,l||"result"))||[];const o=Math.max(Math.ceil(n/i.pageSize),1);i.currentPage>o&&(i.currentPage=o)}else{const t=S.list;p.tableData=(t?fp.isFunction(t)?t({data:e,$grid:B}):fp.get(e,t):e)||[]}else p.tableData=[];return v&&v(...d),{status:!0}})).catch((()=>(p.tableLoading=!1,{status:!1})))}break}case"delete":{const e=C.delete;if(e){const t=k.getCheckboxRecords(),l=t.filter((e=>!E.isInsertByRow(e))),o=[{$grid:B,code:T,button:O,body:{removeRecords:l},form:s,options:e}].concat(n);if(t.length)return Y(T,"vxe.grid.deleteSelectRecord",(()=>l.length?(p.tableLoading=!0,Promise.resolve((b||e)(...o)).then((e=>(p.tableLoading=!1,E.setPendingRow(l,!1),c&&zm.modal.message({content:q(e,"vxe.grid.delSuccess"),status:"success"}),x?x(...o):H.commitProxy("query"),{status:!0}))).catch((e=>(p.tableLoading=!1,c&&zm.modal.message({id:T,content:q(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):E.remove(t)));c&&zm.modal.message({id:T,content:gp.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const e=C.save;if(e){const t=E.getRecordset(),{insertRecords:l,removeRecords:o,updateRecords:i,pendingRecords:u}=t,d=[{$grid:B,code:T,button:O,body:t,form:s,options:e}].concat(n);l.length&&(t.pendingRecords=u.filter((e=>-1===E.findRowIndexOf(l,e)))),u.length&&(t.insertRecords=l.filter((e=>-1===E.findRowIndexOf(u,e))));let f=Promise.resolve();return r&&(f=E[a&&"full"===a.msgMode?"fullValidate":"validate"](t.insertRecords.concat(i))),f.then((n=>{if(!n)return t.insertRecords.length||o.length||i.length||t.pendingRecords.length?(p.tableLoading=!0,Promise.resolve((y||e)(...d)).then((e=>(p.tableLoading=!1,E.clearPendingRow(),c&&zm.modal.message({content:q(e,"vxe.grid.saveSuccess"),status:"success"}),w?w(...d):H.commitProxy("query"),{status:!0}))).catch((e=>(p.tableLoading=!1,c&&zm.modal.message({id:T,content:q(e,"vxe.grid.operError"),status:"error"}),{status:!1})))):void(c&&zm.modal.message({id:T,content:gp.i18n("vxe.grid.dataUnchanged"),status:"info"}))}))}break}default:{const e=zm.commands.get(T);e&&e.commandMethod&&e.commandMethod({code:T,button:O,$grid:B,$table:E},...n)}}return d()},zoom:()=>p.isZMax?H.revert():H.maximize(),isMaximized:()=>p.isZMax,maximize:()=>ee(!0),revert:()=>ee(),getFormItems(t){const n=F.value,{formConfig:l}=e,{items:o}=n,r=[];return fp.eachTree(l&&jp(n)&&o?o:[],(e=>{r.push(e)}),{children:"children"}),fp.isUndefined(t)?r:r[t]},getProxyInfo(){const t=g.value;if(e.proxyConfig){const{sortData:e}=p;return{data:p.tableData,filter:p.filterData,form:p.formData,sort:e.length?e[0]:{},sorts:e,pager:p.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}};const ce={extendTableMethods:M,callSlot:(e,t)=>e&&(fp.isString(e)&&(e=n[e]||null),fp.isFunction(e))?Pf(e(t)):[],getExcludeHeight(){const{height:t}=e,{isZMax:n}=p,l=f.value,o=S.value,r=E.value,a=O.value,i=T.value,s=R.value;return(n||"auto"!==t?0:rf(l.parentNode))+rf(l)+of(o)+of(r)+of(a)+of(i)+of(s)},getParentHeight(){const e=f.value;return e?(p.isZMax?lf().visibleHeight:fp.toNumber(getComputedStyle(e.parentNode).height))-ce.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const{code:n}=e;return H.commitProxy(e,t).then((e=>{n&&e&&e.status&&["query","reload","delete","save"].includes(n)&&H.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)}))},triggerToolbarBtnEvent(e,t){ce.triggerToolbarCommitEvent(e,t),H.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){ce.triggerToolbarCommitEvent(e,t),H.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e,$event:t})},triggerZoomEvent(e){H.zoom(),H.dispatchEvent("zoom",{type:p.isZMax?"max":"revert"},e)}};Object.assign(B,k,H,ce);const ue=m(0);o((()=>e.columns?e.columns.length:-1),(()=>{ue.value++})),o((()=>e.columns),(()=>{ue.value++})),o(ue,(()=>{d((()=>B.loadColumn(e.columns||[])))})),o((()=>e.toolbarConfig),(()=>{z()})),o((()=>e.pagerConfig),(()=>{W()})),o((()=>e.proxyConfig),(()=>{se()}));const de=e=>{const t=L.value;hg(e,eg)&&p.isZMax&&!1!==t.escRestore&&ce.triggerZoomEvent(e)};return zm.hooks.forEach((e=>{const{setupGrid:t}=e;if(t){const e=t(B);e&&fp.isObject(e)&&Object.assign(B,e)}})),W(),v((()=>{d((()=>{const{data:t,columns:n,proxyConfig:l}=e,o=D.value,r=F.value;jp(l)&&(t||o.form&&r.data)&&Np("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),n&&n.length&&B.loadColumn(n),z()})),bg.on(B,"keydown",de)})),b((()=>{bg.off(B,"keydown")})),d((()=>{se()})),B.renderVN=()=>{const t=c.value,n=A.value;return a("div",{ref:f,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":p.isZMax,"is--loading":e.loading||p.tableLoading}],style:n},le())},h("$xegrid",B),B},render(){return this.renderVN()}});e("b",Object.assign(Yh,{install(e){e.component(Yh.name,Yh)}})),Km.component(Yh.name,Yh),Object.assign(Fg,{install(e){e.component(Fg.name,Fg)}}),Km.component(Fg.name,Fg);const Uh=s({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>gp.checkboxGroup.size||gp.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,o=c("$xeform",null),r=c("$xeformiteminfo",null),i=fp.uniqueId(),s=u((()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=fp.toNumber(n)})),d=u((()=>e.optionProps||{})),p=u((()=>d.value.label||"label")),f=u((()=>d.value.value||"value")),m=u((()=>d.value.disabled||"disabled")),g={computeIsMaximize:s},v={xID:i,props:e,context:t,getComputeMaps:()=>g};wg(e);const b={dispatchEvent(e,t,n){l(e,Object.assign({$checkboxGroup:v,$event:n},t))}},x={handleChecked(t,n){const{checked:a,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);a?-1===c&&s.push(i):s.splice(c,1),l("update:modelValue",s),v.dispatchEvent("change",Object.assign({checklist:s},t),n),o&&r&&o.triggerItemEvent(n,r.itemConfig.field,s)}};Object.assign(v,b,x);const y=()=>{const{options:t}=e,l=n.default,o=f.value,r=p.value,i=m.value;return a("div",{class:"vxe-checkbox-group"},l?l({}):t?t.map((e=>a(Fg,{label:e[o],content:e[r],disabled:e[i]}))):[])};return v.renderVN=y,h("$xecheckboxgroup",v),y}});let Xh;Object.assign(Uh,{install(e){e.component(Uh.name,Uh)}}),Km.component(Uh.name,Uh),Object.assign(Pg,{install:function(e){e.component(Pg.name,Pg)}}),Km.component(Pg.name,Pg),Object.assign(Vg,{install:function(e){e.component(Vg.name,Vg)}}),Km.component(Vg.name,Vg),Object.assign(jg,{install:function(e){e.component(jg.name,jg)}}),Km.component(jg.name,jg),Object.assign($g,{install(e){e.component($g.name,$g)}}),Km.component($g.name,$g);const Gh=s({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>fp.eqNull(gp.textarea.placeholder)?gp.i18n("vxe.base.pleaseInput"):gp.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>gp.textarea.resize},size:{type:String,default:()=>gp.textarea.size||gp.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:n}=t,l=c("$xeform",null),i=c("$xeformiteminfo",null),s=fp.uniqueId(),p=wg(e),f=r({inputValue:e.modelValue}),g=m(),h=m(),v={refElem:g,refTextarea:h},b={xID:s,props:e,context:t,reactData:f,getRefMaps:()=>v};let x={};const y=u((()=>fp.getSize(f.inputValue))),w=u((()=>{const t=y.value;return e.maxlength&&t>fp.toNumber(e.maxlength)})),C=u((()=>Object.assign({minRows:1,maxRows:10},gp.textarea.autosize,e.autosize))),S=()=>{const{size:t,autosize:n}=e,{inputValue:l}=f;if(n){Xh||(Xh=document.createElement("div")),Xh.parentNode||document.body.appendChild(Xh);const e=h.value,n=getComputedStyle(e);Xh.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),Xh.style.width=`${e.clientWidth}px`,Xh.style.padding=n.padding,Xh.innerText=(""+(l||"　")).replace(/\n$/,"\n　")}},E=()=>{e.autosize&&d((()=>{const e=C.value,{minRows:t,maxRows:n}=e,l=h.value,o=Xh.clientHeight,r=getComputedStyle(l),a=fp.toNumber(r.lineHeight),i=fp.toNumber(r.paddingTop)+fp.toNumber(r.paddingBottom)+fp.toNumber(r.borderTopWidth)+fp.toNumber(r.borderBottomWidth),s=(o-i)/a,c=s&&/[0-9]/.test(""+s)?s:Math.floor(s)+1;let u=c;c<t?u=t:c>n&&(u=n),l.style.height=`${u*a+i}px`}))},O=e=>{const t=f.inputValue;b.dispatchEvent(e.type,{value:t},e)},T=(t,o)=>{f.inputValue=t,n("update:modelValue",t),fp.toValueString(e.modelValue)!==t&&(x.dispatchEvent("change",{value:t},o),l&&i&&l.triggerItemEvent(o,i.itemConfig.field,t))},R=t=>{const{immediate:n}=e,l=t.target.value;f.inputValue=l,n&&T(l,t),b.dispatchEvent("input",{value:l},t),E()},M=t=>{const{immediate:n}=e;n?O(t):T(f.inputValue,t)},k=t=>{const{immediate:n}=e,{inputValue:l}=f;n||T(l,t),b.dispatchEvent("blur",{value:l},t)};return x={dispatchEvent(e,t,l){n(e,Object.assign({$textarea:b,$event:l},t))},focus:()=>(h.value.focus(),d()),blur:()=>(h.value.blur(),d())},Object.assign(b,x),o((()=>e.modelValue),(e=>{f.inputValue=e,S()})),d((()=>{const{autosize:t}=e;t&&(S(),E())})),b.renderVN=()=>{const{className:t,resize:n,placeholder:l,disabled:o,maxlength:r,autosize:i,showWordCount:s,countMethod:c,rows:u,cols:d}=e,{inputValue:m}=f,v=p.value,b=w.value,x=y.value;return a("div",{ref:g,class:["vxe-textarea",t,{[`size--${v}`]:v,"is--autosize":i,"is--count":s,"is--disabled":o,"def--rows":!fp.eqNull(u),"def--cols":!fp.eqNull(d)}]},[a("textarea",{ref:h,class:"vxe-textarea--inner",value:m,name:e.name,placeholder:l?zp(l):null,maxlength:r,readonly:e.readonly,disabled:o,rows:u,cols:d,style:n?{resize:n}:null,onInput:R,onChange:M,onKeydown:O,onKeyup:O,onClick:O,onFocus:O,onBlur:k}),s?a("span",{class:["vxe-textarea--count",{"is--error":b}]},c?`${c({value:m})}`:`${x}${r?`/${r}`:""}`):null])},b},render(){return this.renderVN()}});Object.assign(Gh,{install:function(e){e.component(Gh.name,Gh)}}),Km.component(Gh.name,Gh);const Kh=s({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>gp.buttonGroup.size||gp.size}},emits:["click"],setup(e,t){const{slots:n,emit:l}=t,o=fp.uniqueId(),r={},i={xID:o,props:e,context:t,getComputeMaps:()=>r};wg(e);const s={dispatchEvent(e,t,n){l(e,Object.assign({$buttonGroup:i,$event:n},t))}},c={handleClick(t,n){const{options:l}=e,{name:o}=t,r=l?l.find((e=>e.name===o)):null;s.dispatchEvent("click",Object.assign(Object.assign({},t),{option:r}),n)}};Object.assign(i,s,c);const u=()=>{const{className:t,options:l}=e,o=n.default;return a("div",{class:["vxe-button-group",t?fp.isFunction(t)?t({$buttonGroup:i}):t:""]},o?o({}):l?l.map(((e,t)=>a(Cg,Object.assign({key:t},e)))):[])};return i.renderVN=u,h("$xebuttongroup",i),u}});function Zh(e){return Zm(),new Promise((t=>{if(e&&e.id&&Og.some((t=>t.props.id===e.id)))t("exist");else{const n=e.onHide,l=Object.assign(e,{key:fp.uniqueId(),modelValue:!0,onHide(e){const o=Xm.modals;n&&n(e),Xm.modals=o.filter((e=>e.key!==l.key)),t(e.type)}});Xm.modals.push(l)}}))}function Jh(e){return fp.find(Og,(t=>t.props.id===e))}function Qh(e,t,n,l){let o;return o=fp.isObject(t)?t:{content:fp.toValueString(t),title:n},Zh(Object.assign(Object.assign(Object.assign({},e),l),o))}Object.assign(Kh,{install(e){e.component(Kh.name,Kh)}}),Km.component(Kh.name,Kh);const ev={get:Jh,close:function(e){const t=e?[Jh(e)]:Og,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:Zh,alert:function(e,t,n){return Qh({type:"alert",showFooter:!0},e,t,n)},confirm:function(e,t,n){return Qh({type:"confirm",status:"question",showFooter:!0},e,t,n)},message:function(e,t){return Qh({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}};Object.assign(Rg,{install:function(e){e.component(Rg.name,Rg),zm.modal=ev}}),Km.component(Rg.name,Rg);const tv=[],nv=s({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:[String,Object],lockView:{type:Boolean,default:()=>gp.drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>gp.drawer.mask},maskClosable:{type:Boolean,default:()=>gp.drawer.maskClosable},escClosable:{type:Boolean,default:()=>gp.drawer.escClosable},showHeader:{type:Boolean,default:()=>gp.drawer.showHeader},showFooter:{type:Boolean,default:()=>gp.drawer.showFooter},showClose:{type:Boolean,default:()=>gp.drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>gp.drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>gp.drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>gp.drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>gp.drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>gp.drawer.showTitleOverflow},width:[Number,String],height:[Number,String],zIndex:Number,transfer:{type:Boolean,default:()=>gp.drawer.transfer},size:{type:String,default:()=>gp.drawer.size||gp.size},beforeHideMethod:{type:Function,default:()=>gp.drawer.beforeHideMethod},slots:Number},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),c=m(),u=m(),p=m(),f=m(),h=r({inited:!1,visible:!1,contentVisible:!1,drawerZIndex:0,firstOpen:!0}),x={refElem:c},y={},w={xID:i,props:e,context:t,reactData:h,getRefMaps:()=>x,getComputeMaps:()=>y},C=()=>u.value,S=()=>{const{width:t,height:n}=e,l=C();return l.style.width=`${t?isNaN(t)?t:`${t}px`:""}`,l.style.height=`${n?isNaN(n)?n:`${n}px`:""}`,d()},E=()=>{const{zIndex:t}=e,{drawerZIndex:n}=h;t?h.drawerZIndex=t:n<Hp()&&(h.drawerZIndex=Bp())},O=()=>d().then((()=>{})),T=t=>{const{beforeHideMethod:n}=e,{visible:o}=h,r={type:t};return o&&Promise.resolve(n?n(r):null).then((e=>{fp.isError(e)||(h.contentVisible=!1,fp.remove(tv,(e=>e===w)),I.dispatchEvent("before-hide",r),setTimeout((()=>{h.visible=!1,l("update:modelValue",!1),I.dispatchEvent("hide",r)}),200))})).catch((e=>e)),d()},R=e=>{const t="close";I.dispatchEvent(t,{type:t},e),T(t)},M=e=>{const t="confirm";I.dispatchEvent(t,{type:t},e),T(t)},k=e=>{const t="cancel";I.dispatchEvent(t,{type:t},e),T(t)},D=()=>{const{showFooter:t}=e,{inited:n,visible:o}=h;return n||(h.inited=!0),o||(S(),h.visible=!0,h.contentVisible=!1,E(),tv.push(w),setTimeout((()=>{h.contentVisible=!0,d((()=>{if(t){const e=p.value,t=f.value,n=e||t;n&&n.focus()}const e={type:""};l("update:modelValue",!0),I.dispatchEvent("show",e)}))}),10),d((()=>{const{firstOpen:e}=h;e&&O().then((()=>{setTimeout((()=>O()),20)})),e&&(h.firstOpen=!1)}))),d()},I={dispatchEvent(e,t,n){l(e,Object.assign({$drawer:w,$event:n},t))},open:D,close:()=>T("close"),getBox:C},$=t=>{const n=c.value;e.maskClosable&&t.target===n&&T("mask")},F=e=>{if(hg(e,eg)){const e=fp.max(tv,(e=>e.reactData.drawerZIndex));e&&setTimeout((()=>{e===w&&e.props.escClosable&&T("exit")}),10)}},N=()=>{const{drawerZIndex:e}=h;tv.some((t=>t.reactData.visible&&t.reactData.drawerZIndex>e))&&E()};Object.assign(w,I,{});const L=()=>{const{slots:t={},showTitleOverflow:l}=e,o=n.header||t.header,r=[];return e.showHeader&&r.push(a("div",{class:["vxe-drawer--header",{"is--ellipsis":l}]},o?!h.inited||e.destroyOnClose&&!h.visible?[]:Pf(o({$drawer:w})):(()=>{const{slots:t={},showClose:l,title:o}=e,r=n.title||t.title,i=n.corner||t.corner,s=[a("div",{class:"vxe-drawer--header-title"},r?Pf(r({$drawer:w})):o?zp(o):gp.i18n("vxe.alert.title"))],c=[];return i&&c.push(a("span",{class:"vxe-drawer--corner-wrapper"},Pf(i({$drawer:w})))),l&&c.push(a("i",{class:["vxe-drawer--close-btn","trigger--btn",gp.icon.MODAL_CLOSE],title:gp.i18n("vxe.drawer.close"),onClick:R})),s.push(a("div",{class:"vxe-drawer--header-right"},c)),s})())),r},A=()=>{const{slots:t={},content:l}=e,o=n.default||t.default;return[a("div",{class:"vxe-drawer--body"},[a("div",{class:"vxe-drawer--content"},o?!h.inited||e.destroyOnClose&&!h.visible?[]:Pf(o({$drawer:w})):zp(l)),a(Eg,{class:"vxe-drawer--loading",modelValue:e.loading})])]},P=()=>{const{slots:t={}}=e,l=n.footer||t.footer,o=[];return e.showFooter&&o.push(a("div",{class:"vxe-drawer--footer"},l?!h.inited||e.destroyOnClose&&!h.visible?[]:Pf(l({$drawer:w})):(()=>{const{showCancelButton:t,showConfirmButton:n}=e,l=[];return t&&l.push(a(Cg,{key:1,ref:f,content:e.cancelButtonText||gp.i18n("vxe.button.cancel"),onClick:k})),n&&l.push(a(Cg,{key:2,ref:p,status:"primary",content:e.confirmButtonText||gp.i18n("vxe.button.confirm"),onClick:M})),l})())),o};return w.renderVN=()=>{const{className:t,position:n,loading:l,lockScroll:o,lockView:r,mask:i}=e,{inited:d,contentVisible:p,visible:f}=h,m=s.value;return a(g,{to:"body",disabled:!e.transfer||!d},[a("div",{ref:c,class:["vxe-drawer--wrapper",`pos--${n}`,t||"",{[`size--${m}`]:m,"lock--scroll":o,"lock--view":r,"is--mask":i,"is--visible":p,"is--active":f,"is--loading":l}],style:{zIndex:h.drawerZIndex},onClick:$},[a("div",{ref:u,class:"vxe-drawer--box",onMousedown:N},L().concat(A(),P()))])])},o((()=>e.width),S),o((()=>e.height),S),o((()=>e.modelValue),(e=>{e?D():T("model")})),v((()=>{d((()=>{e.modelValue&&D(),S()})),e.escClosable&&bg.on(w,"keydown",F)})),b((()=>{bg.off(w,"keydown")})),w},render(){return this.renderVN()}});function lv(e){return fp.find(tv,(t=>t.props.id===e))}const ov={get:lv,close:function(e){const t=e?[lv(e)]:tv,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:function(e){return Zm(),new Promise((t=>{if(e&&e.id&&tv.some((t=>t.props.id===e.id)))t("exist");else{const n=e.onHide,l=Object.assign(e,{key:fp.uniqueId(),modelValue:!0,onHide(e){const o=Xm.drawers;n&&n(e),Xm.drawers=o.filter((e=>e.key!==l.key)),t(e.type)}});Xm.drawers.push(l)}}))}};Object.assign(nv,{install:function(e){e.component(nv.name,nv),zm.drawer=ov}}),Km.component(nv.name,nv);const rv={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},av=s({name:"VxeFormItem",props:rv,setup(e,{slots:t}){const n=m(),l=c("$xeform",{}),o=c("$xeformgather",null),i=r(Mh(l,e)),s={formItem:i},u={itemConfig:i};i.slots=t,h("$xeformiteminfo",u),h("$xeformitem",s),h("$xeformgather",null),Ih(e,i),v((()=>{$h(l,n.value,i,o)})),b((()=>{Fh(l,i)}));const d={renderVN:()=>{const e=l?l.props:null;return e&&e.customLayout?((e,t)=>{const{props:l,reactData:o}=e,{data:r,rules:i,titleAlign:s,titleWidth:c,titleColon:u,titleAsterisk:d,titleOverflow:p,vertical:m}=l,{collapseAll:g}=o,{computeValidOpts:h}=e.getComputeMaps(),v=h.value,{slots:b,title:x,visible:y,folding:w,field:C,collapseNode:S,itemRender:E,showError:O,errRule:T,className:R,titleOverflow:M,vertical:k,showTitle:D,contentClassName:I,contentStyle:$,titleClassName:F,titleStyle:N}=t,L=jp(E)?zm.renderer.get(E.name):null,A=L?L.itemClassName:"",P=L?L.itemStyle:null,j=L?L.itemContentClassName:"",V=L?L.itemContentStyle:null,B=L?L.itemTitleClassName:"",H=L?L.itemTitleStyle:null,_=b?b.default:null,z=b?b.title:null,W=t.span||l.span,q=t.align||l.align,Y=fp.eqNull(t.titleAlign)?s:t.titleAlign,U=fp.eqNull(t.titleWidth)?c:t.titleWidth,X=fp.eqNull(t.titleColon)?u:t.titleColon,G=fp.eqNull(t.titleAsterisk)?d:t.titleAsterisk,K=fp.isUndefined(M)||fp.isNull(M)?p:M,Z=fp.isUndefined(k)||fp.isNull(k)?m:k,J="title"===K,Q=!0===K||"tooltip"===K,ee=J||Q||"ellipsis"===K,te={data:r,field:C,property:C,item:t,$form:e,$grid:e.xegrid};let ne=!1;if(!1===y)return f();if(i){const e=i[C];e&&(ne=e.some((e=>e.required)))}let le=[];_?le=e.callSlot(_,te):L&&L.renderItemContent?le=Pf(L.renderItemContent(E,te)):C&&(le=[`${fp.get(r,C)}`]),S&&le.push(a("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[a("span",{class:"vxe-form--item-trigger-text"},g?gp.i18n("vxe.form.unfolding"):gp.i18n("vxe.form.folding")),a("i",{class:["vxe-form--item-trigger-icon",g?gp.icon.FORM_FOLDING:gp.icon.FORM_UNFOLDING]})])),T&&v.showMessage&&le.push(a("div",{class:"vxe-form--item-valid",style:T.maxWidth?{width:`${T.maxWidth}px`}:null},T.message));const oe=Q?{onMouseenter(t){e.triggerTitleTipEvent(t,te)},onMouseleave:e.handleTitleTipLeaveEvent}:{};return a("div",{ref:n,class:["vxe-form--item",t.id,W?`vxe-form--item-col--${W} is--span`:"",R?fp.isFunction(R)?R(te):R:"",A?fp.isFunction(A)?A(te):A:"",{"is--title":x,"is--colon":X,"is--vertical":Z,"is--asterisk":G,"is--required":ne,"is--hidden":w&&g,"is--active":Dh(e,t),"is--error":O}],style:fp.isFunction(P)?P(te):P},[a("div",{class:"vxe-form--item-inner"},[!1!==D&&(x||z)?a("div",Object.assign({class:["vxe-form--item-title",Y?`align--${Y}`:"",ee?"is--ellipsis":"",B?fp.isFunction(B)?B(te):B:"",F?fp.isFunction(F)?F(te):F:""],style:Object.assign({},fp.isFunction(H)?H(te):H,fp.isFunction(N)?N(te):N,U?{width:isNaN(U)?U:`${U}px`}:null),title:J?zp(x):null},oe),Ph(e,t)):null,a("div",{class:["vxe-form--item-content",q?`align--${q}`:"",j?fp.isFunction(j)?j(te):j:"",I?fp.isFunction(I)?I(te):I:""],style:Object.assign({},fp.isFunction(V)?V(te):V,fp.isFunction($)?$(te):$)},le)])])})(l,i):a("div",{ref:n})}};return d},render(){return this.renderVN()}});Object.assign(av,{install(e){e.component(av.name,av)}}),Km.component(av.name,av);const iv=s({name:"VxeFormGather",props:rv,setup(e,{slots:t}){const n=m(),l=c("$xeform",{}),o=c("$xeformgather",null),i=t.default,s=r(Mh(l,e)),u={formItem:s},d={itemConfig:s};return s.children=[],h("$xeformiteminfo",d),h("$xeformgather",u),h("$xeformitem",null),Ih(e,s),v((()=>{$h(l,n.value,s,o)})),b((()=>{Fh(l,s)})),{renderVN:()=>{const{className:t,field:o}=e,r=e.span||(l?l.props.span:null);return a("div",{ref:n,class:["vxe-form--gather vxe-form--item-row",s.id,r?`vxe-form--item-col_${r} is--span`:"",t?fp.isFunction(t)?t({$form:l,data:l?l.props.data:{},item:s,field:o,property:o}):t:""]},i?i():[])}}},render(){return this.renderVN()}});Object.assign(iv,{install(e){e.component(iv.name,iv)}}),Km.component(iv.name,iv);class sv{constructor(e,t){Object.assign(this,{id:fp.uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function cv(e,t){return t instanceof sv?t:new sv(e,t)}function uv(e,t){Object.keys(e).forEach((n=>{o((()=>e[n]),(e=>{t.update(n,e)}))}))}function dv(e,t,n,l){const{reactData:o}=e,{staticOptions:r}=o,a=t.parentNode,i=l?l.option:null,s=i?i.options:r;a&&s&&(s.splice(fp.arrayIndexOf(a.children,t),0,n),o.staticOptions=r.slice(0))}function pv(e,t){const{reactData:n}=e,{staticOptions:l}=n,o=fp.findTree(l,(e=>e.id===t.id),{children:"options"});o&&o.items.splice(o.index,1),n.staticOptions=l.slice(0)}const fv=s({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const n=m(),l=c("$xeselect",{}),o=cv(l,e),r={option:o};return o.options=[],h("xeoptgroup",r),uv(e,o),v((()=>{dv(l,n.value,o)})),b((()=>{pv(l,o)})),()=>a("div",{ref:n},t.default?t.default():[])}});Object.assign(fv,{install:function(e){e.component(fv.name,fv)}}),Km.component(fv.name,fv);const mv=s({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const n=m(),l=c("$xeselect",{}),o=c("xeoptgroup",null),r=cv(l,e);return r.slots=t,uv(e,r),v((()=>{dv(l,n.value,r,o)})),b((()=>{pv(l,r)})),()=>a("div",{ref:n})}});Object.assign(mv,{install:function(e){e.component(mv.name,mv)}}),Km.component(mv.name,mv);const gv=s({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>gp.switch.size||gp.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:n}=t,l=c("$xeform",null),o=c("$xeformiteminfo",null),i=fp.uniqueId(),s=wg(e),p=r({isActivated:!1,hasAnimat:!1,offsetLeft:0}),g={xID:i,props:e,context:t,reactData:p},h=m();let v={};const b=u((()=>zp(e.openLabel))),x=u((()=>zp(e.closeLabel))),y=u((()=>e.modelValue===e.openValue));let w;const C=t=>{if(!e.disabled){const r=y.value;clearTimeout(w);const a=r?e.closeValue:e.openValue;p.hasAnimat=!0,n("update:modelValue",a),v.dispatchEvent("change",{value:a},t),l&&o&&l.triggerItemEvent(t,o.itemConfig.field,a),w=setTimeout((()=>{p.hasAnimat=!1}),400)}},S=t=>{p.isActivated=!0,v.dispatchEvent("focus",{value:e.modelValue},t)},E=t=>{p.isActivated=!1,v.dispatchEvent("blur",{value:e.modelValue},t)};return v={dispatchEvent(e,t,l){n(e,Object.assign({$switch:g,$event:l},t))},focus(){const e=h.value;return p.isActivated=!0,e.focus(),d()},blur:()=>(h.value.blur(),p.isActivated=!1,d())},Object.assign(g,v),g.renderVN=()=>{const{disabled:t,openIcon:n,closeIcon:l,openActiveIcon:o,closeActiveIcon:r}=e,i=y.value,c=s.value,u=b.value,d=x.value;return a("div",{class:["vxe-switch",i?"is--on":"is--off",{[`size--${c}`]:c,"is--disabled":t,"is--animat":p.hasAnimat}]},[a("button",{ref:h,class:"vxe-switch--button",type:"button",disabled:t,onClick:C,onFocus:S,onBlur:E},[a("span",{class:"vxe-switch--label vxe-switch--label-on"},[n?a("i",{class:["vxe-switch--label-icon",n]}):f(),u]),a("span",{class:"vxe-switch--label vxe-switch--label-off"},[l?a("i",{class:["vxe-switch--label-icon",l]}):f(),d]),a("span",{class:"vxe-switch--icon"},o||r?[a("i",{class:i?o:r})]:[])])])},g},render(){return this.renderVN()}});Object.assign(gv,{install:function(e){e.component(gv.name,gv)}}),Km.component(gv.name,gv);const hv=s({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>gp.list.size||gp.size},autoResize:{type:Boolean,default:()=>gp.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),c=r({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),p=m(),f=m(),g=m(),h={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},v={refElem:p},x={xID:i,props:e,context:t,reactData:c,internalData:h,getRefMaps:()=>v};let y={};const w=u((()=>Object.assign({},gp.list.scrollY,e.scrollY))),S=u((()=>{const{height:t,maxHeight:n}=e,l={};return t?l.height=`${isNaN(t)?t:`${t}px`}`:n&&(l.height="auto",l.maxHeight=`${isNaN(n)?n:`${n}px`}`),l})),E=()=>{const{scrollYLoad:e}=c,{scrollYStore:t,fullData:n}=h;c.bodyHeight=e?n.length*t.rowHeight:0,c.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},O=()=>{const{scrollYLoad:e}=c,{fullData:t,scrollYStore:n}=h;return c.items=e?t.slice(n.startIndex,n.endIndex):t.slice(0),d()},T=()=>{O(),E()},R=()=>d().then((()=>{const{scrollYLoad:e}=c,{scrollYStore:t}=h,n=g.value,l=w.value;let o,r=0;if(n&&(l.sItem&&(o=n.querySelector(l.sItem)),o||(o=n.children[0])),o&&(r=o.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=f.value,n=Math.max(8,Math.ceil(e.clientHeight/r)),o=l.oSize?fp.toNumber(l.oSize):Xp.edge?10:0;t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+o,t.endIndex),T()}else E();c.rowHeight=r})),M=()=>{const e=f.value;return e&&(e.scrollTop=0),d()},k=(e,t)=>{const n=f.value;return fp.isNumber(e)&&(n.scrollLeft=e),fp.isNumber(t)&&(n.scrollTop=t),c.scrollYLoad?new Promise((e=>{setTimeout((()=>{d((()=>{e()}))}),50)})):d()},D=()=>{const{lastScrollLeft:e,lastScrollTop:t}=h;return M().then((()=>{if(e||t)return h.lastScrollLeft=0,h.lastScrollTop=0,k(e,t)}))},I=()=>{const e=p.value;return e.clientWidth&&e.clientHeight?R():Promise.resolve()},$=e=>{const t=e.target,n=t.scrollTop,l=t.scrollLeft,o=l!==h.lastScrollLeft,r=n!==h.lastScrollTop;h.lastScrollTop=n,h.lastScrollLeft=l,c.scrollYLoad&&(e=>{const{scrollYStore:t}=h,{startIndex:n,endIndex:l,visibleSize:o,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+o+r;(s<=n||s>=l-o-1)&&(n===c&&l===u||(t.startIndex=c,t.endIndex=u,T()))})(e),y.dispatchEvent("scroll",{scrollLeft:l,scrollTop:n,isX:o,isY:r},e)};y={dispatchEvent(e,t,n){l(e,Object.assign({$list:x,$event:n},t))},loadData(e){const{scrollYStore:t}=h,n=w.value,l=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),h.fullData=l,c.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=l.length),O(),R().then((()=>{D()}))},reloadData:e=>(M(),y.loadData(e)),recalculate:I,scrollTo:k,refreshScroll:D,clearScroll:M},Object.assign(x,y);const F=m(0);let N;return o((()=>e.data?e.data.length:-1),(()=>{F.value++})),o((()=>e.data),(()=>{F.value++})),o(F,(()=>{y.loadData(e.data||[])})),o((()=>e.syncResize),(e=>{e&&(I(),d((()=>setTimeout((()=>I())))))})),C((()=>{I().then((()=>D()))})),d((()=>{if(bg.on(x,"resize",(()=>{I()})),e.autoResize){const e=p.value;N=oh((()=>I())),N.observe(e)}y.loadData(e.data||[])})),b((()=>{N&&N.disconnect(),bg.off(x,"resize")})),x.renderVN=()=>{const{className:t,loading:l}=e,{bodyHeight:o,topSpaceHeight:r,items:i}=c,u=s.value,d=S.value;return a("div",{ref:p,class:["vxe-list",t?fp.isFunction(t)?t({$list:x}):t:"",{[`size--${u}`]:u,"is--loading":l}]},[a("div",{ref:f,class:"vxe-list--virtual-wrapper",style:d,onScroll:$},[a("div",{class:"vxe-list--y-space",style:{height:o?`${o}px`:""}}),a("div",{ref:g,class:"vxe-list--body",style:{marginTop:r?`${r}px`:""}},n.default?n.default({items:i,$list:x}):[])]),a(Eg,{class:"vxe-list--loading",modelValue:l})])},x},render(){return this.renderVN()}});Object.assign(hv,{install(e){e.component(hv.name,hv)}}),Km.component(hv.name,hv);const vv=s({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>gp.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(e,t){const{slots:n,emit:l}=t,i=fp.uniqueId(),s=wg(e),c=r({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),u=m(),p=m(),h=m(),v={refElem:u},x={xID:i,props:e,context:t,reactData:c,getRefMaps:()=>v};let y={};const w=()=>d().then((()=>{const{transfer:t,placement:n}=e,{panelIndex:l,visiblePanel:o}=c;if(o){const e=p.value,o=h.value;if(o&&e){const r=e.offsetHeight,a=e.offsetWidth,i=o.offsetHeight,s=o.offsetWidth,u=5,d={zIndex:l},{boundingTop:p,boundingLeft:f,visibleHeight:m,visibleWidth:g}=pf(e);let h="bottom";if(t){let e=f,t=p+r;"top"===n?(h="top",t=p-i):n||(t+i+u>m&&(h="top",t=p-i),t<u&&(h="bottom",t=p+r)),e+s+u>g&&(e-=e+s+u-g),e<u&&(e=u),Object.assign(d,{left:`${e}px`,top:`${t}px`,minWidth:`${a}px`})}else"top"===n?(h="top",d.bottom=`${r}px`):n||p+r+i>m&&p-r-i>u&&(h="top",d.bottom=`${r}px`);c.panelStyle=d,c.panelPlacement=h}}return d()}));let C;const S=()=>(c.inited||(c.inited=!0),new Promise((t=>{e.disabled?d((()=>{t()})):(clearTimeout(C),c.isActivated=!0,c.animatVisible=!0,setTimeout((()=>{c.visiblePanel=!0,l("update:modelValue",!0),w(),setTimeout((()=>{t(w())}),40)}),10),c.panelIndex<Hp()&&(c.panelIndex=Bp()))}))),E=()=>(c.visiblePanel=!1,l("update:modelValue",!1),new Promise((e=>{c.animatVisible?C=window.setTimeout((()=>{c.animatVisible=!1,d((()=>{e()}))}),350):d((()=>{e()}))}))),O=t=>{const{disabled:n}=e,{visiblePanel:l}=c,o=h.value;n||l&&(uf(t,o).flag?w():(E(),y.dispatchEvent("hide-panel",{},t)))},T=t=>{const{disabled:n}=e,{visiblePanel:l}=c,o=u.value,r=h.value;n||(c.isActivated=uf(t,o).flag||uf(t,r).flag,l&&!c.isActivated&&(E(),y.dispatchEvent("hide-panel",{},t)))},R=e=>{c.visiblePanel&&(c.isActivated=!1,E(),y.dispatchEvent("hide-panel",{},e))};return y={dispatchEvent(e,t,n){l(e,Object.assign({$pulldown:x,$event:n},t))},isPanelVisible:()=>c.visiblePanel,togglePanel:()=>c.visiblePanel?E():S(),showPanel:S,hidePanel:E},Object.assign(x,y),o((()=>e.modelValue),(e=>{e?S():E()})),d((()=>{bg.on(x,"mousewheel",O),bg.on(x,"mousedown",T),bg.on(x,"blur",R)})),b((()=>{bg.off(x,"mousewheel"),bg.off(x,"mousedown"),bg.off(x,"blur")})),x.renderVN=()=>{const{className:t,popupClassName:l,destroyOnClose:o,transfer:r,disabled:i}=e,{inited:d,isActivated:m,animatVisible:v,visiblePanel:b,panelStyle:y,panelPlacement:w}=c,C=s.value,S=n.default,E=n.header,O=n.footer,T=n.dropdown;return a("div",{ref:u,class:["vxe-pulldown",t?fp.isFunction(t)?t({$pulldown:x}):t:"",{[`size--${C}`]:C,"is--visivle":b,"is--disabled":i,"is--active":m}]},[a("div",{ref:p,class:"vxe-pulldown--content"},S?S({$pulldown:x}):[]),a(g,{to:"body",disabled:!r||!d},[a("div",{ref:h,class:["vxe-table--ignore-clear vxe-pulldown--panel",l?fp.isFunction(l)?l({$pulldown:x}):l:"",{[`size--${C}`]:C,"is--transfer":r,"animat--leave":v,"animat--enter":b}],placement:w,style:y},T?[a("div",{class:"vxe-pulldown--panel-wrapper"},!d||o&&!b&&!v?[]:[E?a("div",{class:"vxe-pulldown--panel-header"},E({$pulldown:x})):f(),a("div",{class:"vxe-pulldown--panel-body"},T({$pulldown:x})),O?a("div",{class:"vxe-pulldown--panel-footer"},O({$pulldown:x})):f()])]:[])])])},x},render(){return this.renderVN()}});Object.assign(vv,{install:function(e){e.component(vv.name,vv)}}),Km.component(vv.name,vv);const bv={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择"},loading:{text:"加载中..."},error:{groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"#",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colVisible:"是否显示",colFixed:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖",insert:"新增"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{zoomIn:"最大化",zoomOut:"还原",close:"关闭"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},formDesign:{widget:{input:"输入框",textarea:"文本域",select:"下拉框"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};Bm({i18n:(e,t)=>fp.toFormatString(fp.get(bv,e),t)});var xv={};const yv=E(O);!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginElement=void 0;var t=yv,l=r(pp),o=r(n);function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=a(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return null==e||""===e}function d(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function p(e,t){return(0,o.default)(e).format(t)}function f(e,t){return e&&t.valueFormat?function(e,t){return(0,o.default)(e,t).date}(e,t.valueFormat):e}function m(e,t,n){return e?p(f(e,t),t.format||n):e}function g(e,t,n,o){return l.default.map(e,(function(e){return m(e,t,o)})).join(n)}function h(e,t,n,l){return(e=m(e,n,l))>=m(t[0],n,l)&&e<=m(t[1],n,l)}function v(e,t,n,o){return l.default.assign({},o,e.props,c({},"modelValue",n))}function b(e,t,n,o){return l.default.assign({},o,e.props,c({},"modelValue",n))}function x(e){return""+(u(e)?"":e)}function y(e,n,l){var o=e.placeholder;return[(0,t.h)("span",{class:"vxe-cell--label"},o&&u(l)?[(0,t.h)("span",{class:"vxe-cell--placeholder"},x((void 0)._t(o)))]:x(l))]}function w(e,t,n,o){var r=e.events,a="update:modelValue",i=function(e){var t="change";switch(e.name){case"ElAutocomplete":t="select";break;case"ElInput":case"ElInputNumber":t="input"}return t}(e),s=i===a,c={};return l.default.objectEach(r,(function(e,n){c[d(n)]=function(){for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];e.apply(void 0,[t].concat(l))}})),n&&(c[d(a)]=function(e){n(e),r&&r[a]&&r[a](t,e),s&&o&&o(e)}),!s&&o&&(c[d(i)]=function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];o.apply(void 0,n),r&&r[i]&&r[i].apply(r,[t].concat(n))}),c}function C(e,t){var n=t.$table,o=t.row,r=t.column;return w(e,t,(function(e){l.default.set(o,r.field,e)}),(function(){n.updateStatus(t)}))}function S(e,t,n,l){return w(e,t,(function(e){n.data=e}),l)}function E(e,t){var n=t.$form,o=t.data,r=t.field;return w(e,t,(function(e){l.default.set(o,r,e)}),(function(){n.updateStatus(t)}))}function O(e,t,n,o){var r=n[e];t&&n.length>e&&l.default.each(t,(function(t){t.value===r&&(o.push(t.label),O(++e,t.children,n,o))}))}function T(e,t){var n,o=e.options,r=void 0===o?[]:o,a=e.optionGroups,i=e.props,s=void 0===i?{}:i,c=e.optionProps,d=void 0===c?{}:c,p=e.optionGroupProps,f=void 0===p?{}:p,m=t.$table,g=t.rowid,h=t.row,v=t.column,b=s.filterable,x=s.multiple,y=d.label||"label",w=d.value||"value",C=f.options||"options",S=l.default.get(h,v.field),E=v.id;if(b){var O=m.internalData.fullAllDataRowIdData[g];if(O&&((n=O.cellData)||(n=O.cellData={})),O&&n[E]&&n[E].value===S)return n[E].label}if(!u(S)){var T=l.default.map(x?S:[S],a?function(e){for(var t,n=0;n<a.length&&!(t=l.default.find(a[n][C],(function(t){return t[w]===e})));n++);return t?t[y]:e}:function(e){var t=l.default.find(r,(function(t){return t[w]===e}));return t?t[y]:e}).join(", ");return n&&r&&r.length&&(n[E]={value:S,label:T}),T}return""}function R(e,t){var n=e.props,o=void 0===n?{}:n,r=t.row,a=t.column,i=l.default.get(r,a.field)||[],s=[];return O(0,o.options,i,s),(!1===o.showAllLevels?s.slice(s.length-1,s.length):s).join(" ".concat(o.separator||"/"," "))}function M(e,t){var n=e.props,o=void 0===n?{}:n,r=t.row,a=t.column,i=o.rangeSeparator,s=void 0===i?"-":i,c=l.default.get(r,a.field);switch(o.type){case"week":c=m(c,o,"YYYYwWW");break;case"month":c=m(c,o,"YYYY-MM");break;case"year":c=m(c,o,"YYYY");break;case"dates":c=g(c,o,", ","YYYY-MM-DD");break;case"daterange":c=g(c,o," ".concat(s," "),"YYYY-MM-DD");break;case"datetimerange":c=g(c,o," ".concat(s," "),"YYYY-MM-DD HH:ss:mm");break;case"monthrange":c=g(c,o," ".concat(s," "),"YYYY-MM");break;default:c=m(c,o,"YYYY-MM-DD")}return c}function k(e,t){var n=e.props,o=void 0===n?{}:n,r=t.row,a=t.column,i=o.isRange,s=o.format,c=void 0===s?"hh:mm:ss":s,u=o.rangeSeparator,d=void 0===u?"-":u,m=l.default.get(r,a.field);return m&&i&&(m=l.default.map(m,(function(e){return p(f(e,o),c)})).join(" ".concat(d," "))),p(f(m,o),c)}function D(e){return function(n,o){var r=o.row,a=o.column,i=n.name,c=n.attrs,u=l.default.get(r,a.field);return[(0,t.h)((0,t.resolveComponent)(i),s(s(s({},c),v(n,0,u,e)),C(n,o)))]}}function I(e,n){var l=e.attrs;return[(0,t.h)((0,t.resolveComponent)("el-button"),s(s(s({},l),v(e,0,null)),w(e,n)),j(e.content))]}function $(e,t){var n=e.children;return n?n.map((function(e){return I(e,t)[0]})):[]}function F(e){return function(n,l){var o=l.column,r=n.name,a=n.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},o.filters.map((function(o,i){var c=o.data;return(0,t.h)((0,t.resolveComponent)(r),s(s(s({key:i},a),v(n,0,c,e)),S(n,l,o,(function(){N(l,!!o.data,o)}))))})))]}}function N(e,t,n){e.$panel.changeOption(null,t,n)}function L(e){var t=e.option,n=e.row,o=e.column,r=t.data,a=l.default.get(n,o.field);return l.default.toValueString(a).indexOf(r)>-1}function A(e){var t=e.option,n=e.row,o=e.column,r=t.data;return l.default.get(n,o.field)===r}function P(e,n){var o=n.label||"label",r=n.value||"value";return l.default.map(e,(function(e,n){return(0,t.h)((0,t.resolveComponent)("el-option"),{key:n,value:e[r],label:e[o],disabled:e.disabled})}))}function j(e){return[x(e)]}function V(e){return function(n,o){var r=o.data,a=o.field,i=n.name,c=n.attrs,u=l.default.get(r,a);return[(0,t.h)((0,t.resolveComponent)(i),s(s(s({},c),b(n,0,u,e)),E(n,o)))]}}function B(e,n){var l=e.attrs,o=b(e,0,null);return[(0,t.h)((0,t.resolveComponent)("el-button"),s(s(s({},l),o),w(e,n)),{default:function(){return j(e.content||o.content)}})]}function H(e,t){var n=e.children;return n?n.map((function(e){return B(e,t)[0]})):[]}function _(e){return function(t){var n=t.row,o=t.column,r=t.options;return r&&r.original?l.default.get(n,o.field):e(o.editRender||o.cellRender,t)}}function z(){return function(e,n){var o=e.name,r=e.options,a=void 0===r?[]:r,i=e.optionProps,c=void 0===i?{}:i,u=e.attrs,d=n.data,p=n.field,f=c.label||"label",m=c.value||"value",g=l.default.get(d,p);return[(0,t.h)((0,t.resolveComponent)("".concat(o,"Group")),s(s(s({},u),b(e,0,g)),E(e,n)),{default:function(){return a.map((function(e,n){return(0,t.h)((0,t.resolveComponent)(o),{key:n,label:e[m],disabled:e.disabled},{default:function(){return j(e[f])}})}))}})]}}function W(e,t,n){for(var l,o=e.target;o&&o.nodeType&&o!==document;){if(n&&o.className&&o.className.split&&o.className.split(" ").indexOf(n)>-1)l=o;else if(o===t)return{flag:!n||!!l,container:t,targetElem:l};o=o.parentNode}return{flag:!1}}function q(e){var t=e.$event,n=document.body;if(W(t,n,"el-autocomplete-suggestion").flag||W(t,n,"el-select-dropdown").flag||W(t,n,"el-cascader__dropdown").flag||W(t,n,"el-cascader-menus").flag||W(t,n,"el-time-panel").flag||W(t,n,"el-picker-panel").flag||W(t,n,"el-color-dropdown").flag)return!1}var Y=e.VXETablePluginElement={install:function(e){/^(4)\./.test(e.version)||/v4/i.test(e.v)||console.error("[vxe-table-plugin-element 4.x] Version vxe-table 4.x is required"),e.renderer.mixin({ElAutocomplete:{autofocus:"input.el-input__inner",renderDefault:D(),renderEdit:D(),renderFilter:F(),defaultFilterMethod:A,renderItemContent:V()},ElInput:{autofocus:"input.el-input__inner",renderDefault:D(),renderEdit:D(),renderFilter:F(),defaultFilterMethod:L,renderItemContent:V()},ElInputNumber:{autofocus:"input.el-input__inner",renderDefault:D(),renderEdit:D(),renderFilter:F(),defaultFilterMethod:L,renderItemContent:V()},ElSelect:{renderEdit:function(e,n){var o=e.options,r=void 0===o?[]:o,a=e.optionGroups,i=e.optionProps,c=void 0===i?{}:i,u=e.optionGroupProps,d=void 0===u?{}:u,p=n.row,f=n.column,m=e.attrs,g=v(e,0,l.default.get(p,f.field)),h=C(e,n);if(a){var b=d.options||"options",x=d.label||"label";return[(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({},m),g),h),{default:function(){return l.default.map(a,(function(e,n){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{key:n,label:e[x]},{default:function(){return P(e[b],c)}})}))}})]}return[(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({},g),m),h),{default:function(){return P(r,c)}})]},renderCell:function(e,t){return y(e,0,T(e,t))},renderFilter:function(e,n){var o=e.options,r=void 0===o?[]:o,a=e.optionGroups,i=e.optionProps,c=void 0===i?{}:i,u=e.optionGroupProps,d=void 0===u?{}:u,p=d.options||"options",f=d.label||"label",m=n.column,g=e.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},a?m.filters.map((function(o,r){var i=o.data,u=v(e,0,i);return(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({key:r},g),u),S(e,n,o,(function(){N(n,u.multiple?o.data&&o.data.length>0:!l.default.eqNull(o.data),o)}))),{default:function(){return l.default.map(a,(function(e,n){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{key:n,label:e[f]},{default:function(){return P(e[p],c)}})}))}})})):m.filters.map((function(o,a){var i=o.data,u=v(e,0,i);return(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({key:a},g),u),S(e,n,o,(function(){N(n,u.multiple?o.data&&o.data.length>0:!l.default.eqNull(o.data),o)}))),{default:function(){return P(r,c)}})})))]},defaultFilterMethod:function(e){var t=e.option,n=e.row,o=e.column,r=t.data,a=o.field,i=o.filterRender.props,s=void 0===i?{}:i,c=l.default.get(n,a);return s.multiple?l.default.isArray(c)?l.default.includeArrays(c,r):r.indexOf(c)>-1:c==r},renderItemContent:function(e,n){var o=e.options,r=void 0===o?[]:o,a=e.optionGroups,i=e.optionProps,c=void 0===i?{}:i,u=e.optionGroupProps,d=void 0===u?{}:u,p=n.data,f=n.field,m=e.attrs,g=b(e,0,l.default.get(p,f)),h=E(e,n);if(a){var v=d.options||"options",x=d.label||"label";return[(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({},m),g),h),{default:function(){return l.default.map(a,(function(e,n){return(0,t.h)((0,t.resolveComponent)("el-option-group"),{label:e[x],key:n},{default:function(){return P(e[v],c)}})}))}})]}return[(0,t.h)((0,t.resolveComponent)("el-select"),s(s(s({},m),g),h),{default:function(){return P(r,c)}})]},exportMethod:_(T)},ElCascader:{renderEdit:D(),renderCell:function(e,t){return y(e,0,R(e,t))},renderItemContent:V(),exportMethod:_(R)},ElDatePicker:{renderEdit:D(),renderCell:function(e,t){return y(e,0,M(e,t))},renderFilter:function(e,n){var l=n.column,o=e.name,r=e.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},l.filters.map((function(l,a){var i=l.data;return(0,t.h)((0,t.resolveComponent)(o),s(s(s({key:a},r),v(e,0,i)),S(e,n,l,(function(){N(n,!!l.data,l)}))))})))]},defaultFilterMethod:function(e){var t=e.option,n=e.row,o=e.column,r=t.data,a=o.filterRender.props,i=void 0===a?{}:a,s=l.default.get(n,o.field);if(r)switch(i.type){case"daterange":return h(s,r,i,"YYYY-MM-DD");case"datetimerange":return h(s,r,i,"YYYY-MM-DD HH:ss:mm");case"monthrange":return h(s,r,i,"YYYY-MM");default:return s===r}return!1},renderItemContent:V(),exportMethod:_(M)},ElTimePicker:{renderEdit:D(),renderCell:function(e,t){return y(e,0,k(e,t))},renderItemContent:V(),exportMethod:_(k)},ElTimeSelect:{renderEdit:D(),renderItemContent:V()},ElRate:{renderDefault:D(),renderEdit:D(),renderFilter:F(),defaultFilterMethod:A,renderItemContent:V()},ElSwitch:{renderDefault:D(),renderEdit:D(),renderFilter:function(e,n){var o=n.column,r=e.name,a=e.attrs;return[(0,t.h)("div",{class:"vxe-table--filter-element-wrapper"},o.filters.map((function(o,i){var c=o.data;return(0,t.h)((0,t.resolveComponent)(r),s(s(s({key:i},a),v(e,0,c)),S(e,n,o,(function(){N(n,l.default.isBoolean(o.data),o)}))))})))]},defaultFilterMethod:A,renderItemContent:V()},ElSlider:{renderDefault:D(),renderEdit:D(),renderFilter:F(),defaultFilterMethod:A,renderItemContent:V()},ElRadio:{renderItemContent:z()},ElCheckbox:{renderItemContent:z()},ElButton:{renderDefault:I,renderItemContent:B},ElButtons:{renderDefault:$,renderItemContent:H}}),e.interceptor.add("event.clearFilter",q),e.interceptor.add("event.clearEdit",q),e.interceptor.add("event.clearAreas",q),e.interceptor.add("event.clearActived",q)}};"undefined"!=typeof window&&window.VXETable&&window.VXETable.use&&window.VXETable.use(Y),e.default=Y}(xv),e("a",l(xv))}}}));
