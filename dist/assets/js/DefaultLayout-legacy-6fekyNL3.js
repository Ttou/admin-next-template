System.register(["./chunk-libs-legacy-Zu1fauZh.js","./index-legacy-OczIo9lg.js"],(function(e,t){"use strict";var n,a,l,o,i,s,r,c,u,d,m,_,p,h,b,f,g,y,v,x,k,C,M,w,T,I,$,O,S,A,H,R,j,F,D,L,W,G,z,J,P,V,q,K,Z,Q,B,N,U,E,Y,X,ee,te,ne,ae,le;return{setters:[e=>{n=e.d,a=e.f,l=e.n,o=e.p,i=e.am,s=e.an,r=e.B,c=e.b0,u=e.b1,d=e.b2,m=e.I,_=e.q,p=e.A,h=e.aX,b=e.aY,f=e.s,g=e.aq,y=e.b3,v=e.b4,x=e.v,k=e.F,C=e.b5,M=e.r,w=e.b6,T=e.ak,I=e.E,$=e.b7,O=e.b8,S=e.b9,A=e.ba,H=e.g,R=e.bb,j=e.ar,F=e.bc,D=e.bd,L=e.ah,W=e.G,G=e.h,z=e.aP,J=e.aO,P=e.be,V=e.aT,q=e.bf,K=e.bg,Z=e.bh,Q=e.bi,B=e.bj,N=e.bk,U=e.bl},e=>{E=e.j,Y=e._,X=e.k,ee=e.u,te=e.C,ne=e.i,ae=e.g,le=e.l}],execute:function(){var t=document.createElement("style");t.textContent=".logo__zQIJV{display:flex;justify-content:center;align-items:center;height:var(--side-logo-height)}.logo__zQIJV .logoIcon__79ZJG{transform:scale(2)}.menu__-A-2y{border-right:none;min-height:calc(100vh - var(--side-logo-height))}.menu__-A-2y .iconify{margin-right:12px;font-size:18px}.menu__-A-2y.el-menu--collapse{width:var(--menu-collapse-width)}.menu__-A-2y.el-menu--collapse .iconify{margin:0}.menu__-A-2y.el-menu--collapse .el-sub-menu__title{justify-content:center;padding:0}.menu__-A-2y>.el-menu-item:hover,.menu__-A-2y .el-sub-menu__title:hover{background-color:var(--menu-hover)!important}.menu__-A-2y .is-active>.el-sub-menu__title{color:var(--sub-menu-active-text)!important}.menu__-A-2y .el-sub-menu .el-menu .el-sub-menu__title,.menu__-A-2y .el-sub-menu .el-menu-item{background-color:var(--sub-menu-bg)!important}.menu__-A-2y .nest-menu .el-sub-menu>.el-sub-menu__title:hover,.menu__-A-2y .el-sub-menu .el-menu-item:hover{background-color:var(--sub-menu-hover)!important}.menu__-A-2y.el-menu--collapse .el-menu-item>.el-menu-tooltip__trigger{justify-content:center}.el-menu--popup .el-sub-menu>.el-sub-menu__title:hover{background-color:var(--sub-menu-hover)!important}.avatarWrapper__JOIUc{display:flex;align-items:center;outline:none}.avatarWrapper__JOIUc .avatar__dQh1A{width:24px;height:24px}.avatarDropdownMenu__rO4q8 svg{margin-right:5px}.trigger__j-CRM{margin-right:20px;font-size:18px;cursor:pointer;transition:color .3s}.navbar__aHvZM{display:flex;justify-content:space-between;align-items:center;height:100%}.navbar__aHvZM .left__Y6QG9{display:flex;align-items:center;height:100%}.navbar__aHvZM .right__HOaOp{display:flex;align-items:center;height:100%;margin-right:-15px}.navbar__aHvZM .right__HOaOp .el-space__item{min-width:24px;cursor:pointer;text-align:center;line-height:48px}.navbar__aHvZM .right__HOaOp .el-space__item:hover{background-color:rgba(0,0,0,.024)}.tabbar__r3F2G{display:flex;justify-content:space-between;height:42px;padding:6px 12px;background-color:#f5f7f9;transition:all .2s ease;z-index:50}.tabbar__r3F2G .el-tabs__active-bar{display:none}.tabbar__r3F2G .el-tabs__nav-wrap:after{display:none}.tabbar__r3F2G .el-tabs__item{display:inline-flex;justify-content:center;align-items:center;height:32px;margin:0 6px 0 0;padding:5px 16px!important;background-color:#fff;border-radius:3px;border:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tabbar__r3F2G .tabsMenu__tTAkh{flex-grow:0;flex-shrink:0;width:30px;height:30px;line-height:30px;text-align:center;background-color:#fff;border-radius:2px;cursor:pointer;outline:none}.tabsDropdownMenu__iMqwj svg{margin-right:5px}.layout__LtIF8{width:100%;height:100%}.layout__LtIF8 .layoutSide__0jGs6{position:fixed;overflow:hidden;height:100vh;left:0;background-color:var(--menu-bg);z-index:100;transition:all .4s}.layout__LtIF8 .layoutMain__gTJn4{background-color:#fff;transition:all .4s;height:100%}.layout__LtIF8 .layoutHeader__zFA2K{padding:0 12px;background-color:#fff;z-index:100}.layout__LtIF8 .layoutContent__d0CjI{padding:12px;overflow-x:hidden}.layout__LtIF8 .page+.is-horizontal{display:none}\n",document.head.appendChild(t);const oe=n({name:"Content",setup(){const e=E();return{cachedTabs:a((()=>e.cachedTabs))}}}),ie=Y(oe,[["render",function(e,t,n,a,m,_){const p=l("router-view");return o(),i(p,null,{default:s((({Component:t,route:n})=>[r(d,{name:"fade-slide",mode:"out-in",appear:""},{default:s((()=>[(o(),i(c,{max:20,include:e.cachedTabs},[(o(),i(u(t),{key:n.fullPath}))],1032,["include"]))])),_:2},1024)])),_:1})}]]),se=n({name:"Logo",components:{Icon:m}}),re=Y(se,[["render",function(e,t,n,a,i,s){const c=l("Icon");return o(),_("div",{class:p(e.$style.logo)},[r(c,{class:p(e.$style.logoIcon),icon:"@local:custom:logo"},null,8,["class"])],2)}],["__cssModules",{$style:{logo:"logo__zQIJV",logoIcon:"logoIcon__79ZJG"}}]]),ce=n({name:"MainMenu",components:{Icon:m},props:{item:{type:Object,required:!0}},setup(e){const t=h(),n=b();return{show:a((()=>!!e.item.meta&&!e.item.meta.hidden)),handleJump:function(){t.path!==e.item.path&&n.push(e.item.path).catch((e=>{console.error(e)}))}}}}),ue=Y(ce,[["render",function(e,t,n,a,r,c){const u=l("Icon"),d=v;return e.show?(o(),i(d,{key:0,index:e.item.path,onClick:e.handleJump},{title:s((()=>[f("span",null,g(e.item.meta.title),1)])),default:s((()=>[e.item.meta.icon?(o(),i(u,{key:0,icon:e.item.meta.icon},null,8,["icon"])):y("",!0)])),_:1},8,["index","onClick"])):y("",!0)}]]),de=n({name:"SubMenu",components:{Icon:m,MainMenu:ue},props:{item:{type:Object,required:!0}},setup:e=>({onlyOneChild:a((()=>!(1!==e.item.children.length||e.item.meta&&e.item.meta.alwaysShow)))})}),me=n({name:"Menu",components:{MainMenu:ue,SubMenu:Y(de,[["render",function(e,t,n,a,r,c){const u=l("MainMenu"),d=l("Icon"),m=l("sub-menu",!0),p=C;return e.onlyOneChild?(o(),i(u,{key:0,item:e.item.children[0]},null,8,["item"])):(o(),i(p,{key:1,index:e.item.path},{title:s((()=>[e.item.meta.icon?(o(),i(d,{key:0,icon:e.item.meta.icon},null,8,["icon"])):y("",!0),f("span",null,g(e.item.meta.title),1)])),default:s((()=>[(o(!0),_(k,null,x(e.item.children,(e=>(o(),_(k,{key:e.path},[e.children?(o(),i(m,{key:0,item:e},null,8,["item"])):(o(),i(u,{key:1,item:e},null,8,["item"]))],64)))),128))])),_:1},8,["index"]))}]])},setup(){const e=M({list:[]}),t=h(),n=X(),l=ee(),o=a((()=>w(n.routes))),i=a((()=>l.$state)),s=a((()=>t.path));function r(e,t=""){for(const n of e)if(n.path=t+(n.path.startsWith("/")?n.path:`/${n.path}`),delete n.component,delete n.redirect,n.children){if(0===n.children.length)continue;r(n.children,n.path)}return e}function c(){const t=r(o.value);e.list=t}return T((()=>{c()})),{...I(e),CSS_VARS:te,activeMenu:s,setting:i}}}),_e=Y(me,[["render",function(e,t,n,a,r,c){const u=l("SubMenu"),d=l("MainMenu"),m=$;return o(),i(m,{mode:"vertical",class:p(e.$style.menu),defaultActive:e.activeMenu,backgroundColor:e.CSS_VARS.menuBg,textColor:e.CSS_VARS.menuText,activeTextColor:e.CSS_VARS.menuActiveText,collapse:!e.setting.sideOpened,collapseTransition:!1,uniqueOpened:""},{default:s((()=>[(o(!0),_(k,null,x(e.list,(e=>(o(),_(k,{key:e.path},[e.children?(o(),i(u,{key:0,item:e},null,8,["item"])):(o(),i(d,{key:1,item:e},null,8,["item"]))],64)))),128))])),_:1},8,["class","defaultActive","backgroundColor","textColor","activeTextColor","collapse"])}],["__cssModules",{$style:{menu:"menu__-A-2y"}}]]),pe=n({name:"Avatar",components:{Icon:m},setup(){const e=M({commandMap:{logout:()=>{a.confirm("确认退出登录？","提示",{type:"warning"}).then((async()=>{await n.logout(),t.replace({path:"/login"})})).catch((()=>{}))}}}),t=b(),n=ne(),{$msgbox:a}=ae();return{handleCommand:function(t){e.commandMap[t]()}}}}),he={avatarWrapper:"avatarWrapper__JOIUc",avatar:"avatar__dQh1A",avatarDropdownMenu:"avatarDropdownMenu__rO4q8"},be=f("span",null,"退出登录",-1),fe=Y(pe,[["render",function(e,t,n,a,c,u){const d=l("Icon"),m=O,_=S,h=A;return o(),i(h,{onCommand:e.handleCommand},{default:s((()=>[f("div",{class:p(e.$style.avatarWrapper)},[r(d,{class:p(e.$style.avatar),icon:"@local:custom:avatar",inline:!0},null,8,["class"])],2)])),dropdown:s((()=>[r(_,{class:p(e.$style.avatarDropdownMenu)},{default:s((()=>[r(m,{command:"logout"},{default:s((()=>[r(d,{icon:"@local:icon-park-outline:logout",inline:!0}),be])),_:1})])),_:1},8,["class"])])),_:1},8,["onCommand"])}],["__cssModules",{$style:he}]]),ge=n({name:"Breadcrumb",setup(){const e=M({breadcrumbs:[]}),t=h();function n(){const n=t.matched,a=[];for(const e of n)"/"!==e.path&&a.push({path:e.path.startsWith("/")?e.path:`/${e.path}`,title:e.meta?.title||"-"});e.breadcrumbs=a}return H((()=>t.path),(e=>{e.startsWith("/redirect/")||n()})),T((()=>{n()})),{...I(e)}}}),ye=Y(ge,[["render",function(e,t,n,a,l,r){const c=F,u=R;return o(),i(u,{class:p(e.$style.breadcrumb)},{default:s((()=>[(o(!0),_(k,null,x(e.breadcrumbs,((t,n)=>(o(),_(k,{key:t.path},[n===e.breadcrumbs.length-1?(o(),i(c,{key:0},{default:s((()=>[j(g(t.title),1)])),_:2},1024)):(o(),i(c,{key:1,to:{path:t.path}},{default:s((()=>[j(g(t.title),1)])),_:2},1032,["to"]))],64)))),128))])),_:1},8,["class"])}],["__cssModules",{$style:{breadcrumb:"breadcrumb__hfMdT"}}]]),ve=n({name:"ScreenFull",components:{Icon:m},setup(){const{isFullscreen:e,isSupported:t,toggle:n}=D(),{$message:l}=ae();return{icon:a((()=>e.value?"@local:icon-park-outline:off-screen":"@local:icon-park-outline:full-screen")),handleClick:function(){t?n():l.warning("浏览器不支持全屏")}}}}),xe=Y(ve,[["render",function(e,t,n,a,i,s){const c=l("Icon");return o(),_("div",{title:"全屏",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[r(c,{icon:e.icon,inline:!0},null,8,["icon"])])}]]),ke=n({name:"Trigger",components:{Icon:m},setup(){const e=ee(),t=a((()=>!e.sideOpened)),n=a((()=>t.value?"@local:icon-park-outline:menu-unfold":"@local:icon-park-outline:menu-fold"));return{collapsed:t,icon:n,handleClick:function(){e.change({key:"sideOpened",value:t.value})}}}}),Ce=n({name:"Navbar",components:{Avatar:fe,Breadcrumb:ye,ScreenFull:xe,Trigger:Y(ke,[["render",function(e,t,n,a,s,r){const c=l("Icon");return o(),i(c,{class:p(e.$style.trigger),icon:e.icon,onClick:e.handleClick},null,8,["class","icon","onClick"])}],["__cssModules",{$style:{trigger:"trigger__j-CRM"}}]])}}),Me=Y(Ce,[["render",function(e,t,n,a,i,c){const u=l("Trigger"),d=l("Breadcrumb"),m=l("ScreenFull"),h=l("Avatar"),b=L;return o(),_("div",{class:p(e.$style.navbar)},[f("div",{class:p(e.$style.left)},[r(u),r(d)],2),f("div",{class:p(e.$style.right)},[r(b,{size:15},{default:s((()=>[r(m),r(h)])),_:1})],2)],2)}],["__cssModules",{$style:{navbar:"navbar__aHvZM",left:"left__Y6QG9",right:"right__HOaOp"}}]]),we=n({name:"Tabbar",components:{Icon:m},setup(){const e=M({activeKey:"",commandMap:{refresh:()=>{l.delCachedTab(t).then((()=>{const{fullPath:e}=t;W((()=>{n.replace({path:"/redirect"+e})}))}))},closeLeft:()=>{l.delLeftTabs(t)},closeRight:()=>{l.delRightTabs(t)},closeOther:()=>{l.delOthersTabs(t)},closeAll:()=>{l.delAllTabs().then((({visitedTabs:e})=>{d(e)}))}}}),t=h(),n=b(),l=E(),o=ee(),i=a((()=>l.visitedTabs)),s=a((()=>0===i.value.findIndex((t=>t.fullPath===e.activeKey)))),r=a((()=>i.value.findIndex((t=>t.fullPath===e.activeKey))===i.value.length-1)),c=a((()=>i.value.length<=1));function u(){const{name:n,path:a,fullPath:o}=t;return n&&-1===[le.LOGIN,le.ERROR].indexOf(a)&&(l.addTab(t),e.activeKey=o),!1}function d(e){const a=e.slice(-1)[0];a?n.push(a.fullPath):t.name===o.homeRoute.name?n.replace({path:"/redirect"+t.fullPath}):n.replace("/")}return H((()=>t.path),(()=>{u()})),G((()=>{u()})),{...I(e),visitedTabs:i,closeLeftDisabled:s,closeRightDisabled:r,closeOtherDisabled:c,handleCloseTab:function(t){const n=i.value.find((e=>e.fullPath===t));l.delTab(n).then((({visitedTabs:t})=>{(function(t){return e.activeKey===t.fullPath})(n)&&d(t)}))},handleSelectTab:function(e){n.push(e)},handleCommand:function(t){e.commandMap[t]()}}}}),Te=Y(we,[["render",function(e,t,n,a,c,u){const d=J,m=z,h=l("Icon"),b=O,g=S,y=A;return o(),_("div",{class:p(e.$style.tabbar)},[r(m,{modelValue:e.activeKey,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeKey=t),onTabChange:e.handleSelectTab,onTabRemove:e.handleCloseTab},{default:s((()=>[(o(!0),_(k,null,x(e.visitedTabs,(e=>(o(),i(d,{key:e.fullPath,name:e.fullPath,label:e.meta.title,closable:""},null,8,["name","label"])))),128))])),_:1},8,["modelValue","onTabChange","onTabRemove"]),r(y,{placement:"bottom-end",onCommand:e.handleCommand},{default:s((()=>[f("div",{class:p(e.$style.tabsMenu)},[r(h,{icon:"@local:icon-park-outline:down",inline:!0})],2)])),dropdown:s((()=>[r(g,{class:p(e.$style.tabsDropdownMenu)},{default:s((()=>[r(b,{command:"refresh"},{default:s((()=>[r(h,{icon:"@local:icon-park-outline:redo",inline:!0}),j(" 刷新页面 ")])),_:1}),r(b,{command:"closeLeft",disabled:e.closeLeftDisabled,divided:""},{default:s((()=>[r(h,{icon:"@local:icon-park-outline:to-left",inline:!0}),j(" 关闭左侧 ")])),_:1},8,["disabled"]),r(b,{command:"closeRight",disabled:e.closeRightDisabled},{default:s((()=>[r(h,{icon:"@local:icon-park-outline:to-right",inline:!0}),j(" 关闭右侧 ")])),_:1},8,["disabled"]),r(b,{command:"closeOther",disabled:e.closeOtherDisabled,divided:""},{default:s((()=>[r(h,{icon:"@local:icon-park-outline:close",inline:!0}),j(" 关闭其它 ")])),_:1},8,["disabled"]),r(b,{command:"closeAll"},{default:s((()=>[r(h,{icon:"@local:icon-park-outline:close-one",inline:!0}),j(" 关闭所有 ")])),_:1})])),_:1},8,["class"])])),_:1},8,["onCommand"])],2)}],["__cssModules",{$style:{tabbar:"tabbar__r3F2G",tabsMenu:"tabsMenu__tTAkh",tabsDropdownMenu:"tabsDropdownMenu__iMqwj"}}]]),[Ie,$e]=P(),[Oe,Se]=P(),Ae=n({name:"DefaultLayout",components:{Content:ie,Logo:re,Menu:_e,Navbar:Me,Tabbar:Te,DefineHeader:Ie,ReuseHeader:$e,DefineContent:Oe,ReuseContent:Se},setup(){const e=ee(),t=a((()=>e.$state)),n=a((()=>t.value.sideOpened?t.value.sideOpenedWidth:t.value.sideClosedWidth)),l=a((()=>{const e={};return t.value.sideOpened?(e.marginLeft=t.value.sideOpenedWidth,e.width=`calc(100vw - ${t.value.sideOpenedWidth})`):(e.marginLeft=t.value.sideClosedWidth,e.width=`calc(100vw - ${t.value.sideClosedWidth})`),e})),o=a((()=>{const e={height:te.headerHeight};return t.value.fixedHeader&&(e.position="sticky",e.top="0px"),e})),i=a((()=>{const e={};return t.value.fixedHeader&&(e.position="sticky",e.top=te.headerHeight),e}));return{setting:t,asideWidth:n,mainStyle:l,headerStyle:o,tabbarStyle:i}}});e("default",Y(Ae,[["render",function(e,t,n,a,c,u){const d=l("Navbar"),m=Z,h=l("DefineHeader"),b=l("Content"),f=Q,g=l("DefineContent"),y=l("Logo"),v=l("Menu"),x=B,C=N,M=l("ReuseHeader"),w=l("Tabbar"),T=l("ReuseContent"),I=U;return o(),_(k,null,[r(h,null,{default:s((()=>[r(m,{class:p(e.$style.layoutHeader),style:V(e.headerStyle)},{default:s((()=>[r(d)])),_:1},8,["class","style"])])),_:1}),r(g,null,{default:s((()=>[r(f,{class:p(e.$style.layoutContent)},{default:s((()=>[r(b)])),_:1},8,["class"])])),_:1}),r(I,{class:p(e.$style.layout)},{default:s((()=>[r(C,{class:p(e.$style.layoutSide),width:e.asideWidth},{default:s((()=>[r(y),r(x,null,{default:s((()=>[r(v)])),_:1})])),_:1},8,["class","width"]),e.setting.fixedHeader?(o(),i(I,{key:0,class:p(e.$style.layoutMain),style:V(e.mainStyle),direction:"vertical"},{default:s((()=>[r(M),q(r(w,{style:V(e.tabbarStyle)},null,8,["style"]),[[K,e.setting.tabbar]]),r(x,{wrapClass:"page"},{default:s((()=>[r(T)])),_:1})])),_:1},8,["class","style"])):(o(),i(I,{key:1,class:p(e.$style.layoutMain),style:V(e.mainStyle),direction:"vertical"},{default:s((()=>[r(x,{wrapClass:"page"},{default:s((()=>[r(M),q(r(w,{style:V(e.tabbarStyle)},null,8,["style"]),[[K,e.setting.tabbar]]),r(T)])),_:1})])),_:1},8,["class","style"]))])),_:1},8,["class"])],64)}],["__cssModules",{$style:{layout:"layout__LtIF8",layoutSide:"layoutSide__0jGs6",layoutMain:"layoutMain__gTJn4",layoutHeader:"layoutHeader__zFA2K",layoutContent:"layoutContent__d0CjI"}}]]))}}}));
