System.register(["./chunk-libs-legacy-LiuIcfOj.js","./index-legacy-FDjTlXrX.js","./util-legacy-QxogZ_D_.js"],(function(e,t){"use strict";var i,a,r,n,o,l,d,s,u,c,f,g,m,p,h,y,v,b,x,R,k,C,P,H,S,w;return{setters:[e=>{i=e.J,a=e.f,r=e.h,n=e.aR,o=e.r,l=e.aS,d=e.t,s=e.E,u=e.d,c=e.n,f=e.p,g=e.q,m=e.B,p=e.an,h=e.ar,y=e.z,v=e.aT,b=e.R},e=>{x=e.d,R=e.u,k=e.T,C=e.e,P=e.f,H=e.h,S=e._},e=>{w=e.g}],execute:function(){const t={getList:e=>x.get("/demo/list",{params:e})};function z(e){const t=i(0),n=a((()=>t.value+"px")),o=R();return r((()=>{!function(){const i=document.querySelector(".el-scrollbar__wrap.page");t.value=i.scrollHeight-(o.fixedHeader?24:114)-(e?.extraHeight||0)}()})),{pageHeight:t,pageHeightPx:n}}function I(){const e=o({gridConfig:{id:w(),showOverflow:!0,border:!0,loading:!1,keepSource:!0,height:"auto",resizeConfig:{refreshDelay:10},toolbarConfig:{perfect:!0,custom:!0,refresh:!0,zoom:!0,slots:{buttons:"toolbar_buttons"}},editConfig:{trigger:"click",showStatus:!0},customConfig:{storage:!0},formConfig:{items:[{title:"账号",field:"account",itemRender:{name:k.Input,props:{placeholder:"请输入"}}},{title:"昵称",field:"nickname",itemRender:{name:k.Input,props:{placeholder:"请输入"}}},{title:"角色",field:"role",itemRender:{name:k.Select,options:[{label:"admin",value:"admin"},{label:"normal",value:"normal"}],props:{placeholder:"请选择"}}},{title:"状态",field:"status",itemRender:{name:k.Select,options:[{label:"禁用",value:"0"},{label:"启用",value:"1"}],props:{placeholder:"请选择"}}},{title:"时间",field:"date",itemRender:{name:k.DatePicker,props:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",format:"YYYY-MM-DD HH:mm:ss"}}},{itemRender:{name:C.FormItemBtns}}]},columns:[{type:"checkbox",width:50},{title:"ID",field:"id"},{title:"账号",field:"account"},{title:"邮箱",field:"email"},{title:"昵称",field:"nickname",editRender:{name:P.Input}},{title:"角色",field:"role"},{title:"状态",field:"status",editRender:{name:P.Select,options:[{label:"禁用",value:"0"},{label:"启用",value:"1"}]}},{title:"备注",field:"remark",editRender:{name:P.Input}},{title:"创建时间",field:"createTs",formatter:H.Date}],pagerConfig:{background:!0,layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],pageSize:15},proxyConfig:{seq:!0,form:!0,props:{result:"content",total:"total"},ajax:{query:async({page:e,form:i})=>(i.date&&(i.start=i.date[0],i.end=i.date[1],i=l(i,["date"])),await t.getList({pageSize:e.pageSize,current:e.currentPage,...i}))}}}}),a=function(e){const t=i();function a(){e.value.loading=!0}function r(){e.value.loading=!1}return{gridRef:t,updateFormItem:function(t){const i=e.value.formConfig?.items?.find((e=>e.field===t.field));n(i,t.key,t.value)},showLoading:a,hideLoading:r,refresh:async function(e){try{a(),await(e?.()),await(t.value?.commitProxy("query"))}finally{r()}}}}(d(e,"gridConfig"));return{...s(e),gridExtHook:a,handleCustomRefresh:function(){a.refresh()}}}const _=u({setup(){const{gridExtHook:e,...t}=I(),{pageHeightPx:i}=z();return{...t,gridRef:e.gridRef,pageHeightPx:i}}});e("default",S(_,[["render",function(e,t,i,a,r,n){const o=b,l=c("vxe-grid");return f(),g("div",{style:v({height:e.pageHeightPx})},[m(l,y({ref:"gridRef"},e.gridConfig),{toolbar_buttons:p((()=>[m(o,{type:"primary",link:"",onClick:e.handleCustomRefresh},{default:p((()=>[h(" 自定义刷新 ")])),_:1},8,["onClick"])])),_:1},16)],4)}]]))}}}));
