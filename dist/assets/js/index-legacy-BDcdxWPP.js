System.register(["./chunk-libs-legacy-Cpe3fc-c.js","./index-legacy-BAfMP8gN.js","./util-legacy-Dq8EYqYc.js"],(function(e,t){"use strict";var r,i,n,o,a,l,s,c,u,d,f,g,m,p,h,b,y,x,v,R,k,C,P,H,S,w,D,z,I;return{setters:[e=>{r=e.F,i=e.f,n=e.h,o=e.b3,a=e.b4,l=e.b5,s=e.r,c=e.t,u=e.v,d=e.d,f=e.aw,g=e.ax,m=e.aB,p=e.j,h=e.az,b=e.aG,y=e.p,x=e.b6,v=e.S},e=>{R=e.b,k=e.u,C=e.o,P=e.T,H=e.c,S=e.d,w=e.e,D=e.f,z=e._},e=>{I=e.g}],execute:function(){const t={getList:e=>R.get("/demo/list",{params:e})};function _(e){const t=r(0),o=i((()=>t.value+"px")),a=k();return n((()=>{!function(){const r=document.querySelector(".el-scrollbar__wrap.page");t.value=r.scrollHeight-(a.fixedHeader?24:114)-(e?.extraHeight||0)}()})),{pageHeight:t,pageHeightPx:o}}const j=[{label:"管理员",value:"admin"},{label:"普通用户",value:"normal"}],F=[{label:"禁用",value:"0"},{label:"启用",value:"1"}],q=C(j);function J(){const e=s({gridConfig:{id:I(),showOverflow:!0,border:!0,loading:!1,keepSource:!0,height:"auto",resizeConfig:{refreshDelay:10},toolbarConfig:{perfect:!0,custom:!0,refresh:!0,zoom:!0,slots:{buttons:"toolbar_buttons"}},editConfig:{trigger:"click",showStatus:!0},customConfig:{storage:!0},formConfig:{items:[{title:"账号",field:"account",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"昵称",field:"nickname",itemRender:{name:P.Input,props:{placeholder:"请输入"}}},{title:"角色",field:"role",itemRender:{name:P.Select,options:j,props:{placeholder:"请选择"}}},{title:"状态",field:"status",itemRender:{name:P.Select,options:F,props:{placeholder:"请选择"}}},{title:"时间",field:"date",itemRender:{name:P.DatePicker,props:{type:"datetimerange",startPlaceholder:"开始时间",endPlaceholder:"结束时间",format:"YYYY-MM-DD HH:mm:ss"},defaultValue:[H(6),new Date]}},{itemRender:{name:S.FormItemBtns}}]},columns:[{type:"checkbox",width:50},{title:"ID",field:"id"},{title:"账号",field:"account"},{title:"邮箱",field:"email"},{title:"昵称",field:"nickname",editRender:{name:w.Input}},{title:"角色",field:"role",formatter:({cellValue:e})=>q[e]},{title:"状态",field:"status",editRender:{name:w.Select,options:F}},{title:"备注",field:"remark",editRender:{name:w.Input}},{title:"创建时间",field:"createTs",formatter:D.Date}],pagerConfig:{background:!0,layouts:["PrevJump","PrevPage","JumpNumber","NextPage","NextJump","Sizes","FullJump","Total"],pageSize:15},proxyConfig:{seq:!0,form:!0,props:{result:"content",total:"total"},ajax:{query:async({page:e,form:r})=>(r=function(e){return i.processFormDateRanges(e,{date:["start","end"]})}(r),await t.getList({pageSize:e.pageSize,current:e.currentPage,...r}))}}}}),i=function(e){const t=r();function i(){e.value.loading=!0}function n(){e.value.loading=!1}return{gridRef:t,updateFormItem:function(t){const r=e.value.formConfig?.items?.find((e=>e.field===t.field));o(r,t.key,t.value)},showLoading:i,hideLoading:n,refresh:async function(e){try{i(),await(e?.()),await(t.value?.commitProxy("query"))}finally{n()}},processFormDateRanges:function(e,t){const r=Object.keys(t);let i=a(e);for(const n of r){const e=t[n];i[n]?(i[e[0]]=i[n][0],i[e[1]]=i[n][1],i=l(i,[n])):i=l(i,e.concat(n))}return i}}}(c(e,"gridConfig"));return{...u(e),gridExtHook:i,handleCustomRefresh:function(){i.refresh()}}}const L=d({setup(){const{gridExtHook:e,...t}=J(),{pageHeightPx:r}=_();return{...t,gridRef:e.gridRef,pageHeightPx:r}}});e("default",z(L,[["render",function(e,t,r,i,n,o){const a=v,l=f("vxe-grid");return g(),m("div",{style:x({height:e.pageHeightPx})},[p(l,y({ref:"gridRef"},e.gridConfig),{toolbar_buttons:h((()=>[p(a,{type:"primary",link:"",onClick:e.handleCustomRefresh},{default:h((()=>[b(" 自定义刷新 ")])),_:1},8,["onClick"])])),_:1},16)],4)}]]))}}}));
