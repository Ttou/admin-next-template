System.register(["./chunk-libs-legacy-eE8tCPE9.js","./index-legacy-mzGFVIqN.js"],(function(e,t){"use strict";var n,l,a,i,o,r,u,s,c,d,h,p,m,b,_,f,g,v,y,x,w,k,S,C,T,j,O,M,R,V,A,E,D,W,Z,H,P,L,I,B,z,$,K,F,G,J,Q;return{setters:[e=>{n=e.d,l=e.f,a=e.j,i=e.b1,o=e.b2,r=e.b3,u=e.I,s=e.aY,c=e.aZ,d=e.b4,h=e.ar,p=e.al,m=e.b5,b=e.r,_=e.b6,f=e.aj,g=e.v,v=e.b7,y=e.A,x=e.b8,w=e.b9,k=e.au,S=e.ba,C=e.g,T=e.bb,j=e.bc,O=e.bd,M=e.be,R=e.ag,V=e.B,A=e.h,E=e.x,D=e.y,W=e.bf,Z=e.bg,H=e.bh,P=e.bi,L=e.bj,I=e.bk,B=e.bl},e=>{z=e.k,$=e.l,K=e.u,F=e.m,G=e.j,J=e.g,Q=e.n}],execute:function(){var t=document.createElement("style");t.textContent=".logo__guxAe{display:flex;justify-content:center;align-items:center;height:var(--side-logo-height)}.logoIcon__RpGcC{transform:scale(2)}.menu__7wVZi{border-right:none;min-height:calc(100vh - var(--side-logo-height))}.menu__7wVZi .iconify{margin-right:12px;font-size:18px}.menu__7wVZi.el-menu--collapse{width:var(--menu-collapse-width)}.menu__7wVZi.el-menu--collapse .iconify{margin:0}.menu__7wVZi.el-menu--collapse .el-sub-menu__title{justify-content:center;padding:0}.menu__7wVZi>.el-menu-item:hover,.menu__7wVZi .el-sub-menu__title:hover{background-color:var(--menu-hover)!important}.menu__7wVZi .is-active>.el-sub-menu__title{color:var(--sub-menu-active-text)!important}.menu__7wVZi .el-sub-menu .el-menu .el-sub-menu__title,.menu__7wVZi .el-sub-menu .el-menu-item{background-color:var(--sub-menu-bg)!important}.menu__7wVZi .nest-menu .el-sub-menu>.el-sub-menu__title:hover,.menu__7wVZi .el-sub-menu .el-menu-item:hover{background-color:var(--sub-menu-hover)!important}.menu__7wVZi.el-menu--collapse .el-menu-item>.el-menu-tooltip__trigger{justify-content:center}.popper__6mcFT .el-menu--popup .el-sub-menu>.el-sub-menu__title:hover{background-color:var(--sub-menu-hover)!important}.avatarWrapper__fSpCT{display:flex;align-items:center;outline:none}.avatar__thdiM{width:24px;height:24px}.avatarDropdownMenu__QS9oQ svg{margin-right:5px}.breadcrumb__X6SBW{margin-left:20px}.navbar__oMEpT{display:flex;justify-content:space-between;align-items:center;height:100%}.left__32oF1,.right__HxIwx{display:flex;align-items:center;height:100%}.right__HxIwx .el-space__item{min-width:24px;cursor:pointer;text-align:center;line-height:48px}.right__HxIwx .el-space__item:hover{background-color:rgba(0,0,0,.024)}.trigger__MwLP9{font-size:18px;cursor:pointer;transition:color .3s}.tabbar__vE4we{display:flex;justify-content:space-between;height:42px;padding:6px 12px;background-color:#f5f7f9;transition:all .2s ease;z-index:50}.tabbar__vE4we .el-tabs{width:calc(100% - 40px)}.tabbar__vE4we .el-tabs__active-bar{display:none}.tabbar__vE4we .el-tabs__nav-wrap:after{display:none}.tabbar__vE4we .el-tabs__item{display:inline-flex;justify-content:center;align-items:center;height:32px;margin:0 6px 0 0;padding:5px 16px!important;background-color:#fff;border-radius:3px;border:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tabbar__vE4we .el-tabs__nav-prev,.tabbar__vE4we .el-tabs__nav-next{line-height:40px}.tabsMenu__REfEi{flex-grow:0;flex-shrink:0;width:30px;height:30px;line-height:30px;text-align:center;background-color:#fff;border-radius:2px;cursor:pointer;outline:none}.tabsDropdownMenu__j4BGb svg{margin-right:5px}.layout__ka9hA{width:100%;height:100%}.layout__ka9hA .page+.is-horizontal{display:none}.layoutSide__Jaj8o{position:fixed;overflow:hidden;height:100vh;left:0;background-color:var(--menu-bg);z-index:100;transition:all .4s}.layoutMain__7naRu{background-color:#fff;transition:all .4s;height:100%}.layoutHeader__5DDHg{padding:0 12px;background-color:#fff;z-index:100}.layoutContent__3Boka{padding:12px;overflow-x:hidden}\n",document.head.appendChild(t);const q=n({name:"Content",setup(){const e=z();return{cachedTabs:l((()=>e.cachedTabs))}},render(){return a(r,null,{default:({Component:e,route:t})=>a(i,{name:"fade-slide",mode:"out-in",appear:!0},{default:()=>[a(o,{max:20,include:this.cachedTabs},[a(e,{key:t.fullPath},null)])]})})}}),N="logo__guxAe",X="logoIcon__RpGcC",U=n({name:"Logo",render:()=>a("div",{class:N},[a(u,{class:X,icon:"@local:custom:logo"},null)])}),Y=n({name:"MainMenu",props:{item:{type:Object,required:!0}},setup(e){const t=s(),n=c();return{show:l((()=>!!e.item.meta&&!e.item.meta.hidden)),handleJump:function(){t.path!==e.item.path&&n.push(e.item.path).catch((e=>{console.error(e)}))}}},render(){return this.show?a(d,{index:this.item.path,onClick:this.handleJump},{default:()=>this.item.meta.icon?a(u,{icon:this.item.meta.icon},null):null,title:()=>a("span",null,[this.item.meta.title])}):null}}),ee="menu__7wVZi",te="popper__6mcFT",ne=n({name:"SubMenu",props:{item:{type:Object,required:!0}},setup:e=>({onlyOneChild:l((()=>!(1!==e.item.children.length||e.item.meta&&e.item.meta.alwaysShow)))}),render(){return this.onlyOneChild?a(Y,{item:this.item.children[0]},null):a(m,{index:this.item.path,popperClass:te},{title:()=>a(h,null,[this.item.meta.icon?a(u,{icon:this.item.meta.icon},null):null,a("span",null,[this.item.meta.title])]),default:()=>this.item.children.map((e=>e.children?a(p("sub-menu"),{item:e,key:e.path},null):a(Y,{item:e,key:e.path},null)))})}}),le=n({name:"Menu",components:{SubMenu:ne},setup(){const e=b({list:[]}),t=s(),n=$(),a=K(),i=l((()=>_(n.routes))),o=l((()=>a.$state)),r=l((()=>t.path));function u(e,t=""){for(const n of e)if(n.path=t+(n.path.startsWith("/")?n.path:`/${n.path}`),delete n.component,delete n.redirect,n.children){if(0===n.children.length)continue;u(n.children,n.path)}return e}function c(){const t=u(i.value);e.list=t}return f((()=>{c()})),{...g(e),CSS_VARS:F,activeMenu:r,setting:o}},render(){let e;return a(v,{mode:"vertical",class:ee,defaultActive:this.activeMenu,backgroundColor:this.CSS_VARS.menuBg,textColor:this.CSS_VARS.menuText,activeTextColor:this.CSS_VARS.menuActiveText,collapse:!this.setting.sideOpened,collapseTransition:!1,uniqueOpened:!0},"function"==typeof(t=e=this.list.map((e=>e.children?a(ne,{item:e,key:e.path},null):a(Y,{item:e,key:e.path},null))))||"[object Object]"===Object.prototype.toString.call(t)&&!y(t)?e:{default:()=>[e]});var t}}),ae="avatarWrapper__fSpCT",ie="avatar__thdiM",oe="avatarDropdownMenu__QS9oQ",re=n({name:"Avatar",setup(){const e=b({commandMap:{logout:()=>{l.confirm("确认退出登录？","提示",{type:"warning"}).then((async()=>{await n.logout(),t.replace({path:"/login"})})).catch((()=>{}))}}}),t=c(),n=G(),{$msgbox:l}=J();return{handleCommand:function(t){e.commandMap[t]()}}},render(){return a(S,{onCommand:this.handleCommand},{default:()=>a("div",{class:ae},[a(u,{class:ie,icon:"@local:custom:avatar",inline:!0},null)]),dropdown:()=>a(x,{class:oe},{default:()=>[a(w,{command:"logout"},{default:()=>[a(u,{icon:"@local:icon-park-outline:logout",inline:!0},null),a("span",null,[k("退出登录")])]})]})})}}),ue="breadcrumb__X6SBW",se=n({name:"Breadcrumb",setup(){const e=b({breadcrumbs:[]}),t=s();function n(){const n=t.matched,l=[];for(const e of n)"/"!==e.path&&l.push({path:e.path.startsWith("/")?e.path:`/${e.path}`,title:e.meta?.title||"-"});e.breadcrumbs=l}return C((()=>t.path),(e=>{e.startsWith("/redirect/")||n()})),f((()=>{n()})),{...g(e)}},render(){let e;return a(j,{class:ue},"function"==typeof(t=e=this.breadcrumbs.map(((e,t)=>t===this.breadcrumbs.length-1?a(T,null,{default:()=>[e.title]}):a(T,{to:{path:e.path}},{default:()=>[e.title]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!y(t)?e:{default:()=>[e]});var t}}),ce="navbar__oMEpT",de="left__32oF1",he="right__HxIwx",pe=n({name:"ScreenFull",setup(){const{isFullscreen:e,isSupported:t,toggle:n}=O(),{$message:a}=J();return{icon:l((()=>e.value?"@local:icon-park-outline:off-screen":"@local:icon-park-outline:full-screen")),handleClick:function(){t?n():a.warning("浏览器不支持全屏")}}},render(){return a("div",{title:"全屏",onClick:this.handleClick},[a(u,{icon:this.icon,inline:!0},null)])}}),me="trigger__MwLP9",be=n({name:"Trigger",setup(){const e=K(),t=l((()=>!e.sideOpened)),n=l((()=>t.value?"@local:icon-park-outline:menu-unfold":"@local:icon-park-outline:menu-fold"));return{collapsed:t,icon:n,handleClick:function(){e.change({key:"sideOpened",value:t.value})}}},render(){return a(u,{class:me,icon:this.icon,onClick:M(this.handleClick,["native"])},null)}}),_e=n({name:"Navbar",render:()=>a("div",{class:ce},[a("div",{class:de},[a(be,null,null),a(se,null,null)]),a("div",{class:he},[a(R,{size:15},{default:()=>[a(pe,null,null),a(re,null,null)]})])])}),fe="tabbar__vE4we",ge="tabsMenu__REfEi",ve="tabsDropdownMenu__j4BGb",ye=n({name:"Tabbar",setup(){const e=b({activeKey:"",commandMap:{refresh:()=>{a.delCachedTab(t).then((()=>{const{fullPath:e}=t;V((()=>{n.replace({path:"/redirect"+e})}))}))},closeLeft:()=>{a.delLeftTabs(t)},closeRight:()=>{a.delRightTabs(t)},closeOther:()=>{a.delOthersTabs(t)},closeAll:()=>{a.delAllTabs().then((({visitedTabs:e})=>{p(e)}))}}}),t=s(),n=c(),a=z(),i=K(),o=l((()=>a.visitedTabs)),r=l((()=>0===o.value.findIndex((t=>t.fullPath===e.activeKey)))),u=l((()=>o.value.findIndex((t=>t.fullPath===e.activeKey))===o.value.length-1)),d=l((()=>o.value.length<=1));function h(){const{name:n,path:l,fullPath:i}=t;return n&&-1===[Q.LOGIN,Q.ERROR].indexOf(l)&&(a.addTab(t),e.activeKey=i),!1}function p(e){const l=e.slice(-1)[0];l?n.push(l.fullPath):t.name===i.homeRoute.name?n.replace({path:"/redirect"+t.fullPath}):n.replace("/")}return C((()=>t.path),(()=>{h()})),A((()=>{h()})),{...g(e),visitedTabs:o,closeLeftDisabled:r,closeRightDisabled:u,closeOtherDisabled:d,handleCloseTab:function(t){const n=o.value.find((e=>e.fullPath===t));a.delTab(n).then((({visitedTabs:t})=>{(function(t){return e.activeKey===t.fullPath})(n)&&p(t)}))},handleSelectTab:function(e){n.push(e)},handleCommand:function(t){e.commandMap[t]()}}},render(){let e;return a("div",{class:fe},[a(E,{modelValue:this.activeKey,"onUpdate:modelValue":e=>this.activeKey=e,onTabChange:this.handleSelectTab,onTabRemove:this.handleCloseTab},(t=e=this.visitedTabs.map((e=>a(D,{key:e.fullPath,name:e.fullPath,label:e.meta.title,closable:!0},null))),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!y(t)?e:{default:()=>[e]})),a(S,null,{default:()=>a("div",{class:ge},[a(u,{icon:"@local:icon-park-outline:down",inline:!0},null)]),dropdown:()=>a(x,{class:ve},{default:()=>[a(w,{command:"refresh"},{default:()=>[a(u,{icon:"@local:icon-park-outline:redo",inline:!0},null),a("span",null,[k("刷新页面")])]}),a(w,{command:"closeLeft",disabled:this.closeLeftDisabled,divided:!0},{default:()=>[a(u,{icon:"@local:icon-park-outline:to-left",inline:!0},null),a("span",null,[k("关闭左侧")])]}),a(w,{command:"closeRight",disabled:this.closeRightDisabled},{default:()=>[a(u,{icon:"@local:icon-park-outline:to-right",inline:!0},null),a("span",null,[k("关闭右侧")])]}),a(w,{command:"closeOther",disabled:this.closeOtherDisabled,divided:!0},{default:()=>[a(u,{icon:"@local:icon-park-outline:close",inline:!0},null),a("span",null,[k("关闭其它")])]}),a(w,{command:"closeAll"},{default:()=>[a(u,{icon:"@local:icon-park-outline:close-one",inline:!0},null),a("span",null,[k("关闭所有")])]})]})})]);var t}}),xe="layout__ka9hA",we="layoutSide__Jaj8o",ke="layoutMain__7naRu",Se="layoutHeader__5DDHg",Ce="layoutContent__3Boka";e("default",n({name:"DefaultLayout",setup(){const e=K(),t=l((()=>e.$state)),n=l((()=>t.value.sideOpened?t.value.sideOpenedWidth:t.value.sideClosedWidth)),a=l((()=>{const e={};return t.value.sideOpened?(e.marginLeft=t.value.sideOpenedWidth,e.width=`calc(100vw - ${t.value.sideOpenedWidth})`):(e.marginLeft=t.value.sideClosedWidth,e.width=`calc(100vw - ${t.value.sideClosedWidth})`),e})),i=l((()=>{const e={height:F.headerHeight};return t.value.fixedHeader&&(e.position="sticky",e.top="0px"),e})),o=l((()=>{const e={};return t.value.fixedHeader&&(e.position="sticky",e.top=F.headerHeight),e}));return{setting:t,asideWidth:n,mainStyle:a,headerStyle:i,tabbarStyle:o}},render(){const e=()=>a(B,{class:Se,style:this.headerStyle},{default:()=>[a(_e,null,null)]}),t=a(W,{class:Ce},{default:()=>[a(q,null,null)]});return a(P,{class:xe},{default:()=>[a(Z,{class:we,width:this.asideWidth},{default:()=>[a(U,null,null),a(H,null,{default:()=>[a(le,null,null)]})]}),this.setting.fixedHeader?a(P,{class:ke,style:this.mainStyle,direction:"vertical"},{default:()=>{return[a(e,null,null),L(a(ye,{style:this.tabbarStyle},null),[[I,this.setting.tabbar]]),a(H,{wrapClass:"page",wrapStyle:"flex: 1",viewStyle:"display: flex; min-height: 100%;"},(n=t,"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!y(n)?t:{default:()=>[t]}))];var n}}):a(P,{class:ke,style:this.mainStyle,direction:"vertical"},{default:()=>[a(H,{wrapClass:"page",wrapStyle:"flex: 1",viewStyle:"display: flex; flex-direction: column; min-height: 100%;"},{default:()=>[a(e,null,null),L(a(ye,{style:this.tabbarStyle},null),[[I,this.setting.tabbar]]),t]})]})]})}}))}}}));
