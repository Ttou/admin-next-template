import{d as e,ai as a,ak as s,ad as r,r as l,c as n,aG as o,aH as t,G as i,H as p,u,o as d,aI as c,m}from"./vendor.464c5deb.js";import{K as g,A as f,S as v,P as h}from"./index.5883e170.js";var y=e({name:"Login",setup(){const e=a(),m=s(),v=r(g),h=l(!1),y=l(null),w=l({}),C=l(null),b=l({props:{class:"login-form"},items:[{name:"username",type:"input",rules:[{required:!0,message:"请输入账号",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"账号：admin",prefix:n(o,null,null),size:"large"}},{name:"password",type:"input-password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"密码：任意",prefix:n(t,null,null),size:"large",onPressEnter:()=>q()}},{render:()=>n(i,{size:"large",type:"primary",loading:h.value,onClick:q,style:{width:"100%"}},{default:()=>[p("登录")]}),props:{wrapperCol:{span:24}}}]}),k=u((()=>v.state.settings.title));function q(){var e;null==(e=C.value)||e.form.validate().then((()=>{var e;h.value=!0,v.dispatch(f.user.login,null==(e=C.value)?void 0:e.formModel).then((()=>{m.replace({path:y.value||"/",query:w.value})})).finally((()=>{h.value=!1}))})).catch((()=>{}))}return d((()=>{const{query:a}=e;a&&(y.value=a.redirect,w.value=c(a,["redirect"]))})),{title:k,formRef:C,formConfig:b}},render(){return n("div",{class:"login-view"},[n("div",{class:"top"},[n("div",{class:"header"},[n(v,{class:"logo",name:"ant-design"},null),n("span",{class:"title"},[this.title])]),n("div",{class:"desc"},[p("基于 Ant Design 的后台管理系统")])]),n(h,m({ref:"formRef"},this.formConfig),null),n(v,{name:"background",class:"background"},null)])}});export{y as default};
