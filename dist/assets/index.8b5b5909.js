import{d as e,ai as a,ak as s,r,c as l,aG as n,aH as o,G as i,H as t,u as f,o as p,aI as u,m as d}from"./vendor.ab62e078.js";import{a as v,c,S as m,P as g}from"./index.a5ffa2fe.js";var h=e({name:"Login",setup(){const e=a(),d=s(),m=v(),g=c(),h=r(!1),y=r(null),_=r({}),w=r(null),C=r({items:[{name:"username",type:"input",rules:[{required:!0,message:"请输入账号",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"账号：admin",prefix:l(n,null,null),size:"large"}},{name:"password",type:"input-password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"密码：任意",prefix:l(o,null,null),size:"large",onPressEnter:()=>q()}},{render:()=>l(i,{size:"large",type:"primary",loading:h.value,onClick:q,style:{width:"100%"}},{default:()=>[t("登录")]}),props:{wrapperCol:{span:24}}}]}),b=f((()=>m.title));function q(){var e;null==(e=w.value)||e.form.validate().then((()=>{h.value=!0,g.login(w.value.formModel).then((()=>{d.replace({path:y.value||"/",query:_.value})})).finally((()=>{h.value=!1}))})).catch((()=>{}))}return p((()=>{const{query:a}=e;a&&(y.value=a.redirect,_.value=u(a,["redirect"]))})),{title:b,formRef:w,formConfig:C}},render(){return l("div",{class:"_2fvodf0"},[l("div",{class:"_2fvodf1"},[l("div",{class:"_2fvodf2"},[l(m,{class:"_2fvodf3",name:"ant-design"},null),l("span",{class:"_2fvodf4"},[this.title])]),l("div",{class:"_2fvodf5"},[t("基于 Ant Design 的后台管理系统")])]),l(g,d({ref:"formRef",class:"_2fvodf6"},this.formConfig),null),l(m,{class:"_2fvodf7",name:"background"},null)])}});export{h as default};
