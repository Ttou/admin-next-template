import{d as h,al as _,ao as w,r as t,b as e,Q as y,U as c,c as b,o as F,aG as I,m as k}from"./vendor.d02aafb6.js";import{b as C,S as s,P}from"./index.544c8f54.js";import{u as S}from"./useSettingStore.7ef1f143.js";const E="view__uyu0o",q="top__w2bkm",x="header__nY81t",B="logoIcon__43qgn",R="title__6yEth",V="desc__ggigV",z="loginForm__PMp5G",A="backgroundIcon__DZTQP";var o={view:E,top:q,header:x,logoIcon:B,title:R,desc:V,loginForm:z,backgroundIcon:A},M=h({name:"LoginView",setup(){const p=_(),d=w(),m=S(),g=C(),n=t(!1),l=t(null),u=t({}),a=t(null),f=t({items:[{name:"username",type:"input",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u8D26\u53F7\uFF1Aadmin",prefix:e(s,{name:"view-user"},null),size:"large"}},{name:"password",type:"input-password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u5BC6\u7801\uFF1A\u4EFB\u610F",prefix:e(s,{name:"view-lock"},null),size:"large",onPressEnter:()=>i()}},{render:()=>e(y,{size:"large",type:"primary",loading:n.value,onClick:i,style:{width:"100%"}},{default:()=>[c("\u767B\u5F55")]}),props:{wrapperCol:{span:24}}}]}),v=b(()=>m.title);function i(){var r;(r=a.value)==null||r.form.validate().then(()=>{n.value=!0,g.login(a.value.model).then(()=>{d.replace({path:l.value||"/",query:u.value})}).finally(()=>{n.value=!1})}).catch(()=>{})}return F(()=>{const{query:r}=p;r&&(l.value=r.redirect,u.value=I(r,["redirect"]))}),{title:v,formRef:a,formConfig:f}},render(){return e("div",{class:o.view},[e("div",{class:o.top},[e("div",{class:o.header},[e(s,{class:o.logoIcon,name:"logo"},null),e("span",{class:o.title},[this.title])]),e("div",{class:o.desc},[c("\u57FA\u4E8E Ant Design \u7684\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF")])]),e(P,k({ref:"formRef",class:o.loginForm},this.formConfig),null),e(s,{class:o.backgroundIcon,name:"background"},null)])}});export{M as default};
