import{w as z}from"./raf-436af0c2.js";import{u as H,V as W}from"./useConfigInject-bc8cb14d.js";import{d as U,o as j,n as R,h as F,g as G}from"./runtime-core.esm-bundler-d3f66853.js";var N={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},x={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},d=[],f=[];function _(){var a=document.createElement("div"),n=a.style;"AnimationEvent"in window||(delete N.animationstart.animation,delete x.animationend.animation),"TransitionEvent"in window||(delete N.transitionstart.transition,delete x.transitionend.transition);function e(r,p){for(var m in r)if(r.hasOwnProperty(m)){var l=r[m];for(var u in l)if(u in n){p.push(l[u]);break}}}e(N,d),e(x,f)}typeof window<"u"&&typeof document<"u"&&_();function I(a,n,e){a.addEventListener(n,e,!1)}function P(a,n,e){a.removeEventListener(n,e,!1)}var q={startEvents:d,addStartEventListener:function(n,e){if(d.length===0){setTimeout(e,0);return}d.forEach(function(r){I(n,r,e)})},removeStartEventListener:function(n,e){d.length!==0&&d.forEach(function(r){P(n,r,e)})},endEvents:f,addEndEventListener:function(n,e){if(f.length===0){setTimeout(e,0);return}f.forEach(function(r){I(n,r,e)})},removeEndEventListener:function(n,e){f.length!==0&&f.forEach(function(r){P(n,r,e)})}};const b=q;var c;function V(a){return!a||a.offsetParent===null}function J(a){var n=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const Y=U({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,e){var r=e.slots,p=e.expose,m=G(),l=H("",n),u=l.csp,v=l.prefixCls;p({csp:u});var A=null,L=null,y=null,S=!1,s=null,w=!1,M=function(t){if(!w){var i=W(m);!t||t.target!==i||S||k(i)}},C=function(t){!t||t.animationName!=="fadeEffect"||k(t.target)},O=function(){var t=n.insertExtraNode;return t?"".concat(v.value,"-click-animating"):"".concat(v.value,"-click-animating-without-extra-node")},B=function(t,i){var E=n.insertExtraNode,T=n.disabled;if(!(T||!t||V(t)||t.className.indexOf("-leave")>=0)){s=document.createElement("div"),s.className="".concat(v.value,"-click-animating-node");var g=O();if(t.removeAttribute(g),t.setAttribute(g,"true"),c=c||document.createElement("style"),i&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&J(i)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(i)&&i!=="transparent"){var h;(h=u.value)!==null&&h!==void 0&&h.nonce&&(c.nonce=u.value.nonce),s.style.borderColor=i,c.innerHTML=`
        [`.concat(v.value,"-click-animating-without-extra-node='true']::after, .").concat(v.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(i,`;
        }`),document.body.contains(c)||document.body.appendChild(c)}E&&t.appendChild(s),b.addStartEventListener(t,M),b.addEndEventListener(t,C)}},k=function(t){if(!(!t||t===s||!(t instanceof Element))){var i=n.insertExtraNode,E=O();t.setAttribute(E,"false"),c&&(c.innerHTML=""),i&&s&&t.contains(s)&&t.removeChild(s),b.removeStartEventListener(t,M),b.removeEndEventListener(t,C)}},D=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.indexOf("disabled")>=0)){var i=function(T){if(!(T.target.tagName==="INPUT"||V(T.target))){k(t);var g=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");L=setTimeout(function(){return B(t,g)},0),z.cancel(y),S=!0,y=z(function(){S=!1},10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}};return j(function(){R(function(){var o=W(m);o.nodeType===1&&(A=D(o))})}),F(function(){A&&A.cancel(),clearTimeout(L),w=!0}),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)[0]}}});export{Y as W};
