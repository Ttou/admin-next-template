import{d as v,a4 as h,a6 as w,r as n,b as e,B as x,A as d,c as F,o as b,ak as y,m as S}from"./vendor.8caec6d0.js";import{b as I,S as s,P as k}from"./index.dc0dcdf6.js";import{u as C}from"./useSettingStore.1a5d6131.js";const E="index-module__view___3jgWs",P="index-module__top___2EDPL",q="index-module__header___6X70Q",A="index-module__logoIcon___1EQ4e",B="index-module__title___3aAo9",j="index-module__desc___1KMPE",R="index-module__loginForm___2iwFU",z="index-module__backgroundIcon___2q2Kt";var o={view:E,top:P,header:q,logoIcon:A,title:B,desc:j,loginForm:R,backgroundIcon:z},K=v({name:"LoginView",setup(){const c=h(),m=w(),p=C(),_=I(),t=n(!1),l=n(null),u=n({}),a=n(null),g=n({items:[{name:"username",type:"input",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u8D26\u53F7\uFF1Aadmin",prefix:e(s,{name:"view-user"},null),size:"large"}},{name:"password",type:"input-password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u5BC6\u7801\uFF1A\u4EFB\u610F",prefix:e(s,{name:"view-lock"},null),size:"large",onPressEnter:()=>i()}},{render:()=>e(x,{size:"large",type:"primary",loading:t.value,onClick:i,style:{width:"100%"}},{default:()=>[d("\u767B\u5F55")]}),props:{wrapperCol:{span:24}}}]}),f=F(()=>p.title);function i(){var r;(r=a.value)==null||r.form.validate().then(()=>{t.value=!0,_.login(a.value.model).then(()=>{m.replace({path:l.value||"/",query:u.value})}).finally(()=>{t.value=!1})}).catch(()=>{})}return b(()=>{const{query:r}=c;r&&(l.value=r.redirect,u.value=y(r,["redirect"]))}),{title:f,formRef:a,formConfig:g}},render(){return e("div",{class:o.view},[e("div",{class:o.top},[e("div",{class:o.header},[e(s,{class:o.logoIcon,name:"logo"},null),e("span",{class:o.title},[this.title])]),e("div",{class:o.desc},[d("\u57FA\u4E8E Ant Design \u7684\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF")])]),e(k,S({ref:"formRef",class:o.loginForm},this.formConfig),null),e(s,{class:o.backgroundIcon,name:"background"},null)])}});export{K as default};
