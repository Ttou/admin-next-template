import{d as _,al as h,an as w,r as s,b as e,B as b,A as i,c as F,o as y,aB as S,m as I}from"./vendor.568cb1c2.js";import{b as C,S as t,P as E}from"./index.4c6fddc5.js";import{u as P}from"./useSettingStore.a4651d4b.js";const k="view__3jgWs",x="top__2EDPL",B="header__6X70Q",q="logoIcon__1EQ4e",A="title__3aAo9",j="desc__1KMPE",R="loginForm__2iwFU",z="backgroundIcon__2q2Kt";var o={view:k,top:x,header:B,logoIcon:q,title:A,desc:j,loginForm:R,backgroundIcon:z},K=_({name:"LoginView",setup(){const d=h(),p=w(),m=P(),g=C(),n=s(!1),l=s(null),u=s({}),a=s(null),f=s({items:[{name:"username",type:"input",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u8D26\u53F7\uFF1Aadmin",prefix:e(t,{name:"view-user"},null),size:"large"}},{name:"password",type:"input-password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}],props:{wrapperCol:{span:24}},componentProps:{placeholder:"\u5BC6\u7801\uFF1A\u4EFB\u610F",prefix:e(t,{name:"view-lock"},null),size:"large",onPressEnter:()=>c()}},{render:()=>e(b,{size:"large",type:"primary",loading:n.value,onClick:c,style:{width:"100%"}},{default:()=>[i("\u767B\u5F55")]}),props:{wrapperCol:{span:24}}}]}),v=F(()=>m.title);function c(){var r;(r=a.value)==null||r.form.validate().then(()=>{n.value=!0,g.login(a.value.model).then(()=>{p.replace({path:l.value||"/",query:u.value})}).finally(()=>{n.value=!1})}).catch(()=>{})}return y(()=>{const{query:r}=d;r&&(l.value=r.redirect,u.value=S(r,["redirect"]))}),{title:v,formRef:a,formConfig:f}},render(){return e("div",{class:o.view},[e("div",{class:o.top},[e("div",{class:o.header},[e(t,{class:o.logoIcon,name:"logo"},null),e("span",{class:o.title},[this.title])]),e("div",{class:o.desc},[i("\u57FA\u4E8E Ant Design \u7684\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF")])]),e(E,I({ref:"formRef",class:o.loginForm},this.formConfig),null),e(t,{class:o.backgroundIcon,name:"background"},null)])}});export{K as default};
